<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yaoxinjing.github.io","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="人生苦短，我学Java">
<meta property="og:type" content="website">
<meta property="og:title" content="正经星人のBOKE">
<meta property="og:url" content="https://yaoxinjing.github.io/index.html">
<meta property="og:site_name" content="正经星人のBOKE">
<meta property="og:description" content="人生苦短，我学Java">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Yaoxin Jing">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://yaoxinjing.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>正经星人のBOKE</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">正经星人のBOKE</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">学僧一枚</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/17/java-%E8%AF%AD%E6%B3%95%E5%B0%8F%E7%9F%A5%E8%AF%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/17/java-%E8%AF%AD%E6%B3%95%E5%B0%8F%E7%9F%A5%E8%AF%86/" class="post-title-link" itemprop="url">java 语法小知识</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-17 10:28:09 / Modified: 18:00:29" itemprop="dateCreated datePublished" datetime="2020-03-17T10:28:09+01:00">2020-03-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1.java 除法“/”自动取整</p>
<p>2.java 中无法直接申明泛型的数组（generic Array）<br>间接方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenSet</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object[] a;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GenSet</span><span class="params">(<span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        a = <span class="keyword">new</span> Object[s];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">E <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">        <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">        <span class="keyword">final</span> E e = (E) a[i];</span><br><span class="line">        <span class="keyword">return</span> e;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>先声明一个Object Array,再向下转型（cast）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/16/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/16/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree/" class="post-title-link" itemprop="url">Abstract Data Type,Sets,Maps,Binary Search Tree</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-16 16:14:34 / Modified: 18:44:47" itemprop="dateCreated datePublished" datetime="2020-03-16T16:14:34+01:00">2020-03-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-cs61b/" itemprop="url" rel="index"><span itemprop="name">算法学习笔记-cs61b</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Abstract-Data-Type-Sets-Maps-Binary-Search-Tree"><a href="#Abstract-Data-Type-Sets-Maps-Binary-Search-Tree" class="headerlink" title="Abstract Data Type,Sets,Maps,Binary Search Tree"></a>Abstract Data Type,Sets,Maps,Binary Search Tree</h1><ul>
<li>Abstract Data Types</li>
<li>Binary Search Tree (intro)</li>
<li>BST Definitions</li>
<li>BST Operations</li>
<li>Sets vs. Maps, Summary</li>
</ul>
<h2 id="Abstract-Data-Types-interface"><a href="#Abstract-Data-Types-interface" class="headerlink" title="Abstract Data Types(interface)"></a>Abstract Data Types(interface)</h2><p>An    Abstract    Data    Type    (ADT)    is    defined    only    by    its    operations,    not    by    its    implementation.    For example    in    proj1a,    we    developed    an    ArrayDeque    and    a    LinkedListDeque    that    had    the    same methods,    but    how    those    methods    were    written    was    very    different.    In    this    case,    we    say    that ArrayDeque    and    LinkedListDeque    are    implementations    of    the    Deque    ADT.    From    this description,    we    see    that    ADT’s    and    interfaces    are    somewhat    related.    Conceptually,    Deque    is an    interface    for    which    ArrayDeque    and    LinkedListDeque    are    its    implementations.    In    code,    in order    to    express    this    relationship,    we    have    the    ArrayDeque    and    LinkedListDeque    classes inherit    from    the    Deque    interface.</p>
<h3 id="Deque-ADT-interface"><a href="#Deque-ADT-interface" class="headerlink" title="Deque ADT(interface):"></a>Deque ADT(interface):</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">addFirst(Item x);</span><br><span class="line">addLast(Item x);</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">printDeque();</span><br><span class="line"><span class="function">Item <span class="title">removeFirst</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function">Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span></span>;</span><br></pre></td></tr></table></figure>
<p><img src="/assets/Capture12.JPG" alt="Capture12"><img alt="Abstract-Data-Type-Sets-Maps-Binary-Search-Tree-Capture12.JPG" src="/2020/03/16/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree-Capture12.JPG" width height></p>
<h3 id="Another-example-of-an-ADT-The-Stack"><a href="#Another-example-of-an-ADT-The-Stack" class="headerlink" title="Another example of an ADT: The Stack"></a>Another example of an ADT: The Stack</h3><p>The Stack ADT supports the following operations:</p>
<ul>
<li>push(int x): Puts x on top of the stack.</li>
<li>int pop(): Removes and returns the top item from the stack.</li>
</ul>
<h3 id="The-GrabBag-ADT"><a href="#The-GrabBag-ADT" class="headerlink" title="The GrabBag ADT:"></a>The GrabBag ADT:</h3><p>The GrabBag ADT supports the following operations:</p>
<ul>
<li>insert(int x): Inserts x into the grab bag.</li>
<li>int remove(): Removes a random item from the bag.</li>
<li>int sample(): Samples a random item from the bag (without removing!)</li>
<li>int size(): Number of items in the bag.</li>
</ul>
<h3 id="Abstract-Data-Types-in-Java"><a href="#Abstract-Data-Types-in-Java" class="headerlink" title="Abstract Data Types in Java"></a>Abstract Data Types in Java</h3><p>Among the most important interfaces in the java.util library are those that extend the Collection interface (btw interfaces can extend other interfaces).</p>
<ul>
<li>Lists:    an    ordered    set    of    elements<ul>
<li>add(int    i)    :    adds    an    element</li>
<li>int    get(int    i)    :    gets    element    at    index    i</li>
</ul>
</li>
<li>Sets:    an    unordered    set    of    unique    elements    (no    repeats)<ul>
<li>add(int    i)    :    adds    an    element</li>
<li>contains(int    i)    :    returns    a    boolean    for    whether    or    not    the    set    contains    the    value</li>
</ul>
</li>
<li>Maps:    set    of    key/value    pairs<ul>
<li>put(K    key,    V    value)    :    puts    a    key    value    pair    into    the    map</li>
<li>V    get(K    key)    :    gets    the    value    corresponding    to    the    key</li>
</ul>
</li>
</ul>
<blockquote>
<p>Note: Interfaces in Java aren’t purely abstract as(因为) they can contain some implementation details, e.g. default methods.</p>
</blockquote>
<h2 id="Binary-Search-Trees（-binary-search-for-a-linked-list）"><a href="#Binary-Search-Trees（-binary-search-for-a-linked-list）" class="headerlink" title="Binary Search Trees（    binary    search    for    a    linked    list）"></a>Binary Search Trees（    binary    search    for    a    linked    list）</h2><h3 id="Properties-of-trees"><a href="#Properties-of-trees" class="headerlink" title="Properties    of    trees"></a>Properties    of    trees</h3><h4 id="trees"><a href="#trees" class="headerlink" title="trees"></a>trees</h4><p>A tree consists of:</p>
<ul>
<li>A set of nodes.</li>
<li>A set of edges that connect those nodes.<ul>
<li>Constraint(规定): There is exactly one path between any two nodes.（任意两个树中的节点A和B，只有一条路径可以从A到达B,该路径中可能包含多个中间节点）</li>
</ul>
</li>
</ul>
<h4 id="Binary-Trees"><a href="#Binary-Trees" class="headerlink" title="Binary    Trees:"></a>Binary    Trees:</h4><p>in    addition    to    the    above    requirements,    also    hold    the    binary    property constraint.    That    is,    each    node    has    either    0,    1,    or    2    children.</p>
<h4 id="Binary-Search-Trees"><a href="#Binary-Search-Trees" class="headerlink" title="Binary    Search    Trees:"></a>Binary    Search    Trees:</h4><p>in    addition    to    all    of    the    above    requirements,    also    hold    the property    that    For    every    node    X    in    the    tree:</p>
<ul>
<li>Every    key    in    the    left    subtree    is    less    than    X’s    key.</li>
<li>Every    key    in    the    right    subtree    is    greater    than    X’s    key.    **Remember    this    property!! We    will    reference    it    a    lot    throughout    the    duration    of    this    module    and    61B.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">BST</span>&lt;<span class="title">Key</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Key key;</span><br><span class="line">    <span class="keyword">private</span> BST left;</span><br><span class="line">    <span class="keyword">private</span> BST right;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BST</span><span class="params">(Key key,BST left,BST Right)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.key=key;</span><br><span class="line">    <span class="keyword">this</span>.left=left;</span><br><span class="line">    <span class="keyword">this</span>.right=right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BST</span><span class="params">(Key key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key=key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Binary-Search-Tree-Operations"><a href="#Binary-Search-Tree-Operations" class="headerlink" title="Binary    Search    Tree    Operations"></a>Binary    Search    Tree    Operations</h3><h4 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h4><p>We    know    that    the    BST    is    structured    such    that    all    elements    to    the    right    of    a    node    are    greater and    all    elements    to    the    left    are    smaller.    Knowing    this,    we    can    start    at    the    root    node    and compare    it    with    the    element,    X,    that    we    are    looking    for.    If    X    is    greater    to    the    root,    we    move on    to    the    root’s    right    child.    If    its    smaller,    we    move    on    to    the    root’s    left    child.    We    repeat    this process    recursively    until    we    either    find    the    item    or    we    get    to    a    leaf    in    which    case    the    tree does    not    contain    the    item.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> BST <span class="title">find</span><span class="params">(BST T, Key sk)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (T == <span class="keyword">null</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">if</span> (sk.equals(T.key))</span><br><span class="line">      <span class="keyword">return</span> T;</span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span> (sk ≺ T.key)</span><br><span class="line">      <span class="keyword">return</span> find(T.left, sk);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> find(T.right, sk);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>If    our    tree    is    relatively    “bushy”,    the    find    operation    will    run    in    log(n)    time    because    the    height    of the    tree    is    logn,    that’s    pretty    fast!(最大运行时间是从root搜索到leaf,因为树的高度是log(n),所以最大搜索时间也是log(n))</p>
</blockquote>
<h4 id="Insert"><a href="#Insert" class="headerlink" title="Insert"></a>Insert</h4><p>First,    we    search    in    the    tree    for    the    node.    If    we    find    it,    then    we    don’t    do    anything.    If    we    don’t find    it,    we    will    be    at    a    leaf    node    already.    At    this    point,    we    can    just    add    the    new    element    to either    the    left    or    right    of    the    leaf,    preserving(保持)    the    BST    property.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> BST <span class="title">insert</span><span class="params">(BST T, Key ik)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (T == <span class="keyword">null</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> BST(ik);</span><br><span class="line">  <span class="keyword">if</span> (ik ≺ T.key)</span><br><span class="line">    T.left = insert(T.left, ik);</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (ik ≻ T.key)</span><br><span class="line">    T.right = insert(T.right, ik);</span><br><span class="line">  <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h4><p>Deleting    from    a    binary    tree    is    a    little    bit    more    complicated    because    whenever    we    delete,    we need    to    make    sure    we    reconstruct    the    tree    and    still    maintain    its    BST    property.<br>Let’s    break    this    problem    down    into    three    categories:</p>
<ul>
<li>the    node    we    are    trying    to    delete    has    no    children</li>
<li>has    1    child</li>
<li>has    2    children</li>
</ul>
<h5 id="No-children"><a href="#No-children" class="headerlink" title="No    children"></a>No    children</h5><p>If    the    node    has    no    children,    it    is    a    leaf,    and    we    can    just    delete    its    parent    pointer    and    the    node will    eventually    be    swept    away    by    the    garbage    collector</p>
<h5 id="One-child"><a href="#One-child" class="headerlink" title="One    child"></a>One    child</h5><p>If    the    node    only    has    one    child,    we    know    that    the    child    maintains    the    BST    property    with    the parent    of    the    node    because    the    property    is    recursive    to    the    right    and    left    subtrees.    Therefore, we    can    just    reassign    the    parent’s    child    pointer    to    the    node’s    child    and    the    node    will eventually    be    garbage    collected.<br><img src="/assets/Capture13.JPG" alt="Capture13"><img alt="Abstract-Data-Type-Sets-Maps-Binary-Search-Tree-Capture13.JPG" src="/2020/03/16/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree-Capture13.JPG" width height></p>
<blockquote>
<p>删除仅有一个子节点的节点A，将节点A的父节点的指向A的指针指向A的孩子节点即可</p>
</blockquote>
<h5 id="Two-children"><a href="#Two-children" class="headerlink" title="Two    children"></a>Two    children</h5><p>If    the    node    has    two    children,    the    process    becomes    a    little    more    complicated    because    we can’t    just    assign    one    of    the    children    to    be    the    new    root.    This    might    break    the    BST    property.<br>Instead,    we    choose    a    new    node    to    replace    the    deleted    one. We    know    that    the    new    node    must:</p>
<ul>
<li>be    &gt;    than    everything    in    left    subtree.</li>
<li>be    &lt;    than    everything    right    subtree.</li>
</ul>
<p>In    the    below    tree,    we    show    which    nodes    would    satisfy    these    requirements    given    that    we    are trying    to    delete    the        dog        node.</p>
<p><img src="/assets/Capture14.JPG" alt="Capture14"><img alt="Abstract-Data-Type-Sets-Maps-Binary-Search-Tree-Capture14.JPG" src="/2020/03/16/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree/Abstract-Data-Type-Sets-Maps-Binary-Search-Tree-Capture14.JPG" width height></p>
<blockquote>
<p>Cat 是dog 的predecessor ,elf 则是dog 的successor，要删除某一节点，我们只要找到这个节点的的predecessor 或 successor，并将其放在被删除节点的位置即可。</p>
</blockquote>
<blockquote>
<p>Binary search tree 中没有重复节点。<br>To    find    these    nodes,    you    can    just    take    the    right-most    node    in    the    left    subtree    or    the    left-most node    in    the    right    subtree.<br>Then,    we    replace    the        dog        node    with    either        cat        or        elf        and    then    remove    the    old        cat        or    elf        node. This    is    called    Hibbard    deletion,    and    it    gloriously    maintains    the    BST    property    amidst    a deletion.</p>
</blockquote>
<h2 id="BSTs-as-Sets-and-Maps"><a href="#BSTs-as-Sets-and-Maps" class="headerlink" title="BSTs    as    Sets    and    Maps"></a>BSTs    as    Sets    and    Maps</h2><p>We    can    use    a    BST    to    implement    the        Set        ADT!    But    its    even    better    because    in    an    ArraySet, we    have    worst-case    O(n)    runtime    to    run        contains        because    we    need    to    search    the    entire set.    However,    if    we    use    a    BST,    we    can    decrease    this    runtime    to    log(n)    because    of    the    BST property    which    enables    us    to    use    binary    search! We    can    also    make    a    binary    tree    into    a    map    by    having    each    BST    node    hold        (key,value)    pairs    instead    of    singular    values.    We    will    compare    each    element’s    key    in    order    to    determine where    to    place    it    within    our    tree.</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Abstract    data    types    (ADTs)    are    defined    in    terms    of    operations,    not    implementation.<br>Several    useful    ADTs:</p>
<ul>
<li>Disjoint    Sets,    Map,    Set,    List.</li>
<li>Java    provides    Map,    Set,    List    interfaces,    along    with    several    implementations. We’ve    seen    two    ways    to    implement    a    Set    (or    Map):</li>
<li>ArraySet:    Θ(N)    operations    in    the    worst    case.（search an item in set）</li>
<li>BST:    Θ(logN)    operations    if    tree    is    balanced.(search an item in set)<br>BST    Implementations:</li>
<li>Search    and    insert    are    straightforward    (but    insert    is    a    little    tricky).</li>
<li>Deletion    is    more    challenging.    Typical    approach    is    “Hibbard    deletion”.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/16/Asymptotics-II/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/16/Asymptotics-II/" class="post-title-link" itemprop="url">Asymptotics II</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-16 11:29:08 / Modified: 14:37:56" itemprop="dateCreated datePublished" datetime="2020-03-16T11:29:08+01:00">2020-03-16</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-cs61b/" itemprop="url" rel="index"><span itemprop="name">算法学习笔记-cs61b</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Asymptotics-II"><a href="#Asymptotics-II" class="headerlink" title="Asymptotics II"></a>Asymptotics II</h1><ul>
<li>Examples 1-2: For Loops</li>
<li>Example 3: A Basic Recurrence</li>
<li>Example 4: Binary Search</li>
<li>Example 5: Mergesort</li>
</ul>
<h2 id="Example-1-2-For-Loops"><a href="#Example-1-2-For-Loops" class="headerlink" title="Example 1/2:For Loops"></a>Example 1/2:For Loops</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> N = A.length;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i += <span class="number">1</span>)</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; N; j += <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> (A[i] == A[j])</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>
<h3 id="First-Approach-exact-caculation"><a href="#First-Approach-exact-caculation" class="headerlink" title="First Approach(exact caculation)"></a>First Approach(exact caculation)</h3><p>Worst case number of == operations:<br>C = 1 + 2 + 3 + … + (N - 3) + (N - 2) + (N - 1) = N(N-1)/2</p>
<h3 id="Second-Approach"><a href="#Second-Approach" class="headerlink" title="Second Approach"></a>Second Approach</h3><p>Worst case number of == operations:</p>
<ul>
<li>Given by area of right triangle of side length N-1.</li>
<li>Area is Θ(N2).<br><img src="/assets/Capture10.JPG" alt="Capture10"><img alt="Asymptotics-II-Capture10.JPG" src="/2020/03/16/Asymptotics-II/Asymptotics-II-Capture10.JPG" width height></li>
</ul>
<table>
<thead>
<tr>
<th>operation</th>
<th>worst case count</th>
</tr>
</thead>
<tbody><tr>
<td>==</td>
<td>Θ(N^2)</td>
</tr>
</tbody></table>
<h2 id="Loops-Example-2"><a href="#Loops-Example-2" class="headerlink" title="Loops Example 2"></a>Loops Example 2</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printParty</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i = i * <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j += <span class="number">1</span>) &#123;</span><br><span class="line">        System.out.println(<span class="string">"hello"</span>);</span><br><span class="line">        <span class="keyword">int</span> ZUG = <span class="number">1</span> + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There are too many bild and other things that i can’t easily summarize,for this Example we should look the slides Asymptotics II (7-18)</p>
<h3 id="This-is-not-a-math-class-though-we’ll-expect-you-to-know-these"><a href="#This-is-not-a-math-class-though-we’ll-expect-you-to-know-these" class="headerlink" title="This is not a math class, though we’ll expect you to know these"></a>This is not a math class, though we’ll expect you to know these</h3><p>1 + 2 + 3 + … + Q        = Q(Q+1)/2     = Θ(Q2)<br>1 + 2 + 4 + 8 + … + Q     = 2Q - 1         = Θ(Q)</p>
<h2 id="Example-3-Tree-Recursion"><a href="#Example-3-Tree-Recursion" class="headerlink" title="Example 3: Tree Recursion"></a>Example 3: Tree Recursion</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">f3</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (n &lt;= <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">   <span class="keyword">return</span> f3(n-<span class="number">1</span>) + f3(n-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Count number of calls to f3, given by C(N).<br>C(N) = 1 + 2 + 4 + … + 2^(N-1)<br>Give a simple expression for C(N).<br>C(N) = 2^N - 1(by using 1 + 2 + 4 + 8 + … + Q     = 2Q - 1  )</p>
<p><img src="/assets/Capture11.JPG" alt="Capture11"><img alt="Asymptotics-II-Capture11.JPG" src="/2020/03/16/Asymptotics-II/Asymptotics-II-Capture11.JPG" width height></p>
<p>Since work during each call is constant:<br>R(N) =  Θ(2N)</p>
<h2 id="Example-4-Binary-Search"><a href="#Example-4-Binary-Search" class="headerlink" title="Example 4: Binary Search"></a>Example 4: Binary Search</h2><p>Binary    search    is    a    nice    way    of    searching    a    list    for    a    particular    item.    It    requires    the    list    to    be    in sorted    order,    and    uses    that    fact    to    find    an    element    quickly.</p>
<p>To    do    a    binary    search,    we    start    in    the    middle    of    the    list,    and    check    if    that’s    our    desired element.    If    not,    we    ask:    is    this    element    bigger    or    smaller    than    our    element?</p>
<p>If    it’s    bigger,    then    we    know    we    only    have    to    look    at    the    half    of    the    list    with    smaller    elements. If    it’s    too    small,    then    we    only    look    at    the    half    with    bigger    elements.    In    this    way,    we    can    cut    in half    the    number    of    options    we    have    left    at    each    step,    until    we    find    it.</p>
<h3 id="Defination"><a href="#Defination" class="headerlink" title="Defination"></a>Defination</h3><p>Finding a key in a sorted array.</p>
<ul>
<li>Compare key against middle entry.<ul>
<li>Too small, go left.</li>
<li>Too big, go right.</li>
<li>Equal, found.</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(String[] sorted, String x, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span></span></span><br><span class="line"><span class="function">    <span class="title">if</span> <span class="params">(lo &gt; hi)</span> return -1</span>;</span><br><span class="line">    <span class="keyword">int</span> m = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">int</span> cmp = x.compareTo(sorted[m]);</span><br><span class="line">    <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) <span class="keyword">return</span> binarySearch(sorted, x, lo, m - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) <span class="keyword">return</span> binarySearch(sorted, x, m + <span class="number">1</span>, hi);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="What’s-the-intuitive-runtime-of-binary-search"><a href="#What’s-the-intuitive-runtime-of-binary-search" class="headerlink" title="What’s    the    intuitive    runtime    of    binary    search?"></a>What’s    the    intuitive    runtime    of    binary    search?</h3><p>We    start    with    n    options,    then    n/2,    then    n/4    …    until    we    have    just    1.    Each    time,    we    cut    the array    in    half,    so    in    the    end    we    must    perform    a    total    of    log (n)    operations.    Each    of    the    log (n) operations,    eg.    finding    the    middle    element    and    comparing    with    it,    takes    constant    time.    So    the overall    runtime    then    is    order    log (n).</p>
<blockquote>
<p>最坏的情况是搜索整个array,也没有找到想要找到的项，每次将数组一分为二,知道找到最后一个元素，既所要搜索的数列长度为一为止，即：共搜索    log (n)次，因为finding    the    middle    element    and    comparing    这个操花费时间为常数，所有花费时间为:<br>                                 O(log (n))</p>
</blockquote>
<blockquote>
<p>Binary Search Exact caculation :slides 39-50</p>
</blockquote>
<blockquote>
<p>In practice, logarithmic time algorithms(log 函数) have almost constant runtimes.</p>
</blockquote>
<h2 id="Example-5-Mergesort（Improvement-for-Seletionsort）"><a href="#Example-5-Mergesort（Improvement-for-Seletionsort）" class="headerlink" title="Example 5: Mergesort（Improvement for Seletionsort）"></a>Example 5: Mergesort（Improvement for Seletionsort）</h2><h3 id="Selection-sort-works-off-two-basic-steps"><a href="#Selection-sort-works-off-two-basic-steps" class="headerlink" title="Selection    sort    works    off    two    basic    steps:"></a>Selection    sort    works    off    two    basic    steps:</h3><ul>
<li>Find    the    smallest    item    among    the    unsorted    items,    move    it    to    the    front,    and    ‘fix’    it    in place.</li>
<li>Sort    the    remaining    unsorted/unfixed    items    using    selection    sort.</li>
</ul>
<p>If    we    analyze    selection    sort,    we    see    that    it’s    Θ(N^2).</p>
<h3 id="The-Merge-Operation"><a href="#The-Merge-Operation" class="headerlink" title="The Merge Operation"></a>The Merge Operation</h3><p>Given two <strong><em>sorted</em></strong> arrays, the merge operation combines them into a single sorted array by successively copying the smallest item from the two arrays into a target array.</p>
<p>How does the runtime of merge grow with N, the total number of items?<br>C. Θ(N). Why? Use array writes as cost model, merge does exactly N writes.</p>
<h3 id="Mergesort"><a href="#Mergesort" class="headerlink" title="Mergesort"></a>Mergesort</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MergeSort(arr[], l,  r)</span><br><span class="line">If r &gt; l</span><br><span class="line">     <span class="number">1</span>. Find the middle point to divide the array into two halves:</span><br><span class="line">             middle m = (l+r)/<span class="number">2</span></span><br><span class="line">     <span class="number">2</span>. Call mergeSort <span class="keyword">for</span> first half:</span><br><span class="line">             <span class="function">Call <span class="title">mergeSort</span><span class="params">(arr, l, m)</span></span></span><br><span class="line"><span class="function">     3. Call mergeSort <span class="keyword">for</span> second half:</span></span><br><span class="line"><span class="function">             Call <span class="title">mergeSort</span><span class="params">(arr, m+<span class="number">1</span>, r)</span></span></span><br><span class="line"><span class="function">     4. Merge the two halves sorted in step 2 and 3: <span class="params">(将在第二和第三步中已经排序的左边序列和右边序列合成一个数列)</span></span></span><br><span class="line"><span class="function">             Call <span class="title">merge</span><span class="params">(arr, l, m, r)</span></span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>   arbitrary    units    of    time.    While    the    exact    time    something will    take    will    depend    on    the    machine,    on    the    particular    operations,    etc.,    we    can    get    a    general sense    of    time    through    our    arbitrary    units    (AU).</p>
</blockquote>
<blockquote>
<p>notation “~” 代表大约的意思</p>
</blockquote>
<h3 id="Mergesort-has-worst-case-runtime-Θ-N-logN"><a href="#Mergesort-has-worst-case-runtime-Θ-N-logN" class="headerlink" title="Mergesort    has    worst    case    runtime    =    Θ(N logN)."></a>Mergesort    has    worst    case    runtime    =    Θ(N logN).</h3><p>The    top    level    takes    ~N    AU. Next    level    takes    ~N/2    +    ~N/2    =    ~N. One    more    level    down:    ~N/4    +    ~N/4    +    ~N/4    +    ~N/4    =    ~N.</p>
<p>Thus,    total    runtime    is    ~Nk,    where    k    is    the    number    of    levels.</p>
<p>How    many    levels    are    there?    We    split    the    array    until    it    is    length    1,    so    k = log (N).    Thus    the overall    runtime    is    Θ(NlogN).</p>
<blockquote>
<p>将一个有N个元素的序列每次一分为二，知道序列中仅有一个元素，所以有公式 2^C=N，C为将序列一分为二的次数，得到C=log N</p>
</blockquote>
<blockquote>
<p>So    is    Θ(NlogN)    actually    better    than    Θ(N )?    Yes!    It    turns    out    Θ(NlogN)    is    not    much    slower than    linear    time.(NlogN 几乎等效于N)</p>
</blockquote>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ul>
<li><p>There    are    no    magic    shortcuts    for    analyzing    code    runtime.</p>
</li>
<li><p>In    our    course,    it’s    OK    to    do    exact    counting    or    intuitive    analysis.</p>
</li>
<li><p>Know    how    to    sum    1    +    2    +    3    +    …    +    N    and    1    +    2    +    4    +    …    +    N.</p>
</li>
<li><p>Different    solutions    to    the    same    problem,    e.g.    sorting,    may    have    different    runtimes    (with big    enough    differences    for    the    runtime    to    go    from    impractical    to    practical!).</p>
</li>
<li><p>N^2    vs.    NlogN    is    an    enormous    difference. Going    from    NlogN    to    N    is    nice,    but    not    a    radical    change.</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/16/cs-61b-Disjoint-Sets/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/16/cs-61b-Disjoint-Sets/" class="post-title-link" itemprop="url">cs 61b Disjoint Sets</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-16 05:37:33" itemprop="dateCreated datePublished" datetime="2020-03-16T05:37:33+01:00">2020-03-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-18 08:17:02" itemprop="dateModified" datetime="2020-03-18T08:17:02+01:00">2020-03-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-cs61b/" itemprop="url" rel="index"><span itemprop="name">算法学习笔记-cs61b</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="cs-61b-Disjoint-Sets"><a href="#cs-61b-Disjoint-Sets" class="headerlink" title="cs 61b Disjoint Sets"></a>cs 61b Disjoint Sets</h1><h2 id="Defination-of-Disjoint-Sets"><a href="#Defination-of-Disjoint-Sets" class="headerlink" title="Defination of Disjoint Sets"></a>Defination of Disjoint Sets</h2><p>Two    sets    are    named    disjoint    sets    if    they    have    no    elements    in    common.    A    Disjoint-Sets    (or Union-Find)    data    structure    keeps    track    of    a    fixed    number    of    elements    partitioned    into    a number    of    disjoint    sets（持续追踪分布在一定数量下的disjoint sets 中的固定数量的元素）.    The    data    structure    has    two    operations:</p>
<ul>
<li>connect(x,    y)    :    connect        x        and        y    .    Also    known    as        union</li>
<li>isConnected(x,    y)    :    returns    true    if        x        and        y        are    connected    (i.e.    part    of    the    same    set).</li>
</ul>
<blockquote>
<p>A    Disjoint    Sets    data    structure    has    a    fixed    number    of    elements    that    each    start    out    in    their    own subset.    By    calling        connect(x,    y)        for    some    elements        x        and        y    ,    we    merge    subsets together.(合并两个集合）</p>
</blockquote>
<h3 id="Defination-of-Disjoint-sets-interface"><a href="#Defination-of-Disjoint-sets-interface" class="headerlink" title="Defination of Disjoint sets interface"></a>Defination of Disjoint sets interface</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DisjointSets</span></span>&#123;</span><br><span class="line"><span class="comment">/** connects two items P and Q	*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span>;</span><br><span class="line"><span class="comment">/**checks to see if two items are connected */</span></span><br><span class="line"><span class="function"><span class="keyword">boolean</span>	<span class="title">isConnected</span><span class="params">(<span class="keyword">int</span>	p, <span class="keyword">int</span> q)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>As    a reminder,    an    interface    determines    what    behaviors    a    data    structure    should    have    (but    not    how to    accomplish    it)</p>
</blockquote>
<blockquote>
<p>   We    will    discuss    four iterations    of    a    Disjoint    Sets    design    before    being    satisfied:    Quick    Find    →    Quick    Union    → Weighted    Quick    Union    (WQU)    →    WQU    with    Path    Compression.</p>
</blockquote>
<h2 id="Quick-Find-using-a-single-array-of-integers"><a href="#Quick-Find-using-a-single-array-of-integers" class="headerlink" title="Quick    Find(using    a    single    array    of    integers.)"></a>Quick    Find(using    a    single    array    of    integers.)</h2><ul>
<li>The    indices    of    the    array    represent    the    elements    of    our    set.</li>
<li>The    value    at    an    index    is    the    set    number    it    belongs    to.</li>
</ul>
<blockquote>
<p>可以通用数组很快找到两个元素是否在一个集合，所以交quick find（ Θ(1)）</p>
</blockquote>
<p>For    example,    we    represent        {0,    1,    2,    4},    {3,    5},    {6}        as:</p>
<p><img src="/assets/Capture7.PNG" alt="Capture7"><img alt="cs-61b-Disjoint-Sets-Capture7.PNG" src="/2020/03/16/cs-61b-Disjoint-Sets/cs-61b-Disjoint-Sets-Capture7.PNG" width height></p>
<p>The    array    indices    (0…6)    are    the    elements.    The    value    at        id[i]        is    the    set    it    belongs    to.    The specific    set    number    doesn’t    matter    as    long    as    all    elements    in    the    same    set    share    the    same id.</p>
<p><strong><em>connect(x,    y)：</em></strong><br>Let’s    see    how    the    connect    operation    would    work.    Right    now,        id[2]    =    4        and        id[3]    =    5    . After    calling        connect(2,    3)    ,    all    the    elements    with    id    4    and    5    should    have    the    same    id.    Let’s assign    them    all    the    value    5    for    now:</p>
<p>  <img src="/assets/Capture8.PNG" alt="Capture8"><img alt="cs-61b-Disjoint-Sets-Capture8.PNG" src="/2020/03/16/cs-61b-Disjoint-Sets/cs-61b-Disjoint-Sets-Capture8.PNG" width height></p>
<p><strong>*    isConnected(x,    y)：*</strong><br>To    check        isConnected(x,    y)    ,    we    simply    check    if        id[x]    ==    id[y]    .    Note    this    is    a    constant time    operation!<br>We    call    this    implementation    “Quick    Find”    because    finding    if    elements    are    connected    takes constant    time.</p>
<p>Summary    and    Code</p>
<table>
<thead>
<tr>
<th>Implementation</th>
<th>Constructor</th>
<th>connect</th>
<th>isConnected</th>
</tr>
</thead>
<tbody><tr>
<td>ListOfSets</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
</tr>
<tr>
<td>QuickFind</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(1)</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @author Robert Sedgewick</span></span><br><span class="line"><span class="comment"> *  @author Kevin Wayne</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickFindUF</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] id;    <span class="comment">// id[i] = component identifier of i</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;   <span class="comment">// number of components</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Initializes an empty union-find data structure with</span></span><br><span class="line"><span class="comment">     * &#123;<span class="doctag">@code</span> n&#125; elements &#123;<span class="doctag">@code</span> 0&#125; through &#123;<span class="doctag">@code</span> n-1&#125;.</span></span><br><span class="line"><span class="comment">     * Initially, each elements is in its own set.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  n the number of elements</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException if &#123;<span class="doctag">@code</span> n &lt; 0&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">QuickFindUF</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        count = n;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">            id[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the number of sets.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the number of sets (between &#123;<span class="doctag">@code</span> 1&#125; and &#123;<span class="doctag">@code</span> n&#125;)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the canonical element of the set containing element &#123;<span class="doctag">@code</span> p&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  p an element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the canonical element of the set containing &#123;<span class="doctag">@code</span> p&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException unless &#123;<span class="doctag">@code</span> 0 &lt;= p &lt; n&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        validate(p);</span><br><span class="line">        <span class="keyword">return</span> id[p];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// validate that p is a valid index</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validate</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = id.length;</span><br><span class="line">        <span class="keyword">if</span> (p &lt; <span class="number">0</span> || p &gt;= n) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"index "</span> + p + <span class="string">" is not between 0 and "</span> + (n-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns true if the two elements are in the same set.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  p one element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  q the other element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> true&#125; if &#123;<span class="doctag">@code</span> p&#125; and &#123;<span class="doctag">@code</span> q&#125; are in the same set;</span></span><br><span class="line"><span class="comment">     *         &#123;<span class="doctag">@code</span> false&#125; otherwise</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException unless</span></span><br><span class="line"><span class="comment">     *         both &#123;<span class="doctag">@code</span> 0 &lt;= p &lt; n&#125; and &#123;<span class="doctag">@code</span> 0 &lt;= q &lt; n&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@deprecated</span> Replace with two calls to &#123;<span class="doctag">@link</span> #find(int)&#125;.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        validate(p);</span><br><span class="line">        validate(q);</span><br><span class="line">        <span class="keyword">return</span> id[p] == id[q];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Merges the set containing element &#123;<span class="doctag">@code</span> p&#125; with the</span></span><br><span class="line"><span class="comment">     * the set containing element &#123;<span class="doctag">@code</span> q&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  p one element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  q the other element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException unless</span></span><br><span class="line"><span class="comment">     *         both &#123;<span class="doctag">@code</span> 0 &lt;= p &lt; n&#125; and &#123;<span class="doctag">@code</span> 0 &lt;= q &lt; n&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        validate(p);</span><br><span class="line">        validate(q);</span><br><span class="line">        <span class="keyword">int</span> pID = id[p];   <span class="comment">// needed for correctness</span></span><br><span class="line">        <span class="keyword">int</span> qID = id[q];   <span class="comment">// to reduce the number of array accesses</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// p and q are already in the same component</span></span><br><span class="line">        <span class="keyword">if</span> (pID == qID) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; id.length; i++)</span><br><span class="line">            <span class="keyword">if</span> (id[i] == pID) id[i] = qID;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reads an integer &#123;<span class="doctag">@code</span> n&#125; and a sequence of pairs of integers</span></span><br><span class="line"><span class="comment">     * (between &#123;<span class="doctag">@code</span> 0&#125; and &#123;<span class="doctag">@code</span> n-1&#125;) from standard input, where each integer</span></span><br><span class="line"><span class="comment">     * in the pair represents some element;</span></span><br><span class="line"><span class="comment">     * if the elements are in different sets, merge the two sets</span></span><br><span class="line"><span class="comment">     * and print the pair to standard output.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args the command-line arguments</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = StdIn.readInt();</span><br><span class="line">        QuickFindUF uf = <span class="keyword">new</span> QuickFindUF(n);</span><br><span class="line">        <span class="keyword">while</span> (!StdIn.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> p = StdIn.readInt();</span><br><span class="line">            <span class="keyword">int</span> q = StdIn.readInt();</span><br><span class="line">            <span class="keyword">if</span> (uf.find(p) == uf.find(q)) <span class="keyword">continue</span>;</span><br><span class="line">            uf.union(p, q);</span><br><span class="line">            StdOut.println(p + <span class="string">" "</span> + q);</span><br><span class="line">        &#125;</span><br><span class="line">        StdOut.println(uf.count() + <span class="string">" components"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Quick-Union"><a href="#Quick-Union" class="headerlink" title="Quick    Union"></a>Quick    Union</h2><p>Suppose    we    prioritize    making    the        connect        operation    fast.    We    will    still    represent    our    sets with    an    array.    Instead    of    an    id,    we    assign    each    item    the    index    of    its    parent.    If    an    item    has    no parent,    then    it    is    a    ‘root’    and    we    assign    it    a    negative    value.</p>
<p>This    approach    allows    us    to    imagine    each    of    our    sets    as    a    tree.    For    example,    we    represent    {0,    1,    2,    4},    {3,    5},    {6}        as:</p>




<blockquote>
<p>For    QuickUnion    we    define    a    helper    function        find(int    item)        which    returns    the    root    of    the tree        item        is    in.</p>
</blockquote>
<p><strong><em>connect(x,    y)</em></strong><br>To    connect    two    items,    we    find    the    set    that    each    item    belongs    to    (the    roots    of    their    respective trees),    and    make    one    the    child    of    the    other.（分别找到x ，y 所属的树的根节点（root）将其中一个根节点连接到另一个树根节点，使两个树合二为一）</p>
<p><strong><em>isConnected(x,    y)</em></strong><br>If    two    elements    are    part    of    the    same    set,    then    they    will    be    in    the    same    tree.    Thus,    they    will have    the    same    root.    So    for        isConnected(x,    y)        we    simply    check    if        find(x)    ==    find(y)    .</p>
<p><strong><em>Performance</em></strong><br>There    is    a    potential    performance    issue    with    QuickUnion:    the    tree    can    become    very    long.    In this    case,    finding    the    root    of    an    item    (    find(item)    )    becomes    very    expensive.</p>
<p>In    the    worst    case,    we    have    to    traverse    all    the    items    to    get    to    the    root,    which    is    a    Θ(N) runtime.    Since    we    have    to    call        find        for    both        connect        and        isConnected    ,    the    runtime    for both    is    upper    bounded    by    O(N).</p>
<p><strong><em>Summary    and    Code</em></strong></p>
<table>
<thead>
<tr>
<th>Implementation</th>
<th>Constructor</th>
<th>connect</th>
<th>isConnected</th>
</tr>
</thead>
<tbody><tr>
<td>ListOfSets</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
</tr>
<tr>
<td>QuickFind</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(1)</td>
</tr>
<tr>
<td>QuickUnion</td>
<td>Θ(N)</td>
<td>O(N)</td>
<td>O(N)</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Initializes an empty union-find data structure with</span></span><br><span class="line"><span class="comment">     * &#123;<span class="doctag">@code</span> n&#125; elements &#123;<span class="doctag">@code</span> 0&#125; through &#123;<span class="doctag">@code</span> n-1&#125;.</span></span><br><span class="line"><span class="comment">     * Initially, each elements is in its own set.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  n the number of elements</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException if &#123;<span class="doctag">@code</span> n &lt; 0&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">QuickUnionUF</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        count = n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the number of sets.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the number of sets (between &#123;<span class="doctag">@code</span> 1&#125; and &#123;<span class="doctag">@code</span> n&#125;)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">count</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns the canonical element of the set containing element &#123;<span class="doctag">@code</span> p&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  p an element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the canonical element of the set containing &#123;<span class="doctag">@code</span> p&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException unless &#123;<span class="doctag">@code</span> 0 &lt;= p &lt; n&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        validate(p);</span><br><span class="line">        <span class="keyword">while</span> (p != parent[p])</span><br><span class="line">            p = parent[p];</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// validate that p is a valid index</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">validate</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = parent.length;</span><br><span class="line">        <span class="keyword">if</span> (p &lt; <span class="number">0</span> || p &gt;= n) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"index "</span> + p + <span class="string">" is not between 0 and "</span> + (n-<span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns true if the two elements are in the same set.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  p one element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  q the other element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> true&#125; if &#123;<span class="doctag">@code</span> p&#125; and &#123;<span class="doctag">@code</span> q&#125; are in the same set;</span></span><br><span class="line"><span class="comment">     *         &#123;<span class="doctag">@code</span> false&#125; otherwise</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException unless</span></span><br><span class="line"><span class="comment">     *         both &#123;<span class="doctag">@code</span> 0 &lt;= p &lt; n&#125; and &#123;<span class="doctag">@code</span> 0 &lt;= q &lt; n&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@deprecated</span> Replace with two calls to &#123;<span class="doctag">@link</span> #find(int)&#125;.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Deprecated</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">connected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Merges the set containing element &#123;<span class="doctag">@code</span> p&#125; with the</span></span><br><span class="line"><span class="comment">     * the set containing element &#123;<span class="doctag">@code</span> q&#125;.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  p one element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  q the other element</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IllegalArgumentException unless</span></span><br><span class="line"><span class="comment">     *         both &#123;<span class="doctag">@code</span> 0 &lt;= p &lt; n&#125; and &#123;<span class="doctag">@code</span> 0 &lt;= q &lt; n&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootP = find(p);</span><br><span class="line">        <span class="keyword">int</span> rootQ = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootP == rootQ) <span class="keyword">return</span>;</span><br><span class="line">        parent[rootP] = rootQ;</span><br><span class="line">        count--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reads an integer &#123;<span class="doctag">@code</span> n&#125; and a sequence of pairs of integers</span></span><br><span class="line"><span class="comment">     * (between &#123;<span class="doctag">@code</span> 0&#125; and &#123;<span class="doctag">@code</span> n-1&#125;) from standard input, where each integer</span></span><br><span class="line"><span class="comment">     * in the pair represents some element;</span></span><br><span class="line"><span class="comment">     * if the elements are in different sets, merge the two sets</span></span><br><span class="line"><span class="comment">     * and print the pair to standard output.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args the command-line arguments</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = StdIn.readInt();</span><br><span class="line">        QuickUnionUF uf = <span class="keyword">new</span> QuickUnionUF(n);</span><br><span class="line">        <span class="keyword">while</span> (!StdIn.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> p = StdIn.readInt();</span><br><span class="line">            <span class="keyword">int</span> q = StdIn.readInt();</span><br><span class="line">            <span class="keyword">if</span> (uf.find(p) == uf.find(q)) <span class="keyword">continue</span>;</span><br><span class="line">            uf.union(p, q);</span><br><span class="line">            StdOut.println(p + <span class="string">" "</span> + q);</span><br><span class="line">        &#125;</span><br><span class="line">        StdOut.println(uf.count() + <span class="string">" components"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Weighted-Quick-Union-WQU"><a href="#Weighted-Quick-Union-WQU" class="headerlink" title="Weighted    Quick    Union    (WQU)"></a>Weighted    Quick    Union    (WQU)</h2><p>Improving    on    Quick    Union    relies    on    a    key    insight:    whenever    we    call        find    ,    we    have    to    climb to    the    root    of    a    tree.    Thus,    the    shorter    the    tree    the    faster    it    takes!</p>
<blockquote>
<p>New    rule:    whenever    we    call        connect    ,    we    always    link    the    root    of    the    smaller    tree    to    the larger    tree.(在合并两个树之前，看哪个树中的元素少，将元素少的树的根节点连接到元素较多的树的根节点，换句话说，将元素较少的树合并到元素较多的树中)</p>
</blockquote>
<blockquote>
<p>Intuition: We    determine    smaller    /    larger    by    the    number    of    items    in    a    tree.    Thus,    when    connecting    two trees    we    need    to    know    their    size    (or    weight).    We    can    store    this    information    in    the    root    of    the tree    by    replacing    the        -1    ‘s    with        -(size    of    tree)    (将树中元素的个数存在根节点中，判断一个节点是否是根节点的标志是，根节点中存储的元素是否为负，为负则为根节点，为正则表示父节点的位置)</p>
</blockquote>
<p><strong><em>Maximum    height:    Log    N</em></strong> (以2为底数的对数函数)<br>Following    the    above    rule    ensures    that    the    maximum    height    of    any    tree    is    Θ(log    N).    N    is    the number    of    elements    in    our    Disjoint    Sets.    By    extension,    the    runtimes    of        connect        and    isConnected        are    bounded    by    O(log    N).</p>
<p>Why    log    N?    The    video    above    presents    a    more    visual    explanation.    Here’s    an    optional mathematical    explanation    why    the    maximum    height    is    log N.    Imagine    any    element    x    in    tree    T1.    The    depth    of    x    increases    by    1    only    when    T1    is    placed    below    another    tree    T2.    When    that happens,    the    size    of    the    resulting    tree    will    be    at    least    double    the    size    of    T1    because    size(T2) ≥ size(T1).    The    tree    with    x    can    double    at    most    log N    times    until    we’ve    reached    a total    of    N    items    (2^log    N = N).    So    we    can    double    up    to    log N    times    and    each    time,    our    tree adds    a    level    →    maximum    log N    levels.</p>
<blockquote>
<p>运用Weighted    Quick    Union 的规则，一个树从仅有一个元素增长到拥有N个元素，最多可以增长log    N次，且每次增长高度仅仅增加一，所以最大高度为log    N。最坏的情况是，isConnected（）和 connect（） 函数调用find()时，均从某一个树的最底层向上寻找树的根，且这个书的高度为log    N，所以两个函数的最大运行时间为O(log    N)（O（）表示小于等于log    N）<br>详细解释：slids cs61b 2019 lec14 ds1 disjoint sets 47-55</p>
</blockquote>
<p><strong><em>Summary    and    Code</em></strong></p>
<table>
<thead>
<tr>
<th>Implementation</th>
<th>Constructor</th>
<th>connect</th>
<th>isConnected</th>
</tr>
</thead>
<tbody><tr>
<td>ListOfSets</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
</tr>
<tr>
<td>QuickFind</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(1)</td>
</tr>
<tr>
<td>QuickUnion</td>
<td>Θ(N)</td>
<td>O(N)</td>
<td>O(N)</td>
</tr>
<tr>
<td>Weighted    Quick    Union</td>
<td>Θ(N)</td>
<td>O(log    N)</td>
<td>O(log    N)</td>
</tr>
</tbody></table>
<p>Code:</p>
<h2 id="Weighted-Quick-Union-with-Path-Compression-路径压缩-重置"><a href="#Weighted-Quick-Union-with-Path-Compression-路径压缩-重置" class="headerlink" title="Weighted    Quick    Union    with    Path    Compression(路径压缩/重置)"></a>Weighted    Quick    Union    with    Path    Compression(路径压缩/重置)</h2><p>The    clever    insight    is    realizing    that    whenever    we    call        find(x)        we    have    to    traverse    the    path from        x        to    root.    So,    along    the    way    we    can    connect    all    the    items    we    visit    to    their    root    at    no extra    asymptotic    cost.<br>Connecting    all    the    items    along    the    way    to    the    root    will    help    make    our    tree    shorter    with    each call    to        find    .</p>
<blockquote>
<p>在运行find()寻找根节点的同时，将所有路过的几点记下来并在找到根节点之后将这些节点挂在根节点上，大幅降低寻找根节点所花费的时间。</p>
</blockquote>
<p>Recall    that    both        connect(x,    y)        and        isConnected(x,    y)        always    call        find(x)        and    find(y)    .    Thus,    after    calling        connect        or        isConnected        enough,    essentially    all    elements    will point    directly    to    their    root.</p>
<p> By    extension,    the    average    runtime    of        connect        and        isConnected        becomes    almost    constant in    the    long    term!    This    is    called    the    amortized    runtime.</p>
<p>More    specifically,    for    M    operations    on    N    elements,    WQU    with    Path    Compression    is    in    O(N    + M    (lg*    N)).    lg*    is    the    iterated    logarithm    which    is    less    than    5    for    any    real-world    input</p>
<p>Code：Lab 6</p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><table>
<thead>
<tr>
<th>Implementation</th>
<th>Constructor</th>
<th>connect</th>
<th>isConnected</th>
</tr>
</thead>
<tbody><tr>
<td>ListOfSets</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
</tr>
<tr>
<td>QuickFind</td>
<td>Θ(N)</td>
<td>Θ(N)</td>
<td>Θ(1)</td>
</tr>
<tr>
<td>QuickUnion</td>
<td>Θ(N)</td>
<td>O(N)</td>
<td>O(N)</td>
</tr>
<tr>
<td>Weighted    Quick    Union</td>
<td>Θ(N)</td>
<td>O(log    N)</td>
<td>O(log    N)</td>
</tr>
<tr>
<td>WQU    with    Path    Compression</td>
<td>Θ(N)</td>
<td>O(α(N))*</td>
<td>O(α(N))*</td>
</tr>
</tbody></table>
<blockquote>
<p>N:    number    of    elements    in    Disjoint    Set<br>O(α(N))* ：represent a constant.</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/15/cs-61b-13-Asymoptotics-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/15/cs-61b-13-Asymoptotics-1/" class="post-title-link" itemprop="url">cs 61b 13.Asymoptotics 1</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-15 08:14:38" itemprop="dateCreated datePublished" datetime="2020-03-15T08:14:38+01:00">2020-03-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-16 11:27:10" itemprop="dateModified" datetime="2020-03-16T11:27:10+01:00">2020-03-16</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Introduction-to-Asymptotic-Analysis"><a href="#Introduction-to-Asymptotic-Analysis" class="headerlink" title="Introduction to Asymptotic Analysis"></a>Introduction to Asymptotic Analysis</h1><p>We    can    consider    the    process    of    writing    efficient    programs    from    two    different    perspectives:</p>
<ol>
<li>Programming    Cost    (everything    in    the    course    up    to    this    date) i.    How    long    does    it    take    for    you    to    develop    your    programs? ii.    How    easy    is    it    to    read    or    modify    your    code? iii.    How    maintainable    is    your    code?    (very    important    —    much    of    the    cost    comes    from maintenance    and    scalability,    not    development!) 2.    Execution    Cost    (everything    in    the    course    from    this    point    on) i.    Time    complexity:    How    much    time    does    it    take    for    your    program    to    execute? ii.    Space    complexity:    How    much    memory    does    your    program    require?</li>
</ol>
<h2 id="How-to-caculate-the-Excution-Cost"><a href="#How-to-caculate-the-Excution-Cost" class="headerlink" title="How to caculate the Excution Cost"></a>How to caculate the Excution Cost</h2><p>In    most    cases,    we    only    care    about    what    happens    for    very    large    N    (asymptotic    behavior).    We want    to    consider    what    types    of    algorithms    would    best    handle    big    amounts    of    data,    such    as    in the    examples    listed    below:<br>Simulation    of    billions    of    interacting    particles Social    network    with    billions    of    users Encoding    billions    of    bytes    of    video    data Algorithms    that    scale    well    (i.e.    look    like    lines)    have    better    asymptotic    runtime    behavior    than algorithms    that    scale    relatively    poorly    (i.e.    looks    like    parabolas).(We assume that the Input of programme is sehr huge ,under this circunstances we compair which program is more efficient / have less runtime. )</p>
<h3 id="Intuitive-Simplification"><a href="#Intuitive-Simplification" class="headerlink" title="Intuitive    Simplification"></a>Intuitive    Simplification</h3><ol>
<li>Consider    only    the    Worst    Case（假设输入无穷大）</li>
<li>Restrict    Attention    to    One Operation。（挑选一个合适的操作符作为切入点）<br>Pick    some    representative    operation    to    act    as    a    proxy    for    overall    runtime,The    operation    we    choose    can    be    called    the    “cost    model.”</li>
<li>Eliminate    Low    Order    Terms（消除多项式中的低阶项）</li>
<li>Eliminate    Multiplicative    Constants(消除与变量相乘的常数值)。</li>
</ol>
<h3 id="Summary-of-our-Painful-Analysis-Process"><a href="#Summary-of-our-Painful-Analysis-Process" class="headerlink" title="Summary    of    our    (Painful)    Analysis    Process"></a>Summary    of    our    (Painful)    Analysis    Process</h3><ul>
<li>Construct    a    table    of    exact    counts    of    all    possible    operations    (takes    lots    of    effort!) （求所有操作符在输入为N时的运行时间多项式）</li>
<li>Convert    table    into    worst    case    order    of    growth    using    4    simplifications. （用上述四条规则对多项式进行简化）</li>
</ul>
<p>–&gt; too slow</p>
<h4 id="Simplified-Analysis-Process"><a href="#Simplified-Analysis-Process" class="headerlink" title="Simplified    Analysis    Process"></a>Simplified    Analysis    Process</h4><p>Rather    than    building    the    entire    table,    we    can    instead:</p>
<ul>
<li>Choose    our    cost    model    (representative    operation    we    want    to    count).<ul>
<li>Figure    out    the    order    of    growth    for    the    count    of    our    representative    operation    by    either:<ul>
<li>Making    an    exact    count,    and    discarding    unnecessary    pieces Or（忽略不必要的项（低阶项），并进行精确计算）,</li>
<li>using    intuition/inspection    to    determine    orders    of    growth    ((comes    with    practice)(凭直觉得结果，练得多就会了)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="inference-推论"><a href="#inference-推论" class="headerlink" title="inference(推论)"></a>inference(推论)</h5><p><strong><em>Analysis    of    Nested    For    Loops:    Geometric    Argument</em></strong></p>
<ul>
<li>We    can    see    that    the    number    of    equals    can    be    given    by    the    area    of    a    right    triangle,    which has    a    side    length    of    N    -    1</li>
<li>Therefore,    the    order    of    growth    of    area    is    N Takes    time</li>
<li>and    practice    to    be    able    to    do    this!</li>
<li><img src="/assets/Capture6.PNG" alt="Capture6"><img alt="cs-61b-13-Asymoptotics-1-Capture6.PNG" src="/2020/03/15/cs-61b-13-Asymoptotics-1/cs-61b-13-Asymoptotics-1-Capture6.PNG" width height></li>
</ul>
<h2 id="Big-Theta（有上限和下限）"><a href="#Big-Theta（有上限和下限）" class="headerlink" title="Big-Theta（有上限和下限）"></a>Big-Theta（有上限和下限）</h2><p>we    used    Big    Theta    to    describe    the    order    of    growth（增长率）    of    functions    as    well    as    code pieces.    That’s means that    if    R(N) ∈ Θ(f(N)),    then    R(N)    is    both    upper    and    lower    bounded    by    Θ(f(N)).    Describing    runtime    with    both    an    upper    and    lower    bound    can    informally    be    though of    as    runtime    “equality”.</p>
<p>For    example,    N +3N ∈ Θ(N ).    It    is    both    upper    and    lower    bounded    by    N .</p>
<p>Suppose    we    have    a    function    R(N)    with    order    of    growth    f(N).    In    “Big-Theta”    notation    we    write this    as    R(N)    \in    \Theta(f(N)).    This    notation    is    the    formal    way    of    representing    the    “families” we’ve    been    finding    above.<br>Examples    (from    the    checkpoint    above):</p>
<ul>
<li>N +3N    ∈ Θ(N ) (程序的最大运行时间的函数N+3N 的范围上线和下限介于kN之间)</li>
<li>1/N + N ∈ Θ(N )</li>
<li>1/N +5 ∈ Θ(1)</li>
</ul>
<h3 id="Formal-Definition"><a href="#Formal-Definition" class="headerlink" title="Formal    Definition"></a>Formal    Definition</h3><p>R(N) ∈ Θ(f(N))    means    that    there    exists    positive    constants    k ,k    such    that:<br>k ⋅ f(N) ≤ R(N) ≤ k ⋅ f(N),    for    all    values    of    N    greater    than    some    N    (a    very    large    N).</p>
<h3 id="Big-Theta-and-Runtime-Analysis"><a href="#Big-Theta-and-Runtime-Analysis" class="headerlink" title="Big-Theta    and    Runtime    Analysis"></a>Big-Theta    and    Runtime    Analysis</h3><p>Using    this    notation    doesn’t    change    anything    about    how    we    analyze    runtime    (no    need    to    find the    constants    k ,k )!<br>The    only    difference    is    that    we    use    the    Θ    symbol    in    the    place    of    “order    of    growth”    (i.e.    worst case    runtime:    Θ(N ))</p>
<h2 id="Big-O"><a href="#Big-O" class="headerlink" title="Big    O"></a>Big    O</h2><p>Whereas Big Theta can informally be thought of as something  like “equals”, Big O can be thought of as “less than or equal”.<br>Example, the following are all true:</p>
<ul>
<li>N3 + 3N4 ∈ Θ(N4)</li>
<li>N3 + 3N4 ∈ O(N4)</li>
<li>N3 + 3N4 ∈ O(N6)</li>
<li>N3 + 3N4 ∈ O(N!)</li>
<li>N3 + 3N4 ∈ O(NN!)</li>
</ul>
<h3 id="Formal-Definition（R（N）小于等于f-N-）"><a href="#Formal-Definition（R（N）小于等于f-N-）" class="headerlink" title="Formal    Definition（R（N）小于等于f(N)）"></a>Formal    Definition（R（N）小于等于f(N)）</h3><p>Similarly,    here’s    the    formal    definition    of    Big    O:    R(N) ∈ O(f(N))    means    that    there    exists positive    constants    k    such    that:<br>R(N) ≤ k ⋅ f(N)    for    all    values    of    N    greater    than    some    N1    (a    very    large    N).<br>Observe    that    this    is    a    looser    condition    than    Big    Theta(比 Big Theta 弱的条件)    since    Big    O    does    not    care    about    the lower    bound.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/11/cs-61b-7-1-Access-Control/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/11/cs-61b-7-1-Access-Control/" class="post-title-link" itemprop="url">cs 61b 7.1 Access Control</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-11 20:24:35" itemprop="dateCreated datePublished" datetime="2020-03-11T20:24:35+01:00">2020-03-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/11/cs%2061b%206.1%20List,Set,%20ArrySet%20Throwing%20ExceptionsIterationObject%20MethodsEquals%20and%20toString()/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/11/cs%2061b%206.1%20List,Set,%20ArrySet%20Throwing%20ExceptionsIterationObject%20MethodsEquals%20and%20toString()/" class="post-title-link" itemprop="url">cs 61b 6.1 List,Set, ArrySet/ Throwing	Exceptions/Iteration/Object Methods:Equals and toString()</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-11 15:31:27" itemprop="dateCreated datePublished" datetime="2020-03-11T15:31:27+01:00">2020-03-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-17 17:56:04" itemprop="dateModified" datetime="2020-03-17T17:56:04+01:00">2020-03-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="6-1-List-Set-ArrySet"><a href="#6-1-List-Set-ArrySet" class="headerlink" title="6.1 List,Set, ArrySet"></a>6.1 List,Set, ArrySet</h1><p>##Lists    in    Real    Java    Code</p>
<p>Java    provides    a    built-in        List        interface    and    several implementations,    e.g.ArrayList</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.util.List&lt;Integer&gt; L = <span class="keyword">new</span> java.util.ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Remember,    since        List        is    an    interface    we    can’t    instatiate it!    We    must    instatiate    one    of    its    implementations ,but in the contrary we can declare a List Object a to store instaiation of its implementations. By this way we can take advantage of java（Polymorphism）</p>
</blockquote>
<p>However    this    is    a    bit    trouble.Every time wirte so many word to instatiate / declare something.    In    a    similar    way    to    how    we    import        JUnit    ,    we    can    import    java libraries:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>	</span>&#123;</span><br><span class="line">    List&lt;Integer&gt; L = <span class="keyword">new</span> ArrayList&lt;&gt;();								L.add(<span class="number">5</span>);</span><br><span class="line">    L.add(<span class="number">10</span>);</span><br><span class="line">    System.out.println(L);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h2><h3 id="Definition-of-sets"><a href="#Definition-of-sets" class="headerlink" title="Definition of sets"></a>Definition of sets</h3><p>Sets    are    a    collection    of    unique    elements。In set:</p>
<ul>
<li>Only    have    one    copy    of    each    element</li>
<li>There    is    also    no    sense    of    order</li>
</ul>
<h3 id="Built-in-Set-interface-in-java"><a href="#Built-in-Set-interface-in-java" class="headerlink" title="Built-in Set interface in java"></a>Built-in Set interface in java</h3><p>Java    has    the        Set        interface    along    with    implementations,    e.g.        HashSet    .</p>
<blockquote>
<p>Remember    to    import them    if    we don’t    want    to    use    the    full    name!</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>	java.util.Set;</span><br><span class="line"><span class="keyword">import</span>	java.util.HashSet</span><br></pre></td></tr></table></figure>

<h3 id="ArraySet"><a href="#ArraySet" class="headerlink" title="ArraySet"></a>ArraySet</h3><p>Now we want to write our own Set class mit 3 methods:</p>
<ul>
<li>add(value)    :    add    the    value    to    the    set    if    not    already    present</li>
<li>contains(value)    :    check    to    see    if    ArraySet    contains    the    key</li>
<li>size()    :    return    number    of    values</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySet</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size; <span class="comment">// the next item to be added will be at position size</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArraySet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        items = (T[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns true if this map contains a mapping for the specified key.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (items[i].equals(x)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Associates the specified value with the specified key in this map.</span></span><br><span class="line"><span class="comment">       Throws an IllegalArgumentException if the key is null. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns the number of key-value mappings in this map. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Problem:<br>Our    ArraySet    implementation    from    the    previous    section    has    a    small    error.    When    we    add    null        to    our    ArraySet,    we    get    a    NullPointerException.</p>
<p>The    probelm    lies in the    contains method    where    we    check        items[i].equals(x).    Imagining we first add a null in our set.Then we want to add something that isn’t null in our set.Befor add that in set we must to check weather this things is already in set. To do that we call metheod contains(x).the    value at items[0]    is null,    then    we    are    calling    null.equals(x)-&gt; NullPointerException.</p>
<h2 id="6-2-Throwing-Exceptions"><a href="#6-2-Throwing-Exceptions" class="headerlink" title="6.2    Throwing    Exceptions"></a>6.2    Throwing    Exceptions</h2><ol>
<li><p>Definition of Exceptions</p>
<ul>
<li>Exceptions    cause    normal    flow    of    control    to    stop.</li>
</ul>
</li>
<li><p>How to throw    our    own exceptions:</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ExceptionObject(parameter1,	...);</span><br></pre></td></tr></table></figure>

<h3 id="2-Approaches-to-fix-the-issue-caused-by-adding-a-null-in-set"><a href="#2-Approaches-to-fix-the-issue-caused-by-adding-a-null-in-set" class="headerlink" title="2 Approaches to fix the issue caused by adding a null in set"></a>2 Approaches to fix the issue caused by adding a null in set</h3><ol>
<li>Don’t    add        null        to    the    array    if    it    is    passed    into        add<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li>Throw    an    exception    when    a    user    tries    to    add    null    to    our        ArraySet    .    We’ll    throw    an    IllegalArgumentException        which    takes    in    one    parameter    (a        String        message).</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="keyword">null</span>)&#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"can't add null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-3-Iteration"><a href="#6-3-Iteration" class="headerlink" title="6.3 Iteration"></a>6.3 Iteration</h2><h3 id="The-Enhanced-For-Loop"><a href="#The-Enhanced-For-Loop" class="headerlink" title="The Enhanced For Loop"></a>The Enhanced For Loop</h3><p>Java allows us to iterate through Lists and Sets using a convenient shorthand syntax sometimes called the “foreach” or “enhanced for” loop.</p>
<p>For Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; javaset = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">javaset.add(<span class="number">5</span>);</span><br><span class="line">javaset.add(<span class="number">23</span>);</span><br><span class="line">javaset.add(<span class="number">42</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : javaset) &#123;   <span class="comment">//The Enhanced For Loop</span></span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Problem:This doesn’t work with our ArraySet.</p>
</blockquote>
<h3 id="How-Iteration-The-Enhanced-For-Loop-in-build-in-java-Interface-Set-and-class-HashSet-Really-Works"><a href="#How-Iteration-The-Enhanced-For-Loop-in-build-in-java-Interface-Set-and-class-HashSet-Really-Works" class="headerlink" title="How Iteration(The Enhanced For Loop in build in java Interface Set and class HashSet) Really Works"></a>How Iteration(The Enhanced For Loop in build in java Interface Set and class HashSet) Really Works</h3><p>Set.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>“Ugly” iteration:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; javaset =<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">...</span><br><span class="line">Iterator&lt;Integer&gt; seer = javaset.iterator();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (seer.hasNext()) &#123;</span><br><span class="line">  System.out.println(seer.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>hasNext() means weather there is item in the ArrySet thar is not reached.If there is not reached item then return true,instead return false.<br>next():If hasNext() return true ,then we get the next item in the ArrySet which is still not reached.</p>
</blockquote>
<h3 id="Supporting-Ugly-Iteration-in-ArraySets"><a href="#Supporting-Ugly-Iteration-in-ArraySets" class="headerlink" title="Supporting Ugly Iteration in ArraySets"></a>Supporting Ugly Iteration in ArraySets</h3><p>To support ugly iteration:</p>
<ul>
<li>Add an iterator() method to ArraySet that returns an Iterator<T>.</T></li>
<li>The Iterator<T> that we return should have a useful hasNext() and next() method.</T></li>
</ul>
<p>We need to somehow in the iterator() methed get a Object that we can store it in memory box of Iterator<T> ,so that we could build a nested class in class ArrySet whicht implements the Interface Iterator<T>.</T></T></p>
<p>Interface Iterator<T>:</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">T <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>a nested class in class ArrySet whicht implements the Interface Iterator<T>:</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySetIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> wizPos;</span><br><span class="line"> 	<span class="function"><span class="keyword">public</span> <span class="title">ArraySetIterator</span><span class="params">()</span> </span>&#123; wizPos = <span class="number">0</span>; &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> wizPos &lt; size; &#125;</span><br><span class="line"> 	<span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	T returnItem = items[wizPos];</span><br><span class="line">    	wizPos += <span class="number">1</span>;</span><br><span class="line">    	<span class="keyword">return</span> returnItem;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>变量wizPos检查数组的下一个位置是否合法，如果合法返回true，之后系统条用next读取在wizPos处的元素</p>
</blockquote>
<p>iterator() method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> ArraySetIterator();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Our code now supports “ugly” iteration, but enhanced for loop still doesn’t work.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ArraySet&lt;Integer&gt; aset = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">aset.add(<span class="number">5</span>);</span><br><span class="line">aset.add(<span class="number">23</span>);</span><br><span class="line">aset.add(<span class="number">42</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : aset) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Error:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ javac IterationDemo</span><br><span class="line">error: <span class="keyword">for</span>-each not applicable to expression type</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : aset) &#123;</span><br><span class="line">                     ^</span><br><span class="line">  required: array or java.lang.Iterable</span><br><span class="line">  found:    ArraySet&lt;Integer&gt;</span><br></pre></td></tr></table></figure>

<p>The problem: Java isn’t smart enough to realize that our ArraySet has an iterator() method.<br>Luckily there’s an interface for that:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now: we need our ArrySet implements the Iterable<T> interface.</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySet</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="The-Iterable-Interface"><a href="#The-Iterable-Interface" class="headerlink" title="The Iterable Interface"></a>The Iterable Interface</h4><p>By the way, this is how Set works as well:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Iteration-Summary"><a href="#Iteration-Summary" class="headerlink" title="Iteration Summary"></a>Iteration Summary</h4><p>To support the enhanced for loop:</p>
<ul>
<li>Add an iterator() method to your class that returns an Iterator<T>.</T></li>
<li>The Iterator<T> returned should have a useful hasNext() and next() method(add a nested class in ArrySet to implemente interface “Iterator<T>“which has hasNext and next methods).</T></T></li>
<li>Add implements Iterable<T> to the line defining your class.</T></li>
</ul>
<h4 id="code"><a href="#code" class="headerlink" title="code:"></a>code:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySet</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size; <span class="comment">// the next item to be added will be at position size</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArraySet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        items = (T[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns true if this map contains a mapping for the specified key.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (items[i].equals(x)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Associates the specified value with the specified key in this map.</span></span><br><span class="line"><span class="comment">       Throws an IllegalArgumentException if the key is null. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"can't add null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns the number of key-value mappings in this map. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** returns an iterator (a.k.a. seer) into ME */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArraySetIterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySetIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> wizPos;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ArraySetIterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            wizPos = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> wizPos &lt; size;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            T returnItem = items[wizPos];</span><br><span class="line">            wizPos += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> returnItem;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* EXTRA VIDEO CODE</span></span><br><span class="line"><span class="comment">    @Override</span></span><br><span class="line"><span class="comment">    public String toString() &#123;</span></span><br><span class="line"><span class="comment">        List&lt;String&gt; listOfItems = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">        for (T x : this) &#123;</span></span><br><span class="line"><span class="comment">            listOfItems.add(x.toString());</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return "&#123;" + String.join(", ", listOfItems) + "&#125;";</span></span><br><span class="line"><span class="comment">    &#125; */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* EXTRA VIDEO CODE</span></span><br><span class="line"><span class="comment">    public static &lt;Glerp&gt; ArraySet&lt;Glerp&gt; of(Glerp... stuff) &#123;</span></span><br><span class="line"><span class="comment">        ArraySet&lt;Glerp&gt; returnSet = new ArraySet&lt;Glerp&gt;();</span></span><br><span class="line"><span class="comment">        for (Glerp x : stuff) &#123;</span></span><br><span class="line"><span class="comment">            returnSet.add(x);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return returnSet;</span></span><br><span class="line"><span class="comment">    &#125; */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArraySet&lt;Integer&gt; aset = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">        aset.add(<span class="number">5</span>);</span><br><span class="line">        aset.add(<span class="number">23</span>);</span><br><span class="line">        aset.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//iteration</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : aset) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//toString</span></span><br><span class="line">        System.out.println(aset);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//equals</span></span><br><span class="line">        ArraySet&lt;Integer&gt; aset2 = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">        aset2.add(<span class="number">5</span>);</span><br><span class="line">        aset2.add(<span class="number">23</span>);</span><br><span class="line">        aset2.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(aset.equals(aset2));</span><br><span class="line">        System.out.println(aset.equals(<span class="keyword">null</span>));</span><br><span class="line">        System.out.println(aset.equals(<span class="string">"fish"</span>));</span><br><span class="line">        System.out.println(aset.equals(aset));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//EXTRA VIDEO CODE</span></span><br><span class="line">        <span class="comment">//ArraySet&lt;String&gt; asetOfStrings = ArraySet.of("hi", "I'm", "here");</span></span><br><span class="line">        <span class="comment">//System.out.println(asetOfStrings);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Also to do:</span></span><br><span class="line"><span class="comment">    1. Make ArraySet implement the Iterable&lt;T&gt; interface.</span></span><br><span class="line"><span class="comment">    2. Implement a toString method.</span></span><br><span class="line"><span class="comment">    3. Implement an equals() method.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>##Object Methods:Equals and toString()</p>
<h3 id="Content-in-class-Object-（All-classes-are-hyponyms-of-Object-）"><a href="#Content-in-class-Object-（All-classes-are-hyponyms-of-Object-）" class="headerlink" title="Content in class Object （All classes are hyponyms of Object.）"></a>Content in class Object （All classes are hyponyms of Object.）</h3><p><strong><em>String toString()</em></strong><br><strong><em>boolean equals(Object obj)</em></strong><br>Class&lt;?&gt;    getClass() //Imagining a is a instaiation of Object,a.getClass() return the class name  which a come from.<br><strong><em>int hashCode()</em></strong></p>
<p>…</p>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p>The toString() method provides a string representation of an object.</p>
<ul>
<li>System.out.println(Object x) calls x.toString() implicit（隐世呼叫）。</li>
<li>The implementation of toString() in Object is the the name of the class, then an @ sign, then the memory location of the object.<br>See 61C for what the “memory location” really means.</li>
</ul>
<p>for Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; javaset = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">javaset.add(<span class="number">5</span>);</span><br><span class="line">javaset.add(<span class="number">23</span>);</span><br><span class="line">javaset.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(javaset);</span><br></pre></td></tr></table></figure>
<p>result:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ java JavaSetPrintDemo</span><br><span class="line">[<span class="number">5</span>, <span class="number">23</span>, <span class="number">42</span>]</span><br></pre></td></tr></table></figure>

<h4 id="implementing-toString-for-ArraySet"><a href="#implementing-toString-for-ArraySet" class="headerlink" title="implementing toString for ArraySet"></a>implementing toString for ArraySet</h4><ul>
<li>Approach one(slow):<br>Because:Intuition: Adding even a single character to a string creates an entirely new string.(一个string 生成后不能改变，添加一个新的字母只能重新建立新的string)<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String returnString = <span class="string">"&#123;"</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">        returnString += keys[i];</span><br><span class="line">        returnString += <span class="string">", "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    returnString += <span class="string">"&#125;"</span>;</span><br><span class="line">    <span class="keyword">return</span> returnString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Approach two（faster）：<br>Intuition: Append operation for a StringBuilder is fast.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringBuilder returnSB = <span class="keyword">new</span> StringBuilder(<span class="string">"&#123;"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">        returnSB.append(items[i]);</span><br><span class="line">        returnSB.append(<span class="string">", "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    returnSB.append(<span class="string">"&#125;"</span>);</span><br><span class="line">    <span class="keyword">return</span> returnSB.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Equals-vs"><a href="#Equals-vs" class="headerlink" title="Equals vs. =="></a>Equals vs. ==</h3><p>As mentioned in an offhand manner previously,  == and .equals() behave differently.</p>
<p>== compares the bits. For references, == means “referencing the same object.”</p>
<p>To test equality in the sense we usually mean it, use:</p>
<ul>
<li><strong><em>.</em></strong> equals for classes. Requires writing a .equals method for your classes.</li>
<li>Default implementation of .equals uses “==” just like “”==”operation to compare the bits (probably not what you want).<br>BTW: Use Arrays.equal or Arrays.deepEquals for arrays.</li>
</ul>
<p>####The Default Implementation of Equals<br>for Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ArraySet&lt;Integer&gt; aset = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">aset.add(<span class="number">5</span>);</span><br><span class="line">aset.add(<span class="number">23</span>);</span><br><span class="line">aset.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(aset);</span><br><span class="line"></span><br><span class="line">ArraySet&lt;Integer&gt; aset2 = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">aset2.add(<span class="number">5</span>);</span><br><span class="line">aset2.add(<span class="number">23</span>);</span><br><span class="line">aset2.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(aset.equals(aset2));</span><br></pre></td></tr></table></figure>
<p>result:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ java EqualsDemo</span><br><span class="line">False</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
<p>Returns false because the default implementation of equals just uses ==.</p>
<h3 id="ArraySet-equals"><a href="#ArraySet-equals" class="headerlink" title="ArraySet equals"></a>ArraySet equals</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123; <span class="keyword">return</span> <span class="keyword">false</span>; &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span> == o) &#123; <span class="keyword">return</span> <span class="keyword">true</span>; &#125; <span class="comment">// optimization 是否是同一实例</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.getClass() != o.getClass()) &#123; <span class="keyword">return</span> <span class="keyword">false</span>; &#125;<span class="comment">//两个对象是否来自于同一个类</span></span><br><span class="line">  ArraySet&lt;T&gt; other = (ArraySet&lt;T&gt;) o;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.size() != other.size()) &#123; <span class="keyword">return</span> <span class="keyword">false</span>; &#125;</span><br><span class="line">    <span class="keyword">for</span> (T item : <span class="keyword">this</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!other.contains(item)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>We built our own Array based Set implementation.</p>
<p>To make it more industrial strength we:</p>
<ul>
<li>Added an exception if a user tried to add null to the set.<ul>
<li>There are other ways to deal with nulls. Our choice was arguably bad.</li>
</ul>
</li>
<li>Added support for “ugly” then “nice” iteration.<ul>
<li>Ugly iteration: Creating a subclass with next and hasNext methods.</li>
<li>Nice iteration: Declaring that ArraySet implements Iterable.</li>
</ul>
</li>
<li>Added a toString() method.<ul>
<li>Beware of String concatenation.</li>
</ul>
</li>
<li>Added an equals(Object) method.<ul>
<li>Make sure to deal with null and non-ArraySet arguments!</li>
<li>Used getClass to check the class of the passed object. Use sparingly.</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/10/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/10/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs/" class="post-title-link" itemprop="url">CS 61b 4.3 Subtype Polynorphism vs Hofs</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-10 06:06:34" itemprop="dateCreated datePublished" datetime="2020-03-10T06:06:34+01:00">2020-03-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-17 17:57:53" itemprop="dateModified" datetime="2020-03-17T17:57:53+01:00">2020-03-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="4-3-Subtype-Polynorphism-vs-Hofs"><a href="#4-3-Subtype-Polynorphism-vs-Hofs" class="headerlink" title="4.3 Subtype Polynorphism vs Hofs"></a>4.3 Subtype Polynorphism vs Hofs</h1><h2 id="Review-the-dynamic-type-checking"><a href="#Review-the-dynamic-type-checking" class="headerlink" title="Review the dynamic type checking"></a>Review the dynamic type checking</h2><h3 id="The-Rules"><a href="#The-Rules" class="headerlink" title="The Rules"></a>The Rules</h3><ul>
<li>Compiler allows memory box to hold any Subtype</li>
<li>Compuler allows calls based on static type(wenn we use a object variable to call a methed or member,the Compiler would first check whether the method is existing in the class of the object<ul>
<li>get the static type of the object</li>
<li>go into the class which the static come from</li>
<li>check whether the Called methed is existing in the class</li>
<li>if it exists<ul>
<li>Overriden non-static methods are selected an tun time based on dynamic type</li>
<li>Eveything else is based on static type,including overload methods.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>For example:<br>There is two class dog and showdog ,dog is superclass of showdog,dog have a method called bark which is Overriden by it’s subclass showdog.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">object o2=<span class="keyword">new</span> ShowDog(<span class="string">"Mirtimer"</span>,<span class="string">"Corgi"</span>,<span class="number">25</span>,<span class="number">512.2</span>);</span><br><span class="line"></span><br><span class="line">ShowDog sdx =((ShowDog)o2);</span><br><span class="line">sdx.bark();</span><br><span class="line"></span><br><span class="line">Dog dx= ((Dog)o2);</span><br><span class="line">dx.bark();</span><br><span class="line"></span><br><span class="line">((Dog)o2).bark();</span><br><span class="line"></span><br><span class="line">object o3=(Dog)o2;</span><br><span class="line">o3.bark();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>o3.bark() is error(ClassCastException),because object class doesen’t habe bark methed.<br>For static methods,we do not use the term overriding for this.<br>Cast will only temporary change static type of a object variable.</p>
</blockquote>
<h2 id="Subtype-Polymorphism"><a href="#Subtype-Polymorphism" class="headerlink" title="Subtype    Polymorphism"></a>Subtype    Polymorphism</h2><h3 id="Definetion"><a href="#Definetion" class="headerlink" title="Definetion"></a>Definetion</h3><p>In    object-oriented    programming,    polymorphism    relates    to how    an    object    can    be    regarded    as    an    instance    of    its    own    class,    an    instance    of    its    superclass, an    instance    of    its    superclass’s    superclass,    and    so    on. That’s means that variables whicht have static type “superclass”can point to the instance of its subclass.</p>
<p>Consider    a    variable        deque        of    static    type    Deque.    A    call    to        deque.addFirst()        will    be determined    at    the    time    of    execution,    depending    on    the    run-time    type,    or    dynamic    type,    of    deque        when        addFirst        is    called.    As    we    saw    in    the    last    chapter,    Java    picks    which    method    to call    using    dynamic    method    selection.</p>
<h2 id="Max-Function"><a href="#Max-Function" class="headerlink" title="Max    Function"></a>Max    Function</h2><ul>
<li>Our Task:    write    a        max        function    which    takes    in    any    array    -    regardless    of    type    -    and returns    the    maximum    item    in    the    array</li>
</ul>
<h3 id="First-Try"><a href="#First-Try" class="headerlink" title="First Try"></a>First Try</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">max</span><span class="params">(Object[] items)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> maxDex=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;items.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(items[i]&gt;items[maxDex])&#123;</span><br><span class="line">      maxDex=i;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span>	items[maxDex];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">  	Dog[] dogs=&#123;<span class="keyword">new</span> Dog(<span class="string">"Elyse"</span>,<span class="number">3</span>),	<span class="keyword">new</span>	Dog(<span class="string">"Sture"</span>,	<span class="number">9</span>),	<span class="keyword">new</span>	Dog(<span class="string">"Benjamin"</span>,<span class="number">15</span>)&#125;;</span><br><span class="line">    Dog	maxDog=(Dog) max(dogs);</span><br><span class="line">    maxDog.bark();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>error:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(items[i]&gt;items[maxDex])&#123;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The    fundamental    issue    that    gives    rise    to    this    is    that    Objects    cannot    be    compared    with    “&gt;”.</p>
</blockquote>
<h3 id="Modification-and-2-Try"><a href="#Modification-and-2-Try" class="headerlink" title="Modification and 2.Try"></a>Modification and 2.Try</h3><p>We    can    create    an    interface    that    guarantees    that    any    implementing    class,    like    Dog,    contains a    comparison    method,    which    we’ll    call        compareTo    .</p>
<p><img src="/assets/Capture4.PNG" alt="Capture4"><img alt="CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture4.PNG" src="/2020/03/10/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture4.PNG" width height></p>
<p>Let’s    write    our    interface.    We’ll    specify    one    method        “compareTo”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OurComparable</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We    will    define    its    behavior which dog should implement like    so:</p>
<ul>
<li>Return    -1    if        this        &lt;    o.</li>
<li>Return    0    if        this        equals    o.</li>
<li>Return    1    if        this        &gt;    o.</li>
</ul>
<p>We    use    the    instance    variable        size        to    make    our    comparison(比较)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">OurComparable</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n,<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">          name=n;</span><br><span class="line">          size=s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">          System.out.println(name+<span class="string">"says:bark"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>&#123;</span><br><span class="line">          Dog uddaDog=(Dog)o;</span><br><span class="line">          <span class="keyword">if</span>(<span class="keyword">this</span>.size&lt; uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.size==uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now    we    can    generalize    the    max    function，instead    of    taking in    any    arbitrary    array    of    objects,    takes    in OurComparable    objects    ，which    we    know    for    certain all    have    the        compareTo        method    implemented</p>
<blockquote>
<p>now we redefine our neun maximum function. In this function we use the object which has stacit type “OurComparable objects” insdeat of using any arbitrary(原始的) array of Object to compaire the Object in array,since we known interface OurComparable has methed”compareTo” and every class which implement the Interface has rewrite the method,so that we kann use Subtype    Polymorphism to achieve our goal.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OurComparable <span class="title">max</span><span class="params">(OurComparable[] items)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> maxDex=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;items.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">int</span> cmp=items[i].compareTo(items[maxDex]);</span><br><span class="line">    	<span class="keyword">if</span>(cmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        maxDex=i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> items[maxDex];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>Alternativ approach to implement the method in class dog<br>Regel:</p>
<ul>
<li>Return    negative    number    if        this        &lt;    o.</li>
<li>Return    0    if        this        equals    o.</li>
<li>Return    positive    number    if        this        &gt;    o.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>&#123;</span><br><span class="line">  Dog uddaDog = (Dog)o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.size-uddaDog.size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="advantage-of-this-approach"><a href="#advantage-of-this-approach" class="headerlink" title="advantage of this approach:"></a>advantage of this approach:</h4><ul>
<li>No    need    for    maximization    code    in    every    class(i.e.    no        Dog.maxDog(Dog[])    function required</li>
<li>We    have    code    that    operates    on    multiple    types    (mostly)    gracefully(优雅的)</li>
</ul>
<h3 id="Comparanles"><a href="#Comparanles" class="headerlink" title="Comparanles"></a>Comparanles</h3><p>the 2.Try/Approach is not perfect/Comparanles.Because:</p>
<ul>
<li>Awkward    casting    to/from    Objects</li>
<li>When we want to use 2.approach to compaire 2 instance which belong to same class(both habe same static type),we need to implement a Interface called OurComparable in this class.But there is some class (e.g.String,etc.)that are already written by java( No    existing    classes    implement    OurComparable).In this case we can not compare for example 2 string,</li>
</ul>
<h4 id="A-New-Way"><a href="#A-New-Way" class="headerlink" title="A New Way"></a>A New Way</h4><p>We’ll    take    advantage    of    an    interface    that    already    exists    called        Comparable    .    Comparable        is    already    defined    by    Java    and    is    used    by    countless    libraries</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Notice    that    Comparable<T>        means    that    it    takes    a    generic    type.    This    will    help    us    avoid    having to    cast    an    object    to    a    specific    type(OurComparable or Object)!</T></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Dog</span>&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n,<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">          name=n;</span><br><span class="line">          size=s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">          System.out.println(name+<span class="string">"says:bark"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Dog o)</span></span>&#123;</span><br><span class="line">          Dog uddaDog=(Dog)o;</span><br><span class="line">          <span class="keyword">if</span>(<span class="keyword">this</span>.size&lt; uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.size==uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OurComparable <span class="title">max</span><span class="params">(Comparable[] items)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> maxDex=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;items.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">int</span> cmp=items[i].compareTo(items[maxDex]);</span><br><span class="line">    	<span class="keyword">if</span>(cmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        maxDex=i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> items[maxDex];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Comparator"><a href="#Comparator" class="headerlink" title="Comparator"></a>Comparator</h3><h4 id="Why-we-need-Comparator"><a href="#Why-we-need-Comparator" class="headerlink" title="Why we need Comparator"></a>Why we need Comparator</h4><p>With the Interface”Comparable<T>()”we can compare two object according to some Specified order such as size of 2 dogs. But what if we want to compaire other  of object  too, we could not use the Interface “Comparable”,since we have use it to compare size.Thus we need a new way to compair what we what to compair etc.Comparator.</T></p>
<h4 id="what’s-inside-this-interface"><a href="#what’s-inside-this-interface" class="headerlink" title="what’s    inside    this    interface?"></a>what’s    inside    this    interface?</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1,T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This    shows    that    the        Comparator        interface    requires    that    any    implementing    class    implements the        compare        method.    The    rule    for        compare        is    just    like        compareTo    :</p>
<ul>
<li>Return    negative    number    if    o1    &lt;    o2.</li>
<li>Return    0    if    o1    equals    o2.</li>
<li>Return    positive    number    if    o1    &gt;    o2.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Dog</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        name = n;</span><br><span class="line">        size = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Dog uddaDog)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//assume nobody is messing up and giving us</span></span><br><span class="line">        <span class="comment">//something that isn't a dog.</span></span><br><span class="line">        <span class="keyword">return</span> size - uddaDog.size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">int</span> <span class="title">compareDagName</span> <span class="title">implement</span> <span class="title">Comparator</span>&lt;<span class="title">Dog</span>&gt;</span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(Dog o1,Dog o2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.name.compareTo(o2.name);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> stacit compareDagName <span class="title">getCompareDogName</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> compareDagName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">" says: bark"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：不能在其他类中直接实例化Dog 类中的子类 compareDagName,因为这个类是private的，这意味着这个子类仅能在Dog 类中被声明，因此我们需要存取器方法 getCompareDogName。同理也不能直接声明 compareDagName 类，但是因为该子类implement interface Comparator,而 Comparator 是公共的接口，所以我们声明一个Comparator 的对象，将 getCompareDogName中实例化的 compareDagName 存在其中，之后应用java的多态 即可顺利调用compareDagName 中重写的方法 compare（）。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DogLauncher</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Dog d1 = <span class="keyword">new</span> Dog(<span class="string">"Elyse"</span>, <span class="number">3</span>);</span><br><span class="line">        Dog d2 = <span class="keyword">new</span> Dog(<span class="string">"Sture"</span>, <span class="number">9</span>);</span><br><span class="line">        Dog d3 = <span class="keyword">new</span> Dog(<span class="string">"Benjamin"</span>, <span class="number">15</span>);</span><br><span class="line">        Dog[] dogs = <span class="keyword">new</span> Dog[]&#123;d1, d2, d3&#125;;</span><br><span class="line"></span><br><span class="line">        Dog d = (Dog) Maximizer.max(dogs);</span><br><span class="line">        System.out.println(d.name);</span><br><span class="line"></span><br><span class="line">        Comparator&lt;Dog&gt; d2= Dog.getCompareDogName();</span><br><span class="line">        <span class="keyword">if</span>(d2.compare(d1,d2)&gt;<span class="number">0</span>)</span><br><span class="line">          d1.bark();</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          d2.bark();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Maximizer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Comparable <span class="title">max</span><span class="params">(Comparable[] items)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> maxDex = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">		    <span class="keyword">int</span> cmp = items[i].compareTo(items[maxDex]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				maxDex = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> items[maxDex];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>All    in    all,    we    have    a    Dog    class    that    has    a    private    NameComparator    class    and    a    method    that returns    a    NameComparator    we    can    use    to    compare    dogs    alphabetically    by    name.</p>
<p>Let’s    see    how    everything    works    in    the    inheritance    hierarchy    -    we    have    a    Comparator interface    that’s    built-in    to    Java,    which    we    can    implement    to    define    our    own    Comparators (    NameComparator    ,        SizeComparator    ,    etc.)    within    Dog.</p>
<p><img src="/assets/Capture5_cevb69b32.PNG" alt="Capture5"><img alt="CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture5.PNG" src="/2020/03/10/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture5.PNG" width height></p>
<p>To    summarize,    interfaces    in    Java    provide    us    with    the    ability    to    make    callbacks.    Sometimes, a    function    needs    the    help    of    another    function    that    might    not    have    been    written    yet    (e.g.        max    needs        compareTo    ).    A    callback    function    is    the    helping    function    (in    the    scenario,        compareTo    ). In    some    languages,    this    is    accomplished    using    explicit    function    passing;    in    Java,    we    wrap the    needed    function    in    an    interface.<br>A    Comparable    says,    “I    want    to    compare    myself    to    another    object”.    It    is    imbedded    within    the object    itself,    and    it    defines    the    natural    ordering    of    a    type.    A    Comparator,    on    the    other    hand, is    more    like    a    third    party    machine    that    compares    two    objects    to    each    other.    Since    there’s only    room    for    one        compareTo        method,    if    we    want    multiple    ways    to    compare,    we    must    turn    to Comparator.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/09/cs-61b-Extends-Casting-Higher-Order-Functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/09/cs-61b-Extends-Casting-Higher-Order-Functions/" class="post-title-link" itemprop="url">cs 61b 4.1 Extends Casting Higher Order Functions</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-09 15:24:15" itemprop="dateCreated datePublished" datetime="2020-03-09T15:24:15+01:00">2020-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-11 18:22:19" itemprop="dateModified" datetime="2020-03-11T18:22:19+01:00">2020-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Extends-Casting-Higher-Order"><a href="#Extends-Casting-Higher-Order" class="headerlink" title="Extends Casting Higher Order"></a>Extends Casting Higher Order</h1><h2 id="Extends"><a href="#Extends" class="headerlink" title="Extends"></a>Extends</h2><h3 id="Why-we-need-“Extends”-instead-of-always-using-keyword-”implements”"><a href="#Why-we-need-“Extends”-instead-of-always-using-keyword-”implements”" class="headerlink" title="Why we need “Extends” instead of always using keyword *”implements”*"></a>Why we need “Extends” instead of always using keyword <strong>*”implements”*</strong></h3><p>As we know the Keyword <strong><em>implement</em></strong> a hieraichical relationship with interface(interface to interface,interface to class),but what if we want to define a hieraichical relationship between classes? In this case we can’t use keyword”implements” but keyword  <strong><em>extends</em></strong> .</p>
<blockquote>
<p>Advantage of “extends”:<br>Allow subclasses to reuse code from an already defined class.</p>
</blockquote>
<h3 id="How-to-define-this-inheritace-relationship-in-the-class-header"><a href="#How-to-define-this-inheritace-relationship-in-the-class-header" class="headerlink" title="How to define this inheritace relationship in the class header:"></a>How to define this inheritace relationship in the class header:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>	<span class="class"><span class="keyword">class</span>	<span class="title">RotatingSLList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span>	<span class="title">SLList</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>By using thie keyword”extends” the subclass RotatingSLList<Item> get a special relationship called “is a” mit it’s superclass SLList so that RotatingSLList can use member and metheod which are not privat in SLList.<br>Besides that we can make modification by using “Overriding” and add additional functionality to our subclass”RotatingSLList”.</Item></p>
</blockquote>
<h3 id="What-can-subclass-exactly-get-from-it’s-superclass-by-using-keyword”extends”"><a href="#What-can-subclass-exactly-get-from-it’s-superclass-by-using-keyword”extends”" class="headerlink" title="What can subclass exactly get from it’s superclass by using keyword”extends”"></a>What can subclass exactly get from it’s superclass by using keyword”extends”</h3><p>subclass inherit all <strong><em>members</em></strong> of the parent class.<br>“Members” includes:</p>
<ul>
<li>All instance and static variables</li>
<li>All menthods</li>
<li>All nested calsses</li>
</ul>
<blockquote>
<p>Note: Constructors are not inherited,Privat members cannot be directly accessed by subclasses(indirectly use privat member of parent class by using keyword”super”).</p>
</blockquote>
<blockquote>
<p>keyword “super” means that we bypass the child class and use the parent class directly to call any members in parent class regardless of keyword”private”</p>
</blockquote>
<p>For Example:<br>We want to create a new class called “VengefulSLList”,that remembers all items that have been destroyed by method “removeLast”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VengefulSLList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span> <span class="title">SLList</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">        SLList&lt;Item&gt; deletedItems; <span class="comment">//define a new list to store items which are deleted by removeLast()</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span></span>&#123;</span><br><span class="line">          deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">          Item x = <span class="keyword">super</span>.removeLast(); <span class="comment">//use keyword"super" to call privat method in Sllist</span></span><br><span class="line">          deletedItems.addLast(x);</span><br><span class="line">          <span class="keyword">return</span> x;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">         <span class="comment">/**	Prints	deleted	items.	*/</span></span><br><span class="line">        	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printLostItems</span><span class="params">()</span></span>&#123;								deletedItems.print();</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>We can also instantiate the class’s member <strong>*”deletedItems”*</strong> directly in class without using Constructor.(可以在42 行直接实例化deletedItems)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span>	&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//Nested class</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span></span>&#123; <span class="comment">//anyone outsids the class can't access inside.anyone inside can't access outside too</span></span><br><span class="line">    <span class="keyword">public</span> Item item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(Item i,IntNode n)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=n;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentinel;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//empty list</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">     sentinel= <span class="keyword">new</span> IntNode(<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(Item x)</span>	</span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     sentinel= <span class="keyword">new</span> IntNode(<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentinel.next= <span class="keyword">new</span>	IntNode(x,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(Item i)</span></span>&#123;</span><br><span class="line">   size++;</span><br><span class="line">   sentinel.next=<span class="keyword">new</span> Intnode(i, sentinel.next)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> sentinel.next.item;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//iteration</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(Item i)</span></span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     Intnode p =sentinel;</span><br><span class="line">     <span class="keyword">while</span>(p.next !=<span class="keyword">null</span>)&#123;</span><br><span class="line">       p=p.next;</span><br><span class="line">     &#125;</span><br><span class="line">     p.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>); <span class="comment">// note that the lastnode of a list always points to "null"</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//recursion</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//so called helper Metheod that help us to get the lastnode of a List start with the Node P</span></span><br><span class="line">  <span class="function"><span class="keyword">private</span> IntNode <span class="title">getLastNode</span><span class="params">(IntNode p)</span></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(p.next==<span class="keyword">null</span>)  <span class="comment">//basic case</span></span><br><span class="line">       <span class="keyword">return</span> p;</span><br><span class="line">     <span class="keyword">return</span> getLastNode(p.next);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(Item i)</span></span>&#123;</span><br><span class="line">     IntNode last=getlastNode(sentinel);</span><br><span class="line">     last.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">pubulic <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="keyword">for</span>(Node p=sentinel.next;p!=<span class="keyword">null</span>;p=p.next)&#123;</span><br><span class="line">       System.out.print(p.item+<span class="string">"	"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>实现泛型，仅在最外面class处进行声明“<Generic>” 之后将list 中的相关的普通类型比如“int” 换成“Generic” 即可</Generic></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item x)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item y)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x,<span class="keyword">int</span> position)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;size();i+=<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.print(get(i)+<span class="string">"	"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Constructors-are-not-inherited"><a href="#Constructors-are-not-inherited" class="headerlink" title="Constructors are not inherited"></a>Constructors are not inherited</h3><p>While Constructors are not inherited,java requires that all constructors ***must start with a call to one of its superclass’s constructors.Befor the constructors instantiate/initialize all is’t supperclass,it will not initialize it’s members which are only/new difined in it’s own.</p>
<p>Thus,we can eiter explicity make a call to the superclass’s constructor,using the super keyword:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">super</span>();</span><br><span class="line">  deletedItems=<span class="keyword">new</span> Sllist&lt;Item&gt;(); <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or ,if we choose not to,java will automatically make a call to the superclass’s no argument constructor for us.</p>
<p>If we were to define another constructor in VengefulSLList,java’s implicit call may not be what we intend to call.<br>For Example in this cass we must explicity to make a call to the superclass’special constructor which has parameter “Item x”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">(Intem x)</span></span>&#123;</span><br><span class="line">  <span class="keyword">super</span>(x);</span><br><span class="line">  deletedItems=<span class="keyword">new</span> Sllist&lt;Item&gt;(); <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="The-Object-class"><a href="#The-Object-class" class="headerlink" title="The Object class"></a>The Object class</h3><p>Every class in Java is a descendant(后代) of the Object class,or <strong><em>extends</em></strong> the Object class.Even classes that do not have an explicit <strong><em>extends</em></strong> in there class. That’s means that the class still implicitly extend the Object class.This approach let all class have some commen methods such as eqeals(),hashCode(),toString(). This commen metheds let our life more easier.</p>
<blockquote>
<p>interface doesn’t extend Object method</p>
</blockquote>
<p>###Is-a    vs.    Has-a<br>Important    Note:    The        extends        keyword    defines    “is-a”,    or    hypernymic    relationships.A common mistake is to instead    use    it    for    “has-a”,    or    meronymic    relationships.<br>When    extending    a    class, a wise    thing    to    do    would    be    to    ask    yourself    if the    “is-a”    relationship makes    sense.</p>
<ul>
<li>Shower is    a    Bathroom?    No!</li>
<li>VengefulSLList is a    SLList?    Yes!</li>
</ul>
<p>###Encapsulation</p>
<h4 id="Some-of-the-tools-we-can-use-to-fight-complexity"><a href="#Some-of-the-tools-we-can-use-to-fight-complexity" class="headerlink" title="Some    of    the    tools    we    can    use    to    fight    complexity"></a>Some    of    the    tools    we    can    use    to    fight    complexity</h4><ul>
<li>hierarchical    abstraction    (abstraction barriers!) by using interface inheritace/extends</li>
<li>Design    for    change:programs    should    be    built    into    modular,    interchangeable    pieces    that    can    be    swapped    around without    breaking    the    system</li>
<li>hiding    information    that    others    don’t    need(Encapsulation)</li>
</ul>
<p>In    computer    science    terms,    a    module    can    be    defined    as    a    set    of    methods    that    work    together as    a    whole    to    perform    a    task    or    set    of    related    tasks.    This    could    be    something    like    a    class    that represents    a    list.    Now,    if    the    implementation    details    of    a    module    are    kept    internally    hidden and    the    only    way    to    interact    with    it    is    through    a    documented    interface,    then    that    module    is said    to    be    encapsulated.</p>
<img alt="cs-61b-Extends-Casting-Higher-Order-Functions-Capture1.PNG" src="/2020/03/09/cs-61b-Extends-Casting-Higher-Order-Functions/cs-61b-Extends-Casting-Higher-Order-Functions-Capture1.PNG" width height>

<p>Take    the        ArrayDeque        class,    for    example.    The    outside    world    is    able    to    utilize    and    interact    with an        ArrayDeque        through    its    defined    methods,    like        addLast        and        removeLast    .    However,    they need    not    understand    the    complex    details    of    how    the    data    structure    was    implemented    in order    to    be    able    to    use    it    effectively.</p>
<h4 id="Abstraction-Barriers"><a href="#Abstraction-Barriers" class="headerlink" title="Abstraction Barriers"></a>Abstraction Barriers</h4><p>By using the keyword “private” we can ensure that the inside of a box(Encapsulation/封装) can’t been seen.This approach help us to reduce the complexity of reusing a code.</p>
<h4 id="How-Inheritance-Breaks-Encapsulation"><a href="#How-Inheritance-Breaks-Encapsulation" class="headerlink" title="How Inheritance Breaks Encapsulation"></a>How Inheritance Breaks Encapsulation</h4><p>Suppose    we    had    the    following    two    methods    in    a    Dog    class.    We    could    have    implemented    bark        and        barkMany        like    so:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">  System.out.println(<span class="string">"bark"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i+=<span class="number">1</span>)&#123;</span><br><span class="line">      bark();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or,    alternatively,    we    could    have    implemented    it    like    so:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">  barkMany(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i+=<span class="number">1</span>)&#123;</span><br><span class="line">  System.out.println(<span class="string">"bark"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>From    a    user’s    perspective,    the    functionality    of    either    of    these    implementations    is    exactly    the same.    However,    observe    the    effect    if    we    were    to    define    a    a    subclass    of        Dog        called    VerboseDog    ,    and    override    its        barkMany        method    as    such:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  System.out.println(<span class="string">"As a dog,I say:"</span>);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i+=<span class="number">1</span>)&#123;</span><br><span class="line">      bark();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Given    a    VerboseDog vd    ,what    would        vd.barkMany(3)        output,    given    the first    implementation    above?    The    second    implementation?</p>
<ul>
<li>a:    As    a    dog,    I    say:    bark    bark    bark</li>
<li>b:    bark    bark    bark</li>
<li>c:    Something    else</li>
</ul>
<p>As    we    have    seen,    using    the    first    implementation,    the    output    is    A,    while    using    the    second implementation,    the    program    gets    caught    in    an    infinite    loop.    The    call    to        bark()        will    call    barkMany(1)    ,    which    makes    a    call    to        bark()    ,    repeating    the    process    infinitely    many    times,the reason of this is that the both dynamic and static type of Object vd are  VerboseDog,so when we call use vd to call a metheds,vd will check first whether this method is overriding in itself,if so,it will use the overrided methed in itself instead of using the original methode in it’s parrent class.</p>
<h3 id="Type-Checking-and-Casting"><a href="#Type-Checking-and-Casting" class="headerlink" title="Type    Checking    and    Casting"></a>Type    Checking    and    Casting</h3><h4 id="Dynamic-method-selection"><a href="#Dynamic-method-selection" class="headerlink" title="Dynamic    method    selection"></a>Dynamic    method    selection</h4><p>Recall    that dynamic    method    lookup    is    the    process    of    determining    the    method    that    is    executed    at    runtime based    on    the    dynamic    type    of    the    object.    Specifically,    if    a    method    in    SLList    is    overridden    by the    VengefulSLList    class,    then    the    method    that    is    called    at    runtime    is    determined    by    the    runtime    type,    or    dynamic    type,    of    that    variable.</p>
<blockquote>
<p>runtime type means dynamic types<br>compile type means static types</p>
</blockquote>
<p><img src="/assets/Capture2.PNG" alt="Capture2"></p>
<p>Let’s    go    through    this    program.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl=<span class="keyword">new</span> VengefulSLList&lt;Integer&gt;(<span class="number">9</span>);</span><br><span class="line">SLList&lt;Integer&gt;	sl=vsl;</span><br></pre></td></tr></table></figure>
<p>These    two    lines    above    compile    just    fine.    Since        VengefulSLList        “is-an”    SLList,    it’s    valid    to put    an    instance    of    the        VengefulSLList        class    inside    an        SLList        “container”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sl.addLast(<span class="number">50</span>);</span><br><span class="line">sl.removeLast();</span><br></pre></td></tr></table></figure>
<p>These    lines    above    also    compile.    The    call    to        addLast        is    unambiguous,    as    VengefulSLList    did not    override    or    implement    it,    so    the    method    executed    is    in    SLList.    The        removeLast        method is    overridden    by    VengefulSLList,    however,    so    we    take    a    look    at    the    dynamic    type    of        sl    .    Its dynamic    type    is    VengefulSLList,    and    so    dynamic    method    selection    chooses    the    overridden method    in    the    VengefulSLList    class.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sl.printLostItems();</span><br></pre></td></tr></table></figure>
<p>This    line    above    results    in    a    compile-time    error.    Remember    that    the    compiler    determines whether    or    not    something    is    valid    based    on    the    static    type    of    the    object.    Since        sl        is    of static    type    SLList,    and        printLostItems        is    not    defined    in    the    SLList    class,    the    code    will    not    be allowed    to    run,    even    though        sl    ‘s    runtime    type    is    VengefulSLList</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt;	vsl2	=	sl;</span><br></pre></td></tr></table></figure>
<p>This    line    above    also    results    in    a    compile-time    error,    for    a    similar    reason.    In    general,    the compiler    only    allows    method    calls    and    assignments    based    on    compile-time    types.    Since    the compiler    only    sees    that    the    static    type    of        sl        is    SLList,    it    will    not    allow    a    VengefulSLList “container”    to    hold    it.</p>
<h4 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions"></a>Expressions</h4><p>Like    variables    as    seen    above,    expressions    using    the        new        keyword    also    have    (static type)compile-time types.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SLList&lt;Integer&gt; sl=<span class="keyword">new</span> VengefulSLList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>Above,    the    compile-time    type    of    the    right-hand    side    of    the    expression    is    VengefulSLList.    The compiler    checks    to    make    sure    that    VengefulSLList    “is-a”    SLList,    and    allows    this    assignment,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl=<span class="keyword">new</span> SLList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>Above,    the    compile-time    type    of    the    right-hand    side    of    the    expression    is    SLList.    The    compiler checks    if    SLList    “is-a”    VengefulSLList,    which    it    is    not    in    all    cases,    and    thus    a    compilation error    results.<br>Further,    method    calls    have    compile-time    types    equal    to    their    declared    type.    Suppose    we have    this    method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Dog <span class="title">maxDog</span><span class="params">(Dog d1,Dog d2)</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>Since    the    return    type    of        maxDog        is    Dog,    any    call    to        maxDog        will    have    compile-time    type    Dog.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Poodle frank=<span class="keyword">new</span> Poodle(<span class="string">"Frank"</span>,<span class="number">5</span>);</span><br><span class="line">Poodle frankJr=<span class="keyword">new</span> Poodle(<span class="string">"Frank Jr."</span>,<span class="number">15</span>);</span><br><span class="line">Dog largerDog=maxDog(frank,frankJr);</span><br><span class="line">Poodle largerPoodle=maxDog(frank,frankJr);<span class="comment">//does not compile! RHS has compile-time type Dog</span></span><br></pre></td></tr></table></figure>
<p>Assigning    a    Dog    object    to    a    Poodle    variable,    like    in    the    SLList    case,    results    in    a    compilation error.    A    Poodle    “is-a”    Dog,    but    a    more    general    Dog    object    may    not    always    be    a    Poodle,    even if    it    clearly    is    to    you    and    me    (we    know    that        frank        and        frankJr        are    both    Poodles!).    Is    there any    way    around    this,    when    we    know    for    certain    that    assignment    would    work?</p>
<h4 id="Casting"><a href="#Casting" class="headerlink" title="Casting"></a>Casting</h4><p>Java    has    a    special    syntax    where    you    can    tell    the    compiler    that    a    specific    expression    has    a specific    compile-time    type.    This    is    called    “casting”.    With    casting,    we    can    tell    the    compiler    to view    an    expression    as    a    different    (static type)compile-time    type.</p>
<p>Looking    back    at    the    code    that    failed    above,    since    we    know    that        frank        and        frankJr        are both    Poodles,    we    can    cast:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Poodle largerPoodle=(Poodle)maxDog(frank,frankJr);<span class="comment">//compiles!Right hand side has compile-time type Poodle after casting</span></span><br></pre></td></tr></table></figure>

<p>Caution:    Casting    is    a    powerful    but    dangerous    tool.    Essentially,    casting    is    telling    the    compiler not    to    do    its    type-checking    duties    -    telling    it    to    trust    you    and    act    the    way    you    want    it    to.    Here’s a    possible    issue    that    could    arise:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Poodle frank=<span class="keyword">new</span> Poodle(<span class="string">"Frank"</span>,<span class="number">5</span>);</span><br><span class="line">Malamute frankSr=<span class="keyword">new</span> Malamute(<span class="string">"Frank Sr."</span>, <span class="number">100</span>); <span class="comment">//另外一个狗的类</span></span><br><span class="line">Poodle largerPoodle=(Poodle) maxDog(frank,frankSr);	<span class="comment">//runtime exception!</span></span><br></pre></td></tr></table></figure>
<p>In    this    case,    we    compare    a    Poodle    and    a    Malamute.    Without    casting,    the    compiler    would normally    not    allow    the    call    to        maxDog        to    compile,    as    the    right    hand    side    compile-time    type would    be    Dog,    not    Poodle.    However,    casting    allows    this    code    to    pass,    and    when        maxDog    returns    the    Malamute    at    runtime,    and    we    try    casting    a    Malamute    as    a    Poodle,    we    run    into    a runtime    exception    -    a        ClassCastException    .</p>
<h3 id="Higher-Order-Functions"><a href="#Higher-Order-Functions" class="headerlink" title="Higher    Order    Functions"></a>Higher    Order    Functions</h3><p>Taking    a    little    bit    of    a    detour,    we    are    going    to    introduce    higher    order    functions.    A    higher    order function    is    a    function    that    treats    other    functions    as    data. For example in phython:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def tenX(x):</span><br><span class="line">return 10*x</span><br><span class="line">def do_twice(f,x):</span><br><span class="line">return f(f(x))</span><br></pre></td></tr></table></figure>
<p>A    call    to        print(do_twice(tenX,    2))        would    apply    tenX    to    2,    and    apply    tenX    again    to    its    result, 20,    resulting    in    200.</p>
<p>How    would    we    do    something    like    this    in    Java?</p>
<p>In    old    school    Java    (Java    7    and    earlier),    memory    boxes    (variables)    could    not    contain    pointers to    functions.    What    that    means    is    that    we    could    not    write    a    function    that    has    a    “Function” type,    as    there    was    simply    no    type    for    functions.<br>To    get    around    this    we    can    take    advantage    of    interface    inheritance.    Let’s    write    an    interface that    defines    any    function    that    takes    in    an    integer    and    returns    an    integer    -    an    IntUnaryFunction</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntUnaryFunction</span></span>&#123;</span><br><span class="line">  	<span class="function"><span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now    we    can    write    a    class    which        implements    IntUnaryFunction        to    represent    a    concrete function.    Let’s    make    a    function    that    takes    in    an    integer    and    returns    10    times    that    integer.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TenX</span> <span class="keyword">implements</span> <span class="title">IntUnaryFunction</span></span>&#123;</span><br><span class="line"><span class="comment">/*	Returns ten times the argument.	*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>*x;</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>##Inheritance    Cheatsheet</p>
<p>Variables,    methods    nested    classes Not    constructors    Subclass    constructors    must    invoke    superclass    constructor    first.    The    super        keyword    can    be    used    to    invoke    overridden    superclass    methods    and constructors.</p>
<p>Invocation    of    overridden    methods    follows    two    simple    rules:</p>
<ul>
<li>Compiler    plays    it    safe    and    only    allows    us    to    do    things    according    to    the    static    type.</li>
<li>For    overridden    methods    (not    overloaded    methods),    the    actual    method    invoked    is    based on    the    dynamic    type    of    the    invoking    expression</li>
<li>Can    use    casting    to    overrule    compiler    type    checking.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yaoxinjing.github.io/2020/03/09/cs-61b-4-1-Interface-and-Implementation-Inheritance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/09/cs-61b-4-1-Interface-and-Implementation-Inheritance/" class="post-title-link" itemprop="url">cs 61b 4.1 Interface and Implementation Inheritance</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-09 08:12:02" itemprop="dateCreated datePublished" datetime="2020-03-09T08:12:02+01:00">2020-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-11 18:27:49" itemprop="dateModified" datetime="2020-03-11T18:27:49+01:00">2020-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="4-1-Interface-and-Implementation-Inheritance"><a href="#4-1-Interface-and-Implementation-Inheritance" class="headerlink" title="4.1 Interface and Implementation Inheritance"></a>4.1 Interface and Implementation Inheritance</h1><h2 id="Method-Overloading-in-java"><a href="#Method-Overloading-in-java" class="headerlink" title="Method Overloading in java"></a>Method Overloading in java</h2><p>The meaning of this is pretty easy. Wenn 2 methods in a class have same name but different parameters, the 2 method called overloading. Wenn we call a method which is overloaded in a class ,compile will automatically identify which method should be used according to the specific parameter.</p>
<p>For example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List <span class="class"><span class="keyword">class</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longest</span><span class="params">(AList&lt;String&gt; list)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longest</span><span class="params">(SList&lt;String&gt; list)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Signature of a method: public static String longest(AList<String> list)<br>Name of a method: public static String longest<br>Parameter of a method: AList <String> list</String></String></p>
</blockquote>
<h3 id="why-we-don’t-want-to-use-Overloading"><a href="#why-we-don’t-want-to-use-Overloading" class="headerlink" title="why we don’t want to use Overloading"></a>why we don’t want to use Overloading</h3><p>One disadvantage of Overloading is imaging that a class have 100 methods which have same name bud different paramenters (Overloading), wenn we find out that the overloading methods actually have a bug und we wand to fix it. Then what happened? We must go into the 100 methods one by one and manually fix it. That cost massive time. More worst is that we fixed 99 error/bugs in 99 overload method but forgot there is one error behind ,it will cost a big trouble for us.</p>
<h2 id="Hypernyms-Hyponyms-and-Interface-Inheritance"><a href="#Hypernyms-Hyponyms-and-Interface-Inheritance" class="headerlink" title="Hypernyms, Hyponyms, and Interface Inheritance"></a>Hypernyms, Hyponyms, and Interface Inheritance</h2><h3 id="To-understand-the-Inheritance-Let’s-us-first-known-the-meaning-of-the-Hypernyms-and-Hyponyms"><a href="#To-understand-the-Inheritance-Let’s-us-first-known-the-meaning-of-the-Hypernyms-and-Hyponyms" class="headerlink" title="To understand the Inheritance ,Let’s us first known the meaning of the Hypernyms and Hyponyms ."></a>To understand the Inheritance ,Let’s us first known the meaning of the Hypernyms and Hyponyms .</h3><ul>
<li><p>Hypernyms<br>The meaning of Hypernyms is pretty easy. Hypernyms is a abstract concept of a series of concrete Items which have common character. or example:<br>Dog is a “Hypernym” of poodle(贵宾犬),malamute(爱斯基摩 ),youkie (某种狗),etc.</p>
</li>
<li><p>Hyponyms<br>Hyponyms is the opposite type of Hypernyms which means that hyponyms is one of the concrete item’s name of a abstract concept. For example:<br>“poodle” is Hyponym of “dog”</p>
</li>
<li><p>the relationship between Hypernym and hyponyms(is a relationship)</p>
<ul>
<li>a poodle “is a” Dog</li>
<li>a dog “is a” carnivore</li>
<li>a carnivore “is a” animal</li>
</ul>
</li>
</ul>
<blockquote>
<p>this relationship build a tree hierarchy. Animal is the root, which followed by Carnivore(食肉动物), Omnivore(草食动物), Herbivore(草食动物). Then dog follow the carnivore and so on.</p>
</blockquote>
<h3 id="The-simple-hyponymic-relationship-in-Java–-gt-Interface-Inherence"><a href="#The-simple-hyponymic-relationship-in-Java–-gt-Interface-Inherence" class="headerlink" title="The simple hyponymic relationship in Java–&gt; Interface Inherence"></a>The simple hyponymic relationship in Java–&gt; Interface Inherence</h3><p>For example, AList and SLList has so many similar characters(method). For this reason we can define a same hypernym(Superclass/general list hypernym) for AList and SLList called List61b,which define what a list should to do but doesn’t provide any concept implementation for those behaviors.</p>
<p>In Java,in order to express this relationship, We need to do <strong><em>two things</em></strong></p>
<ul>
<li><p>Step1 :Define a type for the general list hypernym–we will choose the name List61b</p>
</li>
<li><p>Step2: Specify that SLList and AList are hyponyms of that type.</p>
<p><strong><em>first step</em></strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item x)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item y)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x,<span class="keyword">int</span> position)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong><em>second step</em></strong>:</p>
<p>We will add to</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>a relationship-defining word: implements.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>this means that Alist saying “I    promise    I    will    have    and define    all    the    attributes    and    behaviors    specified    in    the    List61B    interface”.</p>
<blockquote>
<p>A interface could inherite other interface by using keyword “extends”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">A</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span> <span class="title">B</span>&lt;<span class="title">Item</span>&gt;,<span class="title">C</span>&lt;<span class="title">Item</span>&gt;,<span class="title">D</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>B,C,D are public interface.</p>
<h2 id="Overriding"><a href="#Overriding" class="headerlink" title="Overriding"></a>Overriding</h2><p>Overriding mean that we will implement all methods which come from the superclass as we promised.</p>
<blockquote>
<p>Note: One gut manner to implement all the methods come from the superclass is that we set a tag  <strong>*”@Override”*</strong> before each of every methods which we want to implement.</p>
</blockquote>
<blockquote>
<p>with this tag <strong>*”@Override”*</strong> we can prevent this awkward situation:<br>Say    we    want    to    override    the        addLast        method.    What    if    we    make    a    typo    and    accidentally write        addLsat    ?    If    we    don’t    include    the    @Override    tag,    then    we    might    not    catch    the mistake,    which    could    make    debugging    a    more    difficult    and    painful    process.    Whereas    if    we include    @Override,    the    compiler    will    stop    and    prompt    you    to    fix    your    mistakes    before    your program    even    runs.</p>
</blockquote>
<h2 id="Interface-Inheritance"><a href="#Interface-Inheritance" class="headerlink" title="Interface Inheritance"></a>Interface Inheritance</h2><p><img src="/assets/Capture_3za2mffd8.PNG" alt="Capture"></p>
<blockquote>
<p>White box is Interface<br>Green box is class</p>
</blockquote>
<ul>
<li><p>As we said before the interface include all the methode signature ,but not implementations. The implementation will be completeD by subclasses according to subclass’s characters.One thing must be known that this inheritance is also multi-generaritional.This means that the subclass Alist has superclass List61B and List61B alos has a father called Collection61B,in this situation the subclass Alist will inherite all metheds which are eiter in List61b or in Collection61B.</p>
</li>
<li><p>For the “is a”/Interface Inheritance relationship we can following statement:</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span>	<span class="keyword">static</span>	<span class="keyword">void</span>	<span class="title">main</span><span class="params">(String[]	args)</span>	</span>&#123;</span><br><span class="line">  List61B&lt;String&gt; someList=<span class="keyword">new</span> SLList&lt;String&gt;();</span><br><span class="line">  someList.addFirst(<span class="string">"elk"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>that’s means that we can create a new Sllist and store it’s address in it’s supperklass’s memory box called someList.then we can use someList to call everything in SLList.Since the memory box”someList” point to SLList.</p>
<h2 id="Implementation-inheritance"><a href="#Implementation-inheritance" class="headerlink" title="Implementation inheritance"></a>Implementation inheritance</h2><h3 id="idea"><a href="#idea" class="headerlink" title="idea:"></a>idea:</h3><p>The subclass can not only ihherit signatures and implementation.</p>
<h3 id="How-to-achieve-this-Goal"><a href="#How-to-achieve-this-Goal" class="headerlink" title="How to achieve this Goal"></a>How to achieve this Goal</h3><p>Basically we can’t insert concrete implementation in interface,but it’s allowed to use the <strong><em>default</em></strong> keyword to specify a method that the subclass should inherit from an interface.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item	x)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item y)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x,<span class="keyword">int</span> position)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;size();i+=<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.print(get(i)+<span class="string">"	"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Then    everything    that    implements    the    List61B    class    can    use    the    method!</p>
</blockquote>
<blockquote>
<p>And wenn this general print method doesn’t suit a specific subclass(SLList),SLList can override it(rewrite the print method).Now,    whenever    we    call    print()    on    an SLList,    it    will    call    this    method    instead    of    the    one    in List61B.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(Node p=sentinel.next;p!=<span class="keyword">null</span>;p=p.next)&#123;</span><br><span class="line">    System.out.print(p.item+<span class="string">"	"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Static-and-Dynamic-type-Dynamic-method-selection-gt-solve-the-problem-how-does-Java-know-which-print-to-call"><a href="#Static-and-Dynamic-type-Dynamic-method-selection-gt-solve-the-problem-how-does-Java-know-which-print-to-call" class="headerlink" title="Static and Dynamic type,Dynamic method selection-&gt;solve the problem,how does Java know which print() to call?"></a>Static and Dynamic type,Dynamic method selection-&gt;solve the problem,how does Java know which print() to call?</h2><ul>
<li><p>static type: this is the type specified an declaration.never changes!</p>
</li>
<li><p>dynamic type: this is the type specified an instantiation(e.g. when using new)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List61B&lt;String&gt; lst = <span class="keyword">new</span> SLList&lt;String&gt;();</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dynamic method selection</p>
</li>
</ul>
<p>wenn the superclass List61B hst a print method and this methed is Overriding in SLList,wenn we use Ist to call print method,the print method in SLList will be picked up ,since the dynamic type of Ist is SLList.</p>
<blockquote>
<p>In    the    above    declaration    and    instantiation,    lst    is    of    type    “List61B”.    This    is    called    the    “static type”<br>However,    the    objects    themselves    have    types    as    well.    the    object    that    lst    points    to    is    of    type SLList.    Although    this    object    is    intrinsically    an    SLList    (since    it    was    declared    as    such),    it    is    also a    List61B,    because    of    the    “is-a”    relationship    we    explored    earlier.    But,    because    the    object itself    was    instantiated    using    the    SLList    constructor,    We    call    this    its    “dynamic    type”.<br>Aside:    the    name    “dynamic    type”    is    actually    quite    semantic    in    its    origin!    Should    lst    be reassigned    to    point    to    an    object    of    another    type,    say    a    AList    object,    lst’s    dynamic    type    would now    be    AList    and    not    SLList!    It’s    dynamic    because    it    changes    based    on    the    type    of    the object    it’s    currently    referring    to. When    Java    runs    a    method    that    is    overriden,    it    searches    for    the    appropriate    method    signature in    it’s    dynamic    type    and    runs    it.</p>
</blockquote>
<p><strong><em>IMPORTANT:    This    does    not    work    for    overloaded    methods!</em></strong><br>for example:</p>
<p>Say    there    are    two    methods    in    the    same    class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">peek</span><span class="params">(List61B&lt;String&gt; list)</span></span>&#123;</span><br><span class="line">  System.out.println(list.getLast());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">peek</span><span class="params">(SLList&lt;String&gt; list)</span></span>&#123;</span><br><span class="line">  System.out.println(list.getFirst());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and    you    run    this    code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SLList&lt;String&gt;	SP=<span class="keyword">new</span> SLList&lt;String&gt;();</span><br><span class="line">List61B&lt;String&gt;	LP= SP;</span><br><span class="line">SP.addLast(<span class="string">"elk"</span>);</span><br><span class="line">SP.addLast(<span class="string">"are"</span>);</span><br><span class="line">SP.addLast(<span class="string">"cool"</span>);</span><br><span class="line">peek(SP);</span><br><span class="line">peek(LP);</span><br></pre></td></tr></table></figure>
<p>ruselt:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">elk</span><br><span class="line">cool</span><br><span class="line">`</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yaoxin Jing"
      src="/images/avatar1.jpg">
  <p class="site-author-name" itemprop="name">Yaoxin Jing</p>
  <div class="site-description" itemprop="description">人生苦短，我学Java</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yaoxinjing" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yaoxinjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yaoxinjing@gmail.com" title="E-Mail → mailto:yaoxinjing@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3170488771" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3170488771" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yaoxin jing</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  <script type="text/javascript" color="0,0,0" opacity='0.5' zIndex="-1" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
