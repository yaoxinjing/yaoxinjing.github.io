<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="人生苦短，我学Java">
<meta property="og:type" content="website">
<meta property="og:title" content="正经星人のBOKE">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="正经星人のBOKE">
<meta property="og:description" content="人生苦短，我学Java">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Yaoxin Jing">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>正经星人のBOKE</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">正经星人のBOKE</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">学僧一枚</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/11/cs-61b-6-1-List-Set-ArrySet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/11/cs-61b-6-1-List-Set-ArrySet/" class="post-title-link" itemprop="url">cs 61b 6.1 List,Set, ArrySet</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-11 15:31:27 / Modified: 20:18:39" itemprop="dateCreated datePublished" datetime="2020-03-11T15:31:27+01:00">2020-03-11</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="6-1-List-Set-ArrySet"><a href="#6-1-List-Set-ArrySet" class="headerlink" title="6.1 List,Set, ArrySet"></a>6.1 List,Set, ArrySet</h1><p>##Lists    in    Real    Java    Code</p>
<p>Java    provides    a    built-in        List        interface    and    several implementations,    e.g.ArrayList</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.util.List&lt;Integer&gt; L = <span class="keyword">new</span> java.util.ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Remember,    since        List        is    an    interface    we    can’t    instatiate it!    We    must    instatiate    one    of    its    implementations ,but in the contrary we can declare a List Object a to store instaiation of its implementations. By this way we can take advantage of java（Polymorphism）</p>
</blockquote>
<p>However    this    is    a    bit    trouble.Every time wirte so many word to instatiate / declare something.    In    a    similar    way    to    how    we    import        JUnit    ,    we    can    import    java libraries:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Example</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span>	</span>&#123;</span><br><span class="line">    List&lt;Integer&gt; L = <span class="keyword">new</span> ArrayList&lt;&gt;();								L.add(<span class="number">5</span>);</span><br><span class="line">    L.add(<span class="number">10</span>);</span><br><span class="line">    System.out.println(L);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h2><h3 id="Definition-of-sets"><a href="#Definition-of-sets" class="headerlink" title="Definition of sets"></a>Definition of sets</h3><p>Sets    are    a    collection    of    unique    elements。In set:</p>
<ul>
<li>Only    have    one    copy    of    each    element</li>
<li>There    is    also    no    sense    of    order</li>
</ul>
<h3 id="Built-in-Set-interface-in-java"><a href="#Built-in-Set-interface-in-java" class="headerlink" title="Built-in Set interface in java"></a>Built-in Set interface in java</h3><p>Java    has    the        Set        interface    along    with    implementations,    e.g.        HashSet    .</p>
<blockquote>
<p>Remember    to    import them    if    we don’t    want    to    use    the    full    name!</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>	java.util.Set;</span><br><span class="line"><span class="keyword">import</span>	java.util.HashSet</span><br></pre></td></tr></table></figure>

<h3 id="ArraySet"><a href="#ArraySet" class="headerlink" title="ArraySet"></a>ArraySet</h3><p>Now we want to write our own Set class mit 3 methods:</p>
<ul>
<li>add(value)    :    add    the    value    to    the    set    if    not    already    present</li>
<li>contains(value)    :    check    to    see    if    ArraySet    contains    the    key</li>
<li>size()    :    return    number    of    values</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySet</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size; <span class="comment">// the next item to be added will be at position size</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArraySet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        items = (T[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns true if this map contains a mapping for the specified key.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (items[i].equals(x)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Associates the specified value with the specified key in this map.</span></span><br><span class="line"><span class="comment">       Throws an IllegalArgumentException if the key is null. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns the number of key-value mappings in this map. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Problem:<br>Our    ArraySet    implementation    from    the    previous    section    has    a    small    error.    When    we    add    null        to    our    ArraySet,    we    get    a    NullPointerException.</p>
<p>The    probelm    lies in the    contains method    where    we    check        items[i].equals(x).    Imagining we first add a null in our set.Then we want to add something that isn’t null in our set.Befor add that in set we must to check weather this things is already in set. To do that we call metheod contains(x).the    value at items[0]    is null,    then    we    are    calling    null.equals(x)-&gt; NullPointerException.</p>
<h2 id="6-2-Throwing-Exceptions"><a href="#6-2-Throwing-Exceptions" class="headerlink" title="6.2    Throwing    Exceptions"></a>6.2    Throwing    Exceptions</h2><ol>
<li><p>Definition of Exceptions</p>
<ul>
<li>Exceptions    cause    normal    flow    of    control    to    stop.</li>
</ul>
</li>
<li><p>How to throw    our    own exceptions:</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ExceptionObject(parameter1,	...);</span><br></pre></td></tr></table></figure>

<h3 id="2-Approaches-to-fix-the-issue-caused-by-adding-a-null-in-set"><a href="#2-Approaches-to-fix-the-issue-caused-by-adding-a-null-in-set" class="headerlink" title="2 Approaches to fix the issue caused by adding a null in set"></a>2 Approaches to fix the issue caused by adding a null in set</h3><ol>
<li>Don’t    add        null        to    the    array    if    it    is    passed    into        add<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
<li>Throw    an    exception    when    a    user    tries    to    add    null    to    our        ArraySet    .    We’ll    throw    an    IllegalArgumentException        which    takes    in    one    parameter    (a        String        message).</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="keyword">null</span>)&#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"can't add null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-3-Iteration"><a href="#6-3-Iteration" class="headerlink" title="6.3 Iteration"></a>6.3 Iteration</h2><h3 id="The-Enhanced-For-Loop"><a href="#The-Enhanced-For-Loop" class="headerlink" title="The Enhanced For Loop"></a>The Enhanced For Loop</h3><p>Java allows us to iterate through Lists and Sets using a convenient shorthand syntax sometimes called the “foreach” or “enhanced for” loop.</p>
<p>For Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; javaset = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">javaset.add(<span class="number">5</span>);</span><br><span class="line">javaset.add(<span class="number">23</span>);</span><br><span class="line">javaset.add(<span class="number">42</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : javaset) &#123;   <span class="comment">//The Enhanced For Loop</span></span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Problem:This doesn’t work with our ArraySet.</p>
</blockquote>
<h3 id="How-Iteration-The-Enhanced-For-Loop-in-build-in-java-Interface-Set-and-class-HashSet-Really-Works"><a href="#How-Iteration-The-Enhanced-For-Loop-in-build-in-java-Interface-Set-and-class-HashSet-Really-Works" class="headerlink" title="How Iteration(The Enhanced For Loop in build in java Interface Set and class HashSet) Really Works"></a>How Iteration(The Enhanced For Loop in build in java Interface Set and class HashSet) Really Works</h3><p>Set.java:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>“Ugly” iteration:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; javaset =<span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">...</span><br><span class="line">Iterator&lt;Integer&gt; seer = javaset.iterator();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (seer.hasNext()) &#123;</span><br><span class="line">  System.out.println(seer.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>hasNext() means weather there is item in the ArrySet thar is not reached.If there is not reached item then return true,instead return false.<br>next():If hasNext() return true ,then we get the next item in the ArrySet which is still not reached.</p>
</blockquote>
<h3 id="Supporting-Ugly-Iteration-in-ArraySets"><a href="#Supporting-Ugly-Iteration-in-ArraySets" class="headerlink" title="Supporting Ugly Iteration in ArraySets"></a>Supporting Ugly Iteration in ArraySets</h3><p>To support ugly iteration:</p>
<ul>
<li>Add an iterator() method to ArraySet that returns an Iterator<T>.</T></li>
<li>The Iterator<T> that we return should have a useful hasNext() and next() method.</T></li>
</ul>
<p>We need to somehow in the iterator() methed get a Object that we can store it in memory box of Iterator<T> ,so that we could build a nested class in class ArrySet whicht implements the Interface Iterator<T>.</T></T></p>
<p>Interface Iterator<T>:</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function">T <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>a nested class in class ArrySet whicht implements the Interface Iterator<T>:</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySetIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> wizPos;</span><br><span class="line"> 	<span class="function"><span class="keyword">public</span> <span class="title">ArraySetIterator</span><span class="params">()</span> </span>&#123; wizPos = <span class="number">0</span>; &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> wizPos &lt; size; &#125;</span><br><span class="line"> 	<span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	T returnItem = items[wizPos];</span><br><span class="line">    	wizPos += <span class="number">1</span>;</span><br><span class="line">    	<span class="keyword">return</span> returnItem;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>iterator() method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> ArraySetIterator();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Our code now supports “ugly” iteration, but enhanced for loop still doesn’t work.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ArraySet&lt;Integer&gt; aset = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">aset.add(<span class="number">5</span>);</span><br><span class="line">aset.add(<span class="number">23</span>);</span><br><span class="line">aset.add(<span class="number">42</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : aset) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Error:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ javac IterationDemo</span><br><span class="line">error: <span class="keyword">for</span>-each not applicable to expression type</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : aset) &#123;</span><br><span class="line">                     ^</span><br><span class="line">  required: array or java.lang.Iterable</span><br><span class="line">  found:    ArraySet&lt;Integer&gt;</span><br></pre></td></tr></table></figure>

<p>The problem: Java isn’t smart enough to realize that our ArraySet has an iterator() method.<br>Luckily there’s an interface for that:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now: we need our ArrySet implements the Iterable<T> interface.</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySet</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123; ... &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="The-Iterable-Interface"><a href="#The-Iterable-Interface" class="headerlink" title="The Iterable Interface"></a>The Iterable Interface</h4><p>By the way, this is how Set works as well:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span></span>; ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Iterator&lt;E&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Iteration-Summary"><a href="#Iteration-Summary" class="headerlink" title="Iteration Summary"></a>Iteration Summary</h4><p>To support the enhanced for loop:</p>
<ul>
<li>Add an iterator() method to your class that returns an Iterator<T>.</T></li>
<li>The Iterator<T> returned should have a useful hasNext() and next() method(add a nested class in ArrySet to implemente interface “Iterator<T>“which has hasNext and next methods).</T></T></li>
<li>Add implements Iterable<T> to the line defining your class.</T></li>
</ul>
<h4 id="code"><a href="#code" class="headerlink" title="code:"></a>code:</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySet</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size; <span class="comment">// the next item to be added will be at position size</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArraySet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        items = (T[]) <span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns true if this map contains a mapping for the specified key.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (items[i].equals(x)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Associates the specified value with the specified key in this map.</span></span><br><span class="line"><span class="comment">       Throws an IllegalArgumentException if the key is null. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(T x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"can't add null"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (contains(x)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[size] = x;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Returns the number of key-value mappings in this map. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** returns an iterator (a.k.a. seer) into ME */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArraySetIterator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">ArraySetIterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> wizPos;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ArraySetIterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            wizPos = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> wizPos &lt; size;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            T returnItem = items[wizPos];</span><br><span class="line">            wizPos += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> returnItem;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* EXTRA VIDEO CODE</span></span><br><span class="line"><span class="comment">    @Override</span></span><br><span class="line"><span class="comment">    public String toString() &#123;</span></span><br><span class="line"><span class="comment">        List&lt;String&gt; listOfItems = new ArrayList&lt;&gt;();</span></span><br><span class="line"><span class="comment">        for (T x : this) &#123;</span></span><br><span class="line"><span class="comment">            listOfItems.add(x.toString());</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return "&#123;" + String.join(", ", listOfItems) + "&#125;";</span></span><br><span class="line"><span class="comment">    &#125; */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* EXTRA VIDEO CODE</span></span><br><span class="line"><span class="comment">    public static &lt;Glerp&gt; ArraySet&lt;Glerp&gt; of(Glerp... stuff) &#123;</span></span><br><span class="line"><span class="comment">        ArraySet&lt;Glerp&gt; returnSet = new ArraySet&lt;Glerp&gt;();</span></span><br><span class="line"><span class="comment">        for (Glerp x : stuff) &#123;</span></span><br><span class="line"><span class="comment">            returnSet.add(x);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return returnSet;</span></span><br><span class="line"><span class="comment">    &#125; */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArraySet&lt;Integer&gt; aset = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">        aset.add(<span class="number">5</span>);</span><br><span class="line">        aset.add(<span class="number">23</span>);</span><br><span class="line">        aset.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//iteration</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : aset) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//toString</span></span><br><span class="line">        System.out.println(aset);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//equals</span></span><br><span class="line">        ArraySet&lt;Integer&gt; aset2 = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">        aset2.add(<span class="number">5</span>);</span><br><span class="line">        aset2.add(<span class="number">23</span>);</span><br><span class="line">        aset2.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(aset.equals(aset2));</span><br><span class="line">        System.out.println(aset.equals(<span class="keyword">null</span>));</span><br><span class="line">        System.out.println(aset.equals(<span class="string">"fish"</span>));</span><br><span class="line">        System.out.println(aset.equals(aset));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//EXTRA VIDEO CODE</span></span><br><span class="line">        <span class="comment">//ArraySet&lt;String&gt; asetOfStrings = ArraySet.of("hi", "I'm", "here");</span></span><br><span class="line">        <span class="comment">//System.out.println(asetOfStrings);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Also to do:</span></span><br><span class="line"><span class="comment">    1. Make ArraySet implement the Iterable&lt;T&gt; interface.</span></span><br><span class="line"><span class="comment">    2. Implement a toString method.</span></span><br><span class="line"><span class="comment">    3. Implement an equals() method.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>##Object Methods:Equals and toString()</p>
<h3 id="Content-in-class-Object-（All-classes-are-hyponyms-of-Object-）"><a href="#Content-in-class-Object-（All-classes-are-hyponyms-of-Object-）" class="headerlink" title="Content in class Object （All classes are hyponyms of Object.）"></a>Content in class Object （All classes are hyponyms of Object.）</h3><p><strong><em>String toString()</em></strong><br><strong><em>boolean equals(Object obj)</em></strong><br>Class&lt;?&gt;    getClass() //Imagining a is a instaiation of Object,a.getClass() return the class name  which a come from.<br><strong><em>int hashCode()</em></strong></p>
<p>…</p>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString()"></a>toString()</h3><p>The toString() method provides a string representation of an object.</p>
<ul>
<li>System.out.println(Object x) calls x.toString() implicit（隐世呼叫）。</li>
<li>The implementation of toString() in Object is the the name of the class, then an @ sign, then the memory location of the object.<br>See 61C for what the “memory location” really means.</li>
</ul>
<p>for Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; javaset = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">javaset.add(<span class="number">5</span>);</span><br><span class="line">javaset.add(<span class="number">23</span>);</span><br><span class="line">javaset.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(javaset);</span><br></pre></td></tr></table></figure>
<p>result:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ java JavaSetPrintDemo</span><br><span class="line">[<span class="number">5</span>, <span class="number">23</span>, <span class="number">42</span>]</span><br></pre></td></tr></table></figure>

<h4 id="implementing-toString-for-ArraySet"><a href="#implementing-toString-for-ArraySet" class="headerlink" title="implementing toString for ArraySet"></a>implementing toString for ArraySet</h4><ul>
<li>Approach one(slow):<br>Because:Intuition: Adding even a single character to a string creates an entirely new string.(一个string 生成后不能改变，添加一个新的字母只能重新建立新的string)<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String returnString = <span class="string">"&#123;"</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">        returnString += keys[i];</span><br><span class="line">        returnString += <span class="string">", "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    returnString += <span class="string">"&#125;"</span>;</span><br><span class="line">    <span class="keyword">return</span> returnString;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Approach two（faster）：<br>Intuition: Append operation for a StringBuilder is fast.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    StringBuilder returnSB = <span class="keyword">new</span> StringBuilder(<span class="string">"&#123;"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i += <span class="number">1</span>) &#123;</span><br><span class="line">        returnSB.append(items[i]);</span><br><span class="line">        returnSB.append(<span class="string">", "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    returnSB.append(<span class="string">"&#125;"</span>);</span><br><span class="line">    <span class="keyword">return</span> returnSB.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Equals-vs"><a href="#Equals-vs" class="headerlink" title="Equals vs. =="></a>Equals vs. ==</h3><p>As mentioned in an offhand manner previously,  == and .equals() behave differently.</p>
<p>== compares the bits. For references, == means “referencing the same object.”</p>
<p>To test equality in the sense we usually mean it, use:</p>
<ul>
<li><strong><em>.</em></strong> equals for classes. Requires writing a .equals method for your classes.</li>
<li>Default implementation of .equals uses “==” just like “”==”operation to compare the bits (probably not what you want).<br>BTW: Use Arrays.equal or Arrays.deepEquals for arrays.</li>
</ul>
<p>####The Default Implementation of Equals<br>for Example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ArraySet&lt;Integer&gt; aset = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">aset.add(<span class="number">5</span>);</span><br><span class="line">aset.add(<span class="number">23</span>);</span><br><span class="line">aset.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(aset);</span><br><span class="line"></span><br><span class="line">ArraySet&lt;Integer&gt; aset2 = <span class="keyword">new</span> ArraySet&lt;&gt;();</span><br><span class="line">aset2.add(<span class="number">5</span>);</span><br><span class="line">aset2.add(<span class="number">23</span>);</span><br><span class="line">aset2.add(<span class="number">42</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(aset.equals(aset2));</span><br></pre></td></tr></table></figure>
<p>result:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ java EqualsDemo</span><br><span class="line">False</span><br><span class="line">`</span><br></pre></td></tr></table></figure>
<p>Returns false because the default implementation of equals just uses ==.</p>
<h3 id="ArraySet-equals"><a href="#ArraySet-equals" class="headerlink" title="ArraySet equals"></a>ArraySet equals</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123; <span class="keyword">return</span> <span class="keyword">false</span>; &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span> == o) &#123; <span class="keyword">return</span> <span class="keyword">true</span>; &#125; <span class="comment">// optimization 是否是同一实例</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.getClass() != o.getClass()) &#123; <span class="keyword">return</span> <span class="keyword">false</span>; &#125;<span class="comment">//两个对象是否来自于同一个类</span></span><br><span class="line">  ArraySet&lt;T&gt; other = (ArraySet&lt;T&gt;) o;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">this</span>.size() != other.size()) &#123; <span class="keyword">return</span> <span class="keyword">false</span>; &#125;</span><br><span class="line">    <span class="keyword">for</span> (T item : <span class="keyword">this</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!other.contains(item)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>We built our own Array based Set implementation.</p>
<p>To make it more industrial strength we:</p>
<ul>
<li>Added an exception if a user tried to add null to the set.<ul>
<li>There are other ways to deal with nulls. Our choice was arguably bad.</li>
</ul>
</li>
<li>Added support for “ugly” then “nice” iteration.<ul>
<li>Ugly iteration: Creating a subclass with next and hasNext methods.</li>
<li>Nice iteration: Declaring that ArraySet implements Iterable.</li>
</ul>
</li>
<li>Added a toString() method.<ul>
<li>Beware of String concatenation.</li>
</ul>
</li>
<li>Added an equals(Object) method.<ul>
<li>Make sure to deal with null and non-ArraySet arguments!</li>
<li>Used getClass to check the class of the passed object. Use sparingly.</li>
</ul>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/10/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/10/CS-61b-4-3-Subtype-Polynorphism-vs-Hofs/" class="post-title-link" itemprop="url">CS 61b 4.3 Subtype Polynorphism vs Hofs</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-10 06:06:34 / Modified: 19:33:34" itemprop="dateCreated datePublished" datetime="2020-03-10T06:06:34+01:00">2020-03-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="4-3-Subtype-Polynorphism-vs-Hofs"><a href="#4-3-Subtype-Polynorphism-vs-Hofs" class="headerlink" title="4.3 Subtype Polynorphism vs Hofs"></a>4.3 Subtype Polynorphism vs Hofs</h1><h2 id="Review-the-dynamic-type-checking"><a href="#Review-the-dynamic-type-checking" class="headerlink" title="Review the dynamic type checking"></a>Review the dynamic type checking</h2><h3 id="The-Rules"><a href="#The-Rules" class="headerlink" title="The Rules"></a>The Rules</h3><ul>
<li>Compiler allows memory box to hold any Subtype</li>
<li>Compuler allows calls based on static type(wenn we use a object variable to call a methed or member,the Compiler would first check whether the method is existing in the class of the object<ul>
<li>get the static type of the object</li>
<li>go into the class which the static come from</li>
<li>check whether the Called methed is existing in the class</li>
<li>if it exists<ul>
<li>Overriden non-static methods are selected an tun time based on dynamic type</li>
<li>Eveything else is based on static type,including overload methods.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>For example:<br>There is two class dog and showdog ,dog is superclass of showdog,dog have a method called bark which is Overriden by it’s subclass showdog.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">object o2=<span class="keyword">new</span> ShowDog(<span class="string">"Mirtimer"</span>,<span class="string">"Corgi"</span>,<span class="number">25</span>,<span class="number">512.2</span>);</span><br><span class="line"></span><br><span class="line">ShowDog sdx =((ShowDog)o2);</span><br><span class="line">sdx.bark();</span><br><span class="line"></span><br><span class="line">Dog dx= ((Dog)o2);</span><br><span class="line">dx.bark();</span><br><span class="line"></span><br><span class="line">((Dog)o2).bark();</span><br><span class="line"></span><br><span class="line">object o3=(Dog)o2;</span><br><span class="line">o3.bark();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>o3.bark() is error(ClassCastException),because object class doesen’t habe bark methed.<br>For static methods,we do not use the term overriding for this.<br>Cast will only temporary change static type of a object variable.</p>
</blockquote>
<h2 id="Subtype-Polymorphism"><a href="#Subtype-Polymorphism" class="headerlink" title="Subtype    Polymorphism"></a>Subtype    Polymorphism</h2><h3 id="Definetion"><a href="#Definetion" class="headerlink" title="Definetion"></a>Definetion</h3><p>In    object-oriented    programming,    polymorphism    relates    to how    an    object    can    be    regarded    as    an    instance    of    its    own    class,    an    instance    of    its    superclass, an    instance    of    its    superclass’s    superclass,    and    so    on. That’s means that variables whicht have static type “superclass”can point to the instance of its subclass.</p>
<p>Consider    a    variable        deque        of    static    type    Deque.    A    call    to        deque.addFirst()        will    be determined    at    the    time    of    execution,    depending    on    the    run-time    type,    or    dynamic    type,    of    deque        when        addFirst        is    called.    As    we    saw    in    the    last    chapter,    Java    picks    which    method    to call    using    dynamic    method    selection.</p>
<h2 id="Max-Function"><a href="#Max-Function" class="headerlink" title="Max    Function"></a>Max    Function</h2><ul>
<li>Our Task:    write    a        max        function    which    takes    in    any    array    -    regardless    of    type    -    and returns    the    maximum    item    in    the    array</li>
</ul>
<h3 id="First-Try"><a href="#First-Try" class="headerlink" title="First Try"></a>First Try</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">max</span><span class="params">(Object[] items)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> maxDex=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;items.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(items[i]&gt;items[maxDex])&#123;</span><br><span class="line">      maxDex=i;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">return</span>	items[maxDex];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">  	Dog[] dogs=&#123;<span class="keyword">new</span> Dog(<span class="string">"Elyse"</span>,<span class="number">3</span>),	<span class="keyword">new</span>	Dog(<span class="string">"Sture"</span>,	<span class="number">9</span>),	<span class="keyword">new</span>	Dog(<span class="string">"Benjamin"</span>,<span class="number">15</span>)&#125;;</span><br><span class="line">    Dog	maxDog=(Dog) max(dogs);</span><br><span class="line">    maxDog.bark();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>error:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(items[i]&gt;items[maxDex])&#123;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The    fundamental    issue    that    gives    rise    to    this    is    that    Objects    cannot    be    compared    with    “&gt;”.</p>
</blockquote>
<h3 id="Modification-and-2-Try"><a href="#Modification-and-2-Try" class="headerlink" title="Modification and 2.Try"></a>Modification and 2.Try</h3><p>We    can    create    an    interface    that    guarantees    that    any    implementing    class,    like    Dog,    contains a    comparison    method,    which    we’ll    call        compareTo    .</p>
<p><img src="/.com//Capture4.PNG" alt="Capture4"><img alt="CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture4.PNG" src="/.com//CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture4.PNG" width height></p>
<p>Let’s    write    our    interface.    We’ll    specify    one    method        “compareTo”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OurComparable</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>We    will    define    its    behavior which dog should implement like    so:</p>
<ul>
<li>Return    -1    if        this        &lt;    o.</li>
<li>Return    0    if        this        equals    o.</li>
<li>Return    1    if        this        &gt;    o.</li>
</ul>
<p>We    use    the    instance    variable        size        to    make    our    comparison(比较)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">OurComparable</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n,<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">          name=n;</span><br><span class="line">          size=s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">          System.out.println(name+<span class="string">"says:bark"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>&#123;</span><br><span class="line">          Dog uddaDog=(Dog)o;</span><br><span class="line">          <span class="keyword">if</span>(<span class="keyword">this</span>.size&lt; uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.size==uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Now    we    can    generalize    the    max    function，instead    of    taking in    any    arbitrary    array    of    objects,    takes    in OurComparable    objects    ，which    we    know    for    certain all    have    the        compareTo        method    implemented</p>
<blockquote>
<p>now we redefine our neun maximum function. In this function we use the object which has stacit type “OurComparable objects” insdeat of using any arbitrary(原始的) array of Object to compaire the Object in array,since we known interface OurComparable has methed”compareTo” and every class which implement the Interface has rewrite the method,so that we kann use Subtype    Polymorphism to achieve our goal.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OurComparable <span class="title">max</span><span class="params">(OurComparable[] items)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> maxDex=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;items.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">int</span> cmp=items[i].compareTo(items[maxDex]);</span><br><span class="line">    	<span class="keyword">if</span>(cmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        maxDex=i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> items[maxDex];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>Alternativ approach to implement the method in class dog<br>Regel:</p>
<ul>
<li>Return    negative    number    if        this        &lt;    o.</li>
<li>Return    0    if        this        equals    o.</li>
<li>Return    positive    number    if        this        &gt;    o.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span></span>&#123;</span><br><span class="line">  Dog uddaDog = (Dog)o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.size-uddaDog.size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="advantage-of-this-approach"><a href="#advantage-of-this-approach" class="headerlink" title="advantage of this approach:"></a>advantage of this approach:</h4><ul>
<li>No    need    for    maximization    code    in    every    class(i.e.    no        Dog.maxDog(Dog[])    function required</li>
<li>We    have    code    that    operates    on    multiple    types    (mostly)    gracefully(优雅的)</li>
</ul>
<h3 id="Comparanles"><a href="#Comparanles" class="headerlink" title="Comparanles"></a>Comparanles</h3><p>the 2.Try/Approach is not perfect/Comparanles.Because:</p>
<ul>
<li>Awkward    casting    to/from    Objects</li>
<li>When we want to use 2.approach to compaire 2 instance which belong to same class(both habe same static type),we need to implement a Interface called OurComparable in this class.But there is some class (e.g.String,etc.)that are already written by java( No    existing    classes    implement    OurComparable).In this case we can not compare for example 2 string,</li>
</ul>
<h4 id="A-New-Way"><a href="#A-New-Way" class="headerlink" title="A New Way"></a>A New Way</h4><p>We’ll    take    advantage    of    an    interface    that    already    exists    called        Comparable    .    Comparable        is    already    defined    by    Java    and    is    used    by    countless    libraries</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Notice    that    Comparable<T>        means    that    it    takes    a    generic    type.    This    will    help    us    avoid    having to    cast    an    object    to    a    specific    type(OurComparable or Object)!</T></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Dog</span>&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n,<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">          name=n;</span><br><span class="line">          size=s;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">          System.out.println(name+<span class="string">"says:bark"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Dog o)</span></span>&#123;</span><br><span class="line">          Dog uddaDog=(Dog)o;</span><br><span class="line">          <span class="keyword">if</span>(<span class="keyword">this</span>.size&lt; uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.size==uddaDog.size)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> OurComparable <span class="title">max</span><span class="params">(Comparable[] items)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> maxDex=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;items.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">int</span> cmp=items[i].compareTo(items[maxDex]);</span><br><span class="line">    	<span class="keyword">if</span>(cmp&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        maxDex=i;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> items[maxDex];</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="Comparator"><a href="#Comparator" class="headerlink" title="Comparator"></a>Comparator</h3><h4 id="Why-we-need-Comparator"><a href="#Why-we-need-Comparator" class="headerlink" title="Why we need Comparator"></a>Why we need Comparator</h4><p>With the Interface”Comparable<T>()”we can compare two object according to some Specified order such as size of 2 dogs. But what if we want to compaire other  of object  too, we could not use the Interface “Comparable”,since we have use it to compare size.Thus we need a new way to compair what we what to compair etc.Comparator.</T></p>
<h4 id="what’s-inside-this-interface"><a href="#what’s-inside-this-interface" class="headerlink" title="what’s    inside    this    interface?"></a>what’s    inside    this    interface?</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1,T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This    shows    that    the        Comparator        interface    requires    that    any    implementing    class    implements the        compare        method.    The    rule    for        compare        is    just    like        compareTo    :</p>
<ul>
<li>Return    negative    number    if    o1    &lt;    o2.</li>
<li>Return    0    if    o1    equals    o2.</li>
<li>Return    positive    number    if    o1    &gt;    o2.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Dog</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">(String n, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        name = n;</span><br><span class="line">        size = s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Dog uddaDog)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//assume nobody is messing up and giving us</span></span><br><span class="line">        <span class="comment">//something that isn't a dog.</span></span><br><span class="line">        <span class="keyword">return</span> size - uddaDog.size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">int</span> <span class="title">compareDagName</span> <span class="title">implement</span> <span class="title">Comparator</span>&lt;<span class="title">Dog</span>&gt;</span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(Dog o1,Dog o2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.name.compareTo(o2.name);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> stacit compareDagName <span class="title">getCompareDogName</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> compareDagName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">" says: bark"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：不能在其他类中直接实例化Dog 类中的子类 compareDagName,因为这个类是private的，这意味着这个子类仅能在Dog 类中被声明，因此我们需要存取器方法 getCompareDogName。同理也不能直接声明 compareDagName 类，但是因为该子类implement interface Comparator,而 Comparator 是公共的接口，所以我们声明一个Comparator 的对象，将 getCompareDogName中实例化的 compareDagName 存在其中，之后应用java的多态 即可顺利调用compareDagName 中重写的方法 compare（）。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DogLauncher</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Dog d1 = <span class="keyword">new</span> Dog(<span class="string">"Elyse"</span>, <span class="number">3</span>);</span><br><span class="line">        Dog d2 = <span class="keyword">new</span> Dog(<span class="string">"Sture"</span>, <span class="number">9</span>);</span><br><span class="line">        Dog d3 = <span class="keyword">new</span> Dog(<span class="string">"Benjamin"</span>, <span class="number">15</span>);</span><br><span class="line">        Dog[] dogs = <span class="keyword">new</span> Dog[]&#123;d1, d2, d3&#125;;</span><br><span class="line"></span><br><span class="line">        Dog d = (Dog) Maximizer.max(dogs);</span><br><span class="line">        System.out.println(d.name);</span><br><span class="line"></span><br><span class="line">        Comparator&lt;Dog&gt; d2= Dog.getCompareDogName();</span><br><span class="line">        <span class="keyword">if</span>(d2.compare(d1,d2)&gt;<span class="number">0</span>)</span><br><span class="line">          d1.bark();</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          d2.bark();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Maximizer</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Comparable <span class="title">max</span><span class="params">(Comparable[] items)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> maxDex = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.length; i += <span class="number">1</span>) &#123;</span><br><span class="line">		    <span class="keyword">int</span> cmp = items[i].compareTo(items[maxDex]);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				maxDex = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> items[maxDex];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>All    in    all,    we    have    a    Dog    class    that    has    a    private    NameComparator    class    and    a    method    that returns    a    NameComparator    we    can    use    to    compare    dogs    alphabetically    by    name.</p>
<p>Let’s    see    how    everything    works    in    the    inheritance    hierarchy    -    we    have    a    Comparator interface    that’s    built-in    to    Java,    which    we    can    implement    to    define    our    own    Comparators (    NameComparator    ,        SizeComparator    ,    etc.)    within    Dog.</p>
<p><img src="/.com//Capture5_cevb69b32.PNG" alt="Capture5"><img alt="CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture5.PNG" src="/.com//CS-61b-4-3-Subtype-Polynorphism-vs-Hofs-Capture5.PNG" width height></p>
<p>To    summarize,    interfaces    in    Java    provide    us    with    the    ability    to    make    callbacks.    Sometimes, a    function    needs    the    help    of    another    function    that    might    not    have    been    written    yet    (e.g.        max    needs        compareTo    ).    A    callback    function    is    the    helping    function    (in    the    scenario,        compareTo    ). In    some    languages,    this    is    accomplished    using    explicit    function    passing;    in    Java,    we    wrap the    needed    function    in    an    interface.<br>A    Comparable    says,    “I    want    to    compare    myself    to    another    object”.    It    is    imbedded    within    the object    itself,    and    it    defines    the    natural    ordering    of    a    type.    A    Comparator,    on    the    other    hand, is    more    like    a    third    party    machine    that    compares    two    objects    to    each    other.    Since    there’s only    room    for    one        compareTo        method,    if    we    want    multiple    ways    to    compare,    we    must    turn    to Comparator.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/09/cs-61b-Extends-Casting-Higher-Order-Functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/09/cs-61b-Extends-Casting-Higher-Order-Functions/" class="post-title-link" itemprop="url">cs 61b 4.1 Extends Casting Higher Order Functions</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-09 15:24:15" itemprop="dateCreated datePublished" datetime="2020-03-09T15:24:15+01:00">2020-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-11 18:22:19" itemprop="dateModified" datetime="2020-03-11T18:22:19+01:00">2020-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Extends-Casting-Higher-Order"><a href="#Extends-Casting-Higher-Order" class="headerlink" title="Extends Casting Higher Order"></a>Extends Casting Higher Order</h1><h2 id="Extends"><a href="#Extends" class="headerlink" title="Extends"></a>Extends</h2><h3 id="Why-we-need-“Extends”-instead-of-always-using-keyword-”implements”"><a href="#Why-we-need-“Extends”-instead-of-always-using-keyword-”implements”" class="headerlink" title="Why we need “Extends” instead of always using keyword *”implements”*"></a>Why we need “Extends” instead of always using keyword <strong>*”implements”*</strong></h3><p>As we know the Keyword <strong><em>implement</em></strong> a hieraichical relationship with interface(interface to interface,interface to class),but what if we want to define a hieraichical relationship between classes? In this case we can’t use keyword”implements” but keyword  <strong><em>extends</em></strong> .</p>
<blockquote>
<p>Advantage of “extends”:<br>Allow subclasses to reuse code from an already defined class.</p>
</blockquote>
<h3 id="How-to-define-this-inheritace-relationship-in-the-class-header"><a href="#How-to-define-this-inheritace-relationship-in-the-class-header" class="headerlink" title="How to define this inheritace relationship in the class header:"></a>How to define this inheritace relationship in the class header:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>	<span class="class"><span class="keyword">class</span>	<span class="title">RotatingSLList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span>	<span class="title">SLList</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>By using thie keyword”extends” the subclass RotatingSLList<Item> get a special relationship called “is a” mit it’s superclass SLList so that RotatingSLList can use member and metheod which are not privat in SLList.<br>Besides that we can make modification by using “Overriding” and add additional functionality to our subclass”RotatingSLList”.</Item></p>
</blockquote>
<h3 id="What-can-subclass-exactly-get-from-it’s-superclass-by-using-keyword”extends”"><a href="#What-can-subclass-exactly-get-from-it’s-superclass-by-using-keyword”extends”" class="headerlink" title="What can subclass exactly get from it’s superclass by using keyword”extends”"></a>What can subclass exactly get from it’s superclass by using keyword”extends”</h3><p>subclass inherit all <strong><em>members</em></strong> of the parent class.<br>“Members” includes:</p>
<ul>
<li>All instance and static variables</li>
<li>All menthods</li>
<li>All nested calsses</li>
</ul>
<blockquote>
<p>Note: Constructors are not inherited,Privat members cannot be directly accessed by subclasses(indirectly use privat member of parent class by using keyword”super”).</p>
</blockquote>
<blockquote>
<p>keyword “super” means that we bypass the child class and use the parent class directly to call any members in parent class regardless of keyword”private”</p>
</blockquote>
<p>For Example:<br>We want to create a new class called “VengefulSLList”,that remembers all items that have been destroyed by method “removeLast”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VengefulSLList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span> <span class="title">SLList</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">        SLList&lt;Item&gt; deletedItems; <span class="comment">//define a new list to store items which are deleted by removeLast()</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span></span>&#123;</span><br><span class="line">          deletedItems = <span class="keyword">new</span> SLList&lt;Item&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">          Item x = <span class="keyword">super</span>.removeLast(); <span class="comment">//use keyword"super" to call privat method in Sllist</span></span><br><span class="line">          deletedItems.addLast(x);</span><br><span class="line">          <span class="keyword">return</span> x;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">         <span class="comment">/**	Prints	deleted	items.	*/</span></span><br><span class="line">        	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printLostItems</span><span class="params">()</span></span>&#123;								deletedItems.print();</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>We can also instantiate the class’s member <strong>*”deletedItems”*</strong> directly in class without using Constructor.(可以在42 行直接实例化deletedItems)</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span>	&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//Nested class</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span></span>&#123; <span class="comment">//anyone outsids the class can't access inside.anyone inside can't access outside too</span></span><br><span class="line">    <span class="keyword">public</span> Item item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(Item i,IntNode n)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=n;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentinel;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//empty list</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">     sentinel= <span class="keyword">new</span> IntNode(<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(Item x)</span>	</span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     sentinel= <span class="keyword">new</span> IntNode(<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentinel.next= <span class="keyword">new</span>	IntNode(x,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(Item i)</span></span>&#123;</span><br><span class="line">   size++;</span><br><span class="line">   sentinel.next=<span class="keyword">new</span> Intnode(i, sentinel.next)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> sentinel.next.item;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//iteration</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(Item i)</span></span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     Intnode p =sentinel;</span><br><span class="line">     <span class="keyword">while</span>(p.next !=<span class="keyword">null</span>)&#123;</span><br><span class="line">       p=p.next;</span><br><span class="line">     &#125;</span><br><span class="line">     p.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>); <span class="comment">// note that the lastnode of a list always points to "null"</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//recursion</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//so called helper Metheod that help us to get the lastnode of a List start with the Node P</span></span><br><span class="line">  <span class="function"><span class="keyword">private</span> IntNode <span class="title">getLastNode</span><span class="params">(IntNode p)</span></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(p.next==<span class="keyword">null</span>)  <span class="comment">//basic case</span></span><br><span class="line">       <span class="keyword">return</span> p;</span><br><span class="line">     <span class="keyword">return</span> getLastNode(p.next);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(Item i)</span></span>&#123;</span><br><span class="line">     IntNode last=getlastNode(sentinel);</span><br><span class="line">     last.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">pubulic <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">     <span class="keyword">for</span>(Node p=sentinel.next;p!=<span class="keyword">null</span>;p=p.next)&#123;</span><br><span class="line">       System.out.print(p.item+<span class="string">"	"</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>实现泛型，仅在最外面class处进行声明“<Generic>” 之后将list 中的相关的普通类型比如“int” 换成“Generic” 即可</Generic></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item x)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item y)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x,<span class="keyword">int</span> position)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;size();i+=<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.print(get(i)+<span class="string">"	"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Constructors-are-not-inherited"><a href="#Constructors-are-not-inherited" class="headerlink" title="Constructors are not inherited"></a>Constructors are not inherited</h3><p>While Constructors are not inherited,java requires that all constructors ***must start with a call to one of its superclass’s constructors.Befor the constructors instantiate/initialize all is’t supperclass,it will not initialize it’s members which are only/new difined in it’s own.</p>
<p>Thus,we can eiter explicity make a call to the superclass’s constructor,using the super keyword:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">super</span>();</span><br><span class="line">  deletedItems=<span class="keyword">new</span> Sllist&lt;Item&gt;(); <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or ,if we choose not to,java will automatically make a call to the superclass’s no argument constructor for us.</p>
<p>If we were to define another constructor in VengefulSLList,java’s implicit call may not be what we intend to call.<br>For Example in this cass we must explicity to make a call to the superclass’special constructor which has parameter “Item x”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">VengefulSLList</span><span class="params">(Intem x)</span></span>&#123;</span><br><span class="line">  <span class="keyword">super</span>(x);</span><br><span class="line">  deletedItems=<span class="keyword">new</span> Sllist&lt;Item&gt;(); <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="The-Object-class"><a href="#The-Object-class" class="headerlink" title="The Object class"></a>The Object class</h3><p>Every class in Java is a descendant(后代) of the Object class,or <strong><em>extends</em></strong> the Object class.Even classes that do not have an explicit <strong><em>extends</em></strong> in there class. That’s means that the class still implicitly extend the Object class.This approach let all class have some commen methods such as eqeals(),hashCode(),toString(). This commen metheds let our life more easier.</p>
<blockquote>
<p>interface doesn’t extend Object method</p>
</blockquote>
<p>###Is-a    vs.    Has-a<br>Important    Note:    The        extends        keyword    defines    “is-a”,    or    hypernymic    relationships.A common mistake is to instead    use    it    for    “has-a”,    or    meronymic    relationships.<br>When    extending    a    class, a wise    thing    to    do    would    be    to    ask    yourself    if the    “is-a”    relationship makes    sense.</p>
<ul>
<li>Shower is    a    Bathroom?    No!</li>
<li>VengefulSLList is a    SLList?    Yes!</li>
</ul>
<p>###Encapsulation</p>
<h4 id="Some-of-the-tools-we-can-use-to-fight-complexity"><a href="#Some-of-the-tools-we-can-use-to-fight-complexity" class="headerlink" title="Some    of    the    tools    we    can    use    to    fight    complexity"></a>Some    of    the    tools    we    can    use    to    fight    complexity</h4><ul>
<li>hierarchical    abstraction    (abstraction barriers!) by using interface inheritace/extends</li>
<li>Design    for    change:programs    should    be    built    into    modular,    interchangeable    pieces    that    can    be    swapped    around without    breaking    the    system</li>
<li>hiding    information    that    others    don’t    need(Encapsulation)</li>
</ul>
<p>In    computer    science    terms,    a    module    can    be    defined    as    a    set    of    methods    that    work    together as    a    whole    to    perform    a    task    or    set    of    related    tasks.    This    could    be    something    like    a    class    that represents    a    list.    Now,    if    the    implementation    details    of    a    module    are    kept    internally    hidden and    the    only    way    to    interact    with    it    is    through    a    documented    interface,    then    that    module    is said    to    be    encapsulated.</p>
<img alt="cs-61b-Extends-Casting-Higher-Order-Functions-Capture1.PNG" src="/.com//cs-61b-Extends-Casting-Higher-Order-Functions-Capture1.PNG" width height>

<p>Take    the        ArrayDeque        class,    for    example.    The    outside    world    is    able    to    utilize    and    interact    with an        ArrayDeque        through    its    defined    methods,    like        addLast        and        removeLast    .    However,    they need    not    understand    the    complex    details    of    how    the    data    structure    was    implemented    in order    to    be    able    to    use    it    effectively.</p>
<h4 id="Abstraction-Barriers"><a href="#Abstraction-Barriers" class="headerlink" title="Abstraction Barriers"></a>Abstraction Barriers</h4><p>By using the keyword “private” we can ensure that the inside of a box(Encapsulation/封装) can’t been seen.This approach help us to reduce the complexity of reusing a code.</p>
<h4 id="How-Inheritance-Breaks-Encapsulation"><a href="#How-Inheritance-Breaks-Encapsulation" class="headerlink" title="How Inheritance Breaks Encapsulation"></a>How Inheritance Breaks Encapsulation</h4><p>Suppose    we    had    the    following    two    methods    in    a    Dog    class.    We    could    have    implemented    bark        and        barkMany        like    so:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">  System.out.println(<span class="string">"bark"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i+=<span class="number">1</span>)&#123;</span><br><span class="line">      bark();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Or,    alternatively,    we    could    have    implemented    it    like    so:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span></span>&#123;</span><br><span class="line">  barkMany(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i+=<span class="number">1</span>)&#123;</span><br><span class="line">  System.out.println(<span class="string">"bark"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>From    a    user’s    perspective,    the    functionality    of    either    of    these    implementations    is    exactly    the same.    However,    observe    the    effect    if    we    were    to    define    a    a    subclass    of        Dog        called    VerboseDog    ,    and    override    its        barkMany        method    as    such:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span></span>&#123;</span><br><span class="line">  System.out.println(<span class="string">"As a dog,I say:"</span>);</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;N;i+=<span class="number">1</span>)&#123;</span><br><span class="line">      bark();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Given    a    VerboseDog vd    ,what    would        vd.barkMany(3)        output,    given    the first    implementation    above?    The    second    implementation?</p>
<ul>
<li>a:    As    a    dog,    I    say:    bark    bark    bark</li>
<li>b:    bark    bark    bark</li>
<li>c:    Something    else</li>
</ul>
<p>As    we    have    seen,    using    the    first    implementation,    the    output    is    A,    while    using    the    second implementation,    the    program    gets    caught    in    an    infinite    loop.    The    call    to        bark()        will    call    barkMany(1)    ,    which    makes    a    call    to        bark()    ,    repeating    the    process    infinitely    many    times,the reason of this is that the both dynamic and static type of Object vd are  VerboseDog,so when we call use vd to call a metheds,vd will check first whether this method is overriding in itself,if so,it will use the overrided methed in itself instead of using the original methode in it’s parrent class.</p>
<h3 id="Type-Checking-and-Casting"><a href="#Type-Checking-and-Casting" class="headerlink" title="Type    Checking    and    Casting"></a>Type    Checking    and    Casting</h3><h4 id="Dynamic-method-selection"><a href="#Dynamic-method-selection" class="headerlink" title="Dynamic    method    selection"></a>Dynamic    method    selection</h4><p>Recall    that dynamic    method    lookup    is    the    process    of    determining    the    method    that    is    executed    at    runtime based    on    the    dynamic    type    of    the    object.    Specifically,    if    a    method    in    SLList    is    overridden    by the    VengefulSLList    class,    then    the    method    that    is    called    at    runtime    is    determined    by    the    runtime    type,    or    dynamic    type,    of    that    variable.</p>
<blockquote>
<p>runtime type means dynamic types<br>compile type means static types</p>
</blockquote>
<p><img src="/.com//Capture2.PNG" alt="Capture2"></p>
<p>Let’s    go    through    this    program.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl=<span class="keyword">new</span> VengefulSLList&lt;Integer&gt;(<span class="number">9</span>);</span><br><span class="line">SLList&lt;Integer&gt;	sl=vsl;</span><br></pre></td></tr></table></figure>
<p>These    two    lines    above    compile    just    fine.    Since        VengefulSLList        “is-an”    SLList,    it’s    valid    to put    an    instance    of    the        VengefulSLList        class    inside    an        SLList        “container”</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sl.addLast(<span class="number">50</span>);</span><br><span class="line">sl.removeLast();</span><br></pre></td></tr></table></figure>
<p>These    lines    above    also    compile.    The    call    to        addLast        is    unambiguous,    as    VengefulSLList    did not    override    or    implement    it,    so    the    method    executed    is    in    SLList.    The        removeLast        method is    overridden    by    VengefulSLList,    however,    so    we    take    a    look    at    the    dynamic    type    of        sl    .    Its dynamic    type    is    VengefulSLList,    and    so    dynamic    method    selection    chooses    the    overridden method    in    the    VengefulSLList    class.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sl.printLostItems();</span><br></pre></td></tr></table></figure>
<p>This    line    above    results    in    a    compile-time    error.    Remember    that    the    compiler    determines whether    or    not    something    is    valid    based    on    the    static    type    of    the    object.    Since        sl        is    of static    type    SLList,    and        printLostItems        is    not    defined    in    the    SLList    class,    the    code    will    not    be allowed    to    run,    even    though        sl    ‘s    runtime    type    is    VengefulSLList</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt;	vsl2	=	sl;</span><br></pre></td></tr></table></figure>
<p>This    line    above    also    results    in    a    compile-time    error,    for    a    similar    reason.    In    general,    the compiler    only    allows    method    calls    and    assignments    based    on    compile-time    types.    Since    the compiler    only    sees    that    the    static    type    of        sl        is    SLList,    it    will    not    allow    a    VengefulSLList “container”    to    hold    it.</p>
<h4 id="Expressions"><a href="#Expressions" class="headerlink" title="Expressions"></a>Expressions</h4><p>Like    variables    as    seen    above,    expressions    using    the        new        keyword    also    have    (static type)compile-time types.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SLList&lt;Integer&gt; sl=<span class="keyword">new</span> VengefulSLList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>Above,    the    compile-time    type    of    the    right-hand    side    of    the    expression    is    VengefulSLList.    The compiler    checks    to    make    sure    that    VengefulSLList    “is-a”    SLList,    and    allows    this    assignment,</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VengefulSLList&lt;Integer&gt; vsl=<span class="keyword">new</span> SLList&lt;Integer&gt;();</span><br></pre></td></tr></table></figure>
<p>Above,    the    compile-time    type    of    the    right-hand    side    of    the    expression    is    SLList.    The    compiler checks    if    SLList    “is-a”    VengefulSLList,    which    it    is    not    in    all    cases,    and    thus    a    compilation error    results.<br>Further,    method    calls    have    compile-time    types    equal    to    their    declared    type.    Suppose    we have    this    method:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Dog <span class="title">maxDog</span><span class="params">(Dog d1,Dog d2)</span></span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>Since    the    return    type    of        maxDog        is    Dog,    any    call    to        maxDog        will    have    compile-time    type    Dog.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Poodle frank=<span class="keyword">new</span> Poodle(<span class="string">"Frank"</span>,<span class="number">5</span>);</span><br><span class="line">Poodle frankJr=<span class="keyword">new</span> Poodle(<span class="string">"Frank Jr."</span>,<span class="number">15</span>);</span><br><span class="line">Dog largerDog=maxDog(frank,frankJr);</span><br><span class="line">Poodle largerPoodle=maxDog(frank,frankJr);<span class="comment">//does not compile! RHS has compile-time type Dog</span></span><br></pre></td></tr></table></figure>
<p>Assigning    a    Dog    object    to    a    Poodle    variable,    like    in    the    SLList    case,    results    in    a    compilation error.    A    Poodle    “is-a”    Dog,    but    a    more    general    Dog    object    may    not    always    be    a    Poodle,    even if    it    clearly    is    to    you    and    me    (we    know    that        frank        and        frankJr        are    both    Poodles!).    Is    there any    way    around    this,    when    we    know    for    certain    that    assignment    would    work?</p>
<h4 id="Casting"><a href="#Casting" class="headerlink" title="Casting"></a>Casting</h4><p>Java    has    a    special    syntax    where    you    can    tell    the    compiler    that    a    specific    expression    has    a specific    compile-time    type.    This    is    called    “casting”.    With    casting,    we    can    tell    the    compiler    to view    an    expression    as    a    different    (static type)compile-time    type.</p>
<p>Looking    back    at    the    code    that    failed    above,    since    we    know    that        frank        and        frankJr        are both    Poodles,    we    can    cast:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Poodle largerPoodle=(Poodle)maxDog(frank,frankJr);<span class="comment">//compiles!Right hand side has compile-time type Poodle after casting</span></span><br></pre></td></tr></table></figure>

<p>Caution:    Casting    is    a    powerful    but    dangerous    tool.    Essentially,    casting    is    telling    the    compiler not    to    do    its    type-checking    duties    -    telling    it    to    trust    you    and    act    the    way    you    want    it    to.    Here’s a    possible    issue    that    could    arise:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Poodle frank=<span class="keyword">new</span> Poodle(<span class="string">"Frank"</span>,<span class="number">5</span>);</span><br><span class="line">Malamute frankSr=<span class="keyword">new</span> Malamute(<span class="string">"Frank Sr."</span>, <span class="number">100</span>); <span class="comment">//另外一个狗的类</span></span><br><span class="line">Poodle largerPoodle=(Poodle) maxDog(frank,frankSr);	<span class="comment">//runtime exception!</span></span><br></pre></td></tr></table></figure>
<p>In    this    case,    we    compare    a    Poodle    and    a    Malamute.    Without    casting,    the    compiler    would normally    not    allow    the    call    to        maxDog        to    compile,    as    the    right    hand    side    compile-time    type would    be    Dog,    not    Poodle.    However,    casting    allows    this    code    to    pass,    and    when        maxDog    returns    the    Malamute    at    runtime,    and    we    try    casting    a    Malamute    as    a    Poodle,    we    run    into    a runtime    exception    -    a        ClassCastException    .</p>
<h3 id="Higher-Order-Functions"><a href="#Higher-Order-Functions" class="headerlink" title="Higher    Order    Functions"></a>Higher    Order    Functions</h3><p>Taking    a    little    bit    of    a    detour,    we    are    going    to    introduce    higher    order    functions.    A    higher    order function    is    a    function    that    treats    other    functions    as    data. For example in phython:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def tenX(x):</span><br><span class="line">return 10*x</span><br><span class="line">def do_twice(f,x):</span><br><span class="line">return f(f(x))</span><br></pre></td></tr></table></figure>
<p>A    call    to        print(do_twice(tenX,    2))        would    apply    tenX    to    2,    and    apply    tenX    again    to    its    result, 20,    resulting    in    200.</p>
<p>How    would    we    do    something    like    this    in    Java?</p>
<p>In    old    school    Java    (Java    7    and    earlier),    memory    boxes    (variables)    could    not    contain    pointers to    functions.    What    that    means    is    that    we    could    not    write    a    function    that    has    a    “Function” type,    as    there    was    simply    no    type    for    functions.<br>To    get    around    this    we    can    take    advantage    of    interface    inheritance.    Let’s    write    an    interface that    defines    any    function    that    takes    in    an    integer    and    returns    an    integer    -    an    IntUnaryFunction</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntUnaryFunction</span></span>&#123;</span><br><span class="line">  	<span class="function"><span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now    we    can    write    a    class    which        implements    IntUnaryFunction        to    represent    a    concrete function.    Let’s    make    a    function    that    takes    in    an    integer    and    returns    10    times    that    integer.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TenX</span> <span class="keyword">implements</span> <span class="title">IntUnaryFunction</span></span>&#123;</span><br><span class="line"><span class="comment">/*	Returns ten times the argument.	*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span>*x;</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>##Inheritance    Cheatsheet</p>
<p>Variables,    methods    nested    classes Not    constructors    Subclass    constructors    must    invoke    superclass    constructor    first.    The    super        keyword    can    be    used    to    invoke    overridden    superclass    methods    and constructors.</p>
<p>Invocation    of    overridden    methods    follows    two    simple    rules:</p>
<ul>
<li>Compiler    plays    it    safe    and    only    allows    us    to    do    things    according    to    the    static    type.</li>
<li>For    overridden    methods    (not    overloaded    methods),    the    actual    method    invoked    is    based on    the    dynamic    type    of    the    invoking    expression</li>
<li>Can    use    casting    to    overrule    compiler    type    checking.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/09/cs-61b-4-1-Interface-and-Implementation-Inheritance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/09/cs-61b-4-1-Interface-and-Implementation-Inheritance/" class="post-title-link" itemprop="url">cs 61b 4.1 Interface and Implementation Inheritance</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-09 08:12:02" itemprop="dateCreated datePublished" datetime="2020-03-09T08:12:02+01:00">2020-03-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-11 18:27:49" itemprop="dateModified" datetime="2020-03-11T18:27:49+01:00">2020-03-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="4-1-Interface-and-Implementation-Inheritance"><a href="#4-1-Interface-and-Implementation-Inheritance" class="headerlink" title="4.1 Interface and Implementation Inheritance"></a>4.1 Interface and Implementation Inheritance</h1><h2 id="Method-Overloading-in-java"><a href="#Method-Overloading-in-java" class="headerlink" title="Method Overloading in java"></a>Method Overloading in java</h2><p>The meaning of this is pretty easy. Wenn 2 methods in a class have same name but different parameters, the 2 method called overloading. Wenn we call a method which is overloaded in a class ,compile will automatically identify which method should be used according to the specific parameter.</p>
<p>For example:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List <span class="class"><span class="keyword">class</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longest</span><span class="params">(AList&lt;String&gt; list)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">longest</span><span class="params">(SList&lt;String&gt; list)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Signature of a method: public static String longest(AList<String> list)<br>Name of a method: public static String longest<br>Parameter of a method: AList <String> list</String></String></p>
</blockquote>
<h3 id="why-we-don’t-want-to-use-Overloading"><a href="#why-we-don’t-want-to-use-Overloading" class="headerlink" title="why we don’t want to use Overloading"></a>why we don’t want to use Overloading</h3><p>One disadvantage of Overloading is imaging that a class have 100 methods which have same name bud different paramenters (Overloading), wenn we find out that the overloading methods actually have a bug und we wand to fix it. Then what happened? We must go into the 100 methods one by one and manually fix it. That cost massive time. More worst is that we fixed 99 error/bugs in 99 overload method but forgot there is one error behind ,it will cost a big trouble for us.</p>
<h2 id="Hypernyms-Hyponyms-and-Interface-Inheritance"><a href="#Hypernyms-Hyponyms-and-Interface-Inheritance" class="headerlink" title="Hypernyms, Hyponyms, and Interface Inheritance"></a>Hypernyms, Hyponyms, and Interface Inheritance</h2><h3 id="To-understand-the-Inheritance-Let’s-us-first-known-the-meaning-of-the-Hypernyms-and-Hyponyms"><a href="#To-understand-the-Inheritance-Let’s-us-first-known-the-meaning-of-the-Hypernyms-and-Hyponyms" class="headerlink" title="To understand the Inheritance ,Let’s us first known the meaning of the Hypernyms and Hyponyms ."></a>To understand the Inheritance ,Let’s us first known the meaning of the Hypernyms and Hyponyms .</h3><ul>
<li><p>Hypernyms<br>The meaning of Hypernyms is pretty easy. Hypernyms is a abstract concept of a series of concrete Items which have common character. or example:<br>Dog is a “Hypernym” of poodle(贵宾犬),malamute(爱斯基摩 ),youkie (某种狗),etc.</p>
</li>
<li><p>Hyponyms<br>Hyponyms is the opposite type of Hypernyms which means that hyponyms is one of the concrete item’s name of a abstract concept. For example:<br>“poodle” is Hyponym of “dog”</p>
</li>
<li><p>the relationship between Hypernym and hyponyms(is a relationship)</p>
<ul>
<li>a poodle “is a” Dog</li>
<li>a dog “is a” carnivore</li>
<li>a carnivore “is a” animal</li>
</ul>
</li>
</ul>
<blockquote>
<p>this relationship build a tree hierarchy. Animal is the root, which followed by Carnivore(食肉动物), Omnivore(草食动物), Herbivore(草食动物). Then dog follow the carnivore and so on.</p>
</blockquote>
<h3 id="The-simple-hyponymic-relationship-in-Java–-gt-Interface-Inherence"><a href="#The-simple-hyponymic-relationship-in-Java–-gt-Interface-Inherence" class="headerlink" title="The simple hyponymic relationship in Java–&gt; Interface Inherence"></a>The simple hyponymic relationship in Java–&gt; Interface Inherence</h3><p>For example, AList and SLList has so many similar characters(method). For this reason we can define a same hypernym(Superclass/general list hypernym) for AList and SLList called List61b,which define what a list should to do but doesn’t provide any concept implementation for those behaviors.</p>
<p>In Java,in order to express this relationship, We need to do <strong><em>two things</em></strong></p>
<ul>
<li><p>Step1 :Define a type for the general list hypernym–we will choose the name List61b</p>
</li>
<li><p>Step2: Specify that SLList and AList are hyponyms of that type.</p>
<p><strong><em>first step</em></strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item x)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item y)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x,<span class="keyword">int</span> position)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong><em>second step</em></strong>:</p>
<p>We will add to</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>a relationship-defining word: implements.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">implements</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>this means that Alist saying “I    promise    I    will    have    and define    all    the    attributes    and    behaviors    specified    in    the    List61B    interface”.</p>
<blockquote>
<p>A interface could inherite other interface by using keyword “extends”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">A</span>&lt;<span class="title">Item</span>&gt; <span class="keyword">extends</span> <span class="title">B</span>&lt;<span class="title">Item</span>&gt;,<span class="title">C</span>&lt;<span class="title">Item</span>&gt;,<span class="title">D</span>&lt;<span class="title">Item</span>&gt;</span>&#123;...&#125;</span><br></pre></td></tr></table></figure>
<p>B,C,D are public interface.</p>
<h2 id="Overriding"><a href="#Overriding" class="headerlink" title="Overriding"></a>Overriding</h2><p>Overriding mean that we will implement all methods which come from the superclass as we promised.</p>
<blockquote>
<p>Note: One gut manner to implement all the methods come from the superclass is that we set a tag  <strong>*”@Override”*</strong> before each of every methods which we want to implement.</p>
</blockquote>
<blockquote>
<p>with this tag <strong>*”@Override”*</strong> we can prevent this awkward situation:<br>Say    we    want    to    override    the        addLast        method.    What    if    we    make    a    typo    and    accidentally write        addLsat    ?    If    we    don’t    include    the    @Override    tag,    then    we    might    not    catch    the mistake,    which    could    make    debugging    a    more    difficult    and    painful    process.    Whereas    if    we include    @Override,    the    compiler    will    stop    and    prompt    you    to    fix    your    mistakes    before    your program    even    runs.</p>
</blockquote>
<h2 id="Interface-Inheritance"><a href="#Interface-Inheritance" class="headerlink" title="Interface Inheritance"></a>Interface Inheritance</h2><p><img src="/.com//Capture_3za2mffd8.PNG" alt="Capture"></p>
<blockquote>
<p>White box is Interface<br>Green box is class</p>
</blockquote>
<ul>
<li><p>As we said before the interface include all the methode signature ,but not implementations. The implementation will be completeD by subclasses according to subclass’s characters.One thing must be known that this inheritance is also multi-generaritional.This means that the subclass Alist has superclass List61B and List61B alos has a father called Collection61B,in this situation the subclass Alist will inherite all metheds which are eiter in List61b or in Collection61B.</p>
</li>
<li><p>For the “is a”/Interface Inheritance relationship we can following statement:</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span>	<span class="keyword">static</span>	<span class="keyword">void</span>	<span class="title">main</span><span class="params">(String[]	args)</span>	</span>&#123;</span><br><span class="line">  List61B&lt;String&gt; someList=<span class="keyword">new</span> SLList&lt;String&gt;();</span><br><span class="line">  someList.addFirst(<span class="string">"elk"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>that’s means that we can create a new Sllist and store it’s address in it’s supperklass’s memory box called someList.then we can use someList to call everything in SLList.Since the memory box”someList” point to SLList.</p>
<h2 id="Implementation-inheritance"><a href="#Implementation-inheritance" class="headerlink" title="Implementation inheritance"></a>Implementation inheritance</h2><h3 id="idea"><a href="#idea" class="headerlink" title="idea:"></a>idea:</h3><p>The subclass can not only ihherit signatures and implementation.</p>
<h3 id="How-to-achieve-this-Goal"><a href="#How-to-achieve-this-Goal" class="headerlink" title="How to achieve this Goal"></a>How to achieve this Goal</h3><p>Basically we can’t insert concrete implementation in interface,but it’s allowed to use the <strong><em>default</em></strong> keyword to specify a method that the subclass should inherit from an interface.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List61B</span>&lt;<span class="title">Item</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(Item	x)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Item y)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">getLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Item <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item x,<span class="keyword">int</span> position)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;size();i+=<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.print(get(i)+<span class="string">"	"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Then    everything    that    implements    the    List61B    class    can    use    the    method!</p>
</blockquote>
<blockquote>
<p>And wenn this general print method doesn’t suit a specific subclass(SLList),SLList can override it(rewrite the print method).Now,    whenever    we    call    print()    on    an SLList,    it    will    call    this    method    instead    of    the    one    in List61B.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(Node p=sentinel.next;p!=<span class="keyword">null</span>;p=p.next)&#123;</span><br><span class="line">    System.out.print(p.item+<span class="string">"	"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Static-and-Dynamic-type-Dynamic-method-selection-gt-solve-the-problem-how-does-Java-know-which-print-to-call"><a href="#Static-and-Dynamic-type-Dynamic-method-selection-gt-solve-the-problem-how-does-Java-know-which-print-to-call" class="headerlink" title="Static and Dynamic type,Dynamic method selection-&gt;solve the problem,how does Java know which print() to call?"></a>Static and Dynamic type,Dynamic method selection-&gt;solve the problem,how does Java know which print() to call?</h2><ul>
<li><p>static type: this is the type specified an declaration.never changes!</p>
</li>
<li><p>dynamic type: this is the type specified an instantiation(e.g. when using new)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List61B&lt;String&gt; lst = <span class="keyword">new</span> SLList&lt;String&gt;();</span><br></pre></td></tr></table></figure>
</li>
<li><p>Dynamic method selection</p>
</li>
</ul>
<p>wenn the superclass List61B hst a print method and this methed is Overriding in SLList,wenn we use Ist to call print method,the print method in SLList will be picked up ,since the dynamic type of Ist is SLList.</p>
<blockquote>
<p>In    the    above    declaration    and    instantiation,    lst    is    of    type    “List61B”.    This    is    called    the    “static type”<br>However,    the    objects    themselves    have    types    as    well.    the    object    that    lst    points    to    is    of    type SLList.    Although    this    object    is    intrinsically    an    SLList    (since    it    was    declared    as    such),    it    is    also a    List61B,    because    of    the    “is-a”    relationship    we    explored    earlier.    But,    because    the    object itself    was    instantiated    using    the    SLList    constructor,    We    call    this    its    “dynamic    type”.<br>Aside:    the    name    “dynamic    type”    is    actually    quite    semantic    in    its    origin!    Should    lst    be reassigned    to    point    to    an    object    of    another    type,    say    a    AList    object,    lst’s    dynamic    type    would now    be    AList    and    not    SLList!    It’s    dynamic    because    it    changes    based    on    the    type    of    the object    it’s    currently    referring    to. When    Java    runs    a    method    that    is    overriden,    it    searches    for    the    appropriate    method    signature in    it’s    dynamic    type    and    runs    it.</p>
</blockquote>
<p><strong><em>IMPORTANT:    This    does    not    work    for    overloaded    methods!</em></strong><br>for example:</p>
<p>Say    there    are    two    methods    in    the    same    class</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">peek</span><span class="params">(List61B&lt;String&gt; list)</span></span>&#123;</span><br><span class="line">  System.out.println(list.getLast());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">peek</span><span class="params">(SLList&lt;String&gt; list)</span></span>&#123;</span><br><span class="line">  System.out.println(list.getFirst());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and    you    run    this    code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SLList&lt;String&gt;	SP=<span class="keyword">new</span> SLList&lt;String&gt;();</span><br><span class="line">List61B&lt;String&gt;	LP= SP;</span><br><span class="line">SP.addLast(<span class="string">"elk"</span>);</span><br><span class="line">SP.addLast(<span class="string">"are"</span>);</span><br><span class="line">SP.addLast(<span class="string">"cool"</span>);</span><br><span class="line">peek(SP);</span><br><span class="line">peek(LP);</span><br></pre></td></tr></table></figure>
<p>ruselt:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">elk</span><br><span class="line">cool</span><br><span class="line">`</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/08/cs-61b-3-1-Testing-and-Selection-sort/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/08/cs-61b-3-1-Testing-and-Selection-sort/" class="post-title-link" itemprop="url">cs 61b 3.1 Testing and Selection sort</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-08 21:18:22" itemprop="dateCreated datePublished" datetime="2020-03-08T21:18:22+01:00">2020-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-09 07:45:29" itemprop="dateModified" datetime="2020-03-09T07:45:29+01:00">2020-03-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Testing-and-Selection-Sort"><a href="#Testing-and-Selection-Sort" class="headerlink" title="Testing and Selection Sort)"></a>Testing and Selection Sort)</h1><h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><h3 id="2-different-Approach-to-write-a-Testing"><a href="#2-different-Approach-to-write-a-Testing" class="headerlink" title="2 different Approach to write a Testing"></a>2 different Approach to write a Testing</h3><h4 id="Ad-Hoc-Testing"><a href="#Ad-Hoc-Testing" class="headerlink" title="Ad Hoc Testing"></a>Ad Hoc Testing</h4><p>Wenn we want to verify for example a sort method in Class Sort ,we can  straight write a whole test method  by using loop.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSort</span>	</span>&#123;</span><br><span class="line"><span class="comment">/**	Tests	the	sort	method	of	the	Sort	class.	*/</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">testSort</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">		String[] input =&#123;<span class="string">"i"</span>,<span class="string">"have"</span>,<span class="string">"an"</span>,<span class="string">"egg"</span>&#125;;</span><br><span class="line">		String[] expected=&#123;<span class="string">"an"</span>,<span class="string">"egg"</span>,<span class="string">"have"</span>,<span class="string">"i"</span>&#125;;</span><br><span class="line">		Sort.sort(input);</span><br><span class="line">		<span class="keyword">for</span>	(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;input.length;i+=<span class="number">1</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>(!input[i].equals(expected[i]))	&#123;</span><br><span class="line">				System.out.println(<span class="string">"Mismatch in position"</span>+ i +<span class="string">",expected:"</span>+expected+<span class="string">",but got:"</span>+input[i]+<span class="string">"."</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">		testSort();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>We can test out our test by creating a blank Sort.sort method as showing bellow:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sort</span></span>&#123;</span><br><span class="line"><span class="comment">/**	Sorts strings destructively.*/</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] x)</span></span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>if we run the testSort method with this black Sort.sort method ,we’d get:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mismatch in position <span class="number">0</span>,expected:an,but got: i.</span><br></pre></td></tr></table></figure>

<p>if we got this erro ,this means out test is working.</p>
<blockquote>
<p>Note:In order to compare whether 2 string e.g.input and expected or every position in the 2 String(input[i] and expected[i]) is equal, we can’t use  <strong>*””==””*</strong> , since the 2 string is Object,Therefore  <strong>*””==””*</strong>  would only compared the literal bits in the 2 memory box which store adresse of 2 String respectively.This means the compare of 2 String using “==”would never be true because the 2 String habe different addresse.</p>
</blockquote>
<blockquote>
<p>The Type of Array and String is reference Type(Object).To compare content of a array or string we must use <strong><em>equals method</em></strong> in java.</p>
</blockquote>
<h3 id="JUnit-Testing"><a href="#JUnit-Testing" class="headerlink" title="JUnit Testing"></a>JUnit Testing</h3><p>Instead of writing whole test for Sort.sort,we could divide Sort.sort into diffrent part,for each of the part in the sort we first write a test then write code to achieve the feeture of this part.After successful testing of this part we moved on next part of sort.</p>
<h4 id="Ein-example-Selection-Sorts"><a href="#Ein-example-Selection-Sorts" class="headerlink" title="Ein example: Selection Sorts"></a>Ein example: Selection Sorts</h4><h5 id="The-idea-of-Selection-Sort"><a href="#The-idea-of-Selection-Sort" class="headerlink" title="The idea of Selection Sort"></a>The idea of Selection Sort</h5><ul>
<li>find the smallest item</li>
<li>move it to the front</li>
<li>selection sort the remaining N-1 items(without touching front item!)</li>
</ul>
<h3 id="A-bunch-of-tricks-in-testing-debuger"><a href="#A-bunch-of-tricks-in-testing-debuger" class="headerlink" title="A bunch of tricks in testing/debuger"></a>A bunch of tricks in testing/debuger</h3><h4 id="2-option-about-debuger"><a href="#2-option-about-debuger" class="headerlink" title="2 option about debuger"></a>2 option about debuger</h4><ul>
<li>step over ：By using this option we can easily get a result of a function and ignore the any tedious in this function,Using this approach we can quikly find which part of sort is not correct then fix it.</li>
</ul>
<ul>
<li>step in : By using this option we can go into a function and know every detail of this function. This is very boring to step into every part of sort and wast massiv time.But it can bu useful,wenn we use the option of step over find out which part of Sort is incorrect,we can step into this part to find out what’s really wrong.</li>
</ul>
<h4 id="Simple-JUnit"><a href="#Simple-JUnit" class="headerlink" title="Simple JUnit"></a>Simple JUnit</h4><p>Instead of using a loop to find out whether 2 String is equal we can easily use a function called assertEquals in JUnit to compare the 2 string.This function can automatic compare 2 String and tell us in which position the 2 string is not eqeal.What we need to do is only to give the 2 string.</p>
<ul>
<li><p>Syntax of this instruction</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.jnuit.Assert.assertEquals(expected,actual);</span><br></pre></td></tr></table></figure>
</li>
<li><p>JUnit does more:</p>
<ul>
<li>Other method like assertEquals include assertFalse assertNotNull,etc.</li>
<li>other more complex behaviour to support more sophisticated testing.</li>
</ul>
</li>
</ul>
<h4 id="Write-a-Test-without-main-method"><a href="#Write-a-Test-without-main-method" class="headerlink" title="Write a Test without main method"></a>Write a Test without main method</h4><p>Instead of writing a main method to call our test method to test each part of Sort we can set a mark <strong><em>@org.jnuit.Test</em></strong> in the front of every test method,and click the button “run” to select the option <strong>* “run without main method”*</strong>,then we can easily know the result of test.</p>
<ul>
<li>Annotate each test with @org.jnuit.Test</li>
<li>Change all test methods to non-static</li>
<li>Use a JUnit runner to tun all tests and tabulate results.<ul>
<li>IntelliJ provides a default runner/renderer.OK to delete main.</li>
<li>Rendered output is easier to read ,no need to manually invoke tests!</li>
</ul>
</li>
</ul>
<h4 id="Annoying-by-function-prefix"><a href="#Annoying-by-function-prefix" class="headerlink" title="Annoying by function prefix"></a>Annoying by function prefix</h4><p>It is annoying to tyoe out the name of the library repeatedly,e.g. <strong><em>org.junit.Test</em></strong> and ***org.junit.Assert.assertEquals.</p>
<p>To avoid this we’ll start every test file with：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br></pre></td></tr></table></figure>

<h3 id="The-right-way-to-wirte-code-summary"><a href="#The-right-way-to-wirte-code-summary" class="headerlink" title="The right way to wirte code summary"></a>The right way to wirte code summary</h3><p>we should write our code follow the rule below(Test-Driven Development(TDD)):</p>
<ul>
<li>Find out what we need to do in our code(what is our job in the task).</li>
<li>Divide the whole task into different part(different unit),each of which implement a simple part of this task.</li>
<li>Befor write a unit of whole task,wirte a test for this JUnit</li>
<li>Run this test,it should fail.</li>
<li>Write code that passes test</li>
<li>Then we move to next part(unit) and repeat Step three to step five until we complete the whole task.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/08/The-AList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/08/The-AList/" class="post-title-link" itemprop="url">cs61b the AList</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-08 10:07:01 / Modified: 12:17:38" itemprop="dateCreated datePublished" datetime="2020-03-08T10:07:01+01:00">2020-03-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="The-Alist-Array-list"><a href="#The-Alist-Array-list" class="headerlink" title="The Alist(Array list)"></a>The Alist(Array list)</h1><h2 id="Why-we-need-a-ALList-instead-of-using-DLList-double-link-list-？"><a href="#Why-we-need-a-ALList-instead-of-using-DLList-double-link-list-？" class="headerlink" title="Why we need a ALList instead of using DLList(double link list)？"></a>Why we need a ALList instead of using DLList(double link list)？</h2><p>Wenn we use  DLList,we can easily add or delete a item in the front and back of the list,but what if we want to get a item in the middle of list which has 100000 item,this action would cost more than 1 second.That’s unacceptable.Insdead we can easily get a item by using a AList whereever it’s in a AList.</p>
<h2 id="The-basic-stucture-of-Alist"><a href="#The-basic-stucture-of-Alist" class="headerlink" title="The basic stucture of Alist"></a>The basic stucture of Alist</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Invariants:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> addLast: The next item we want to add, will go into position size</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> getLast: The item we want to return is in position size - 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> size: The number of items in the list should be size.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] items;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Creates an empty list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AList</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        items = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Inserts X into the back of the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        items[size] = x;</span><br><span class="line"></span><br><span class="line">        size = size + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the item from the back of the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> items[size - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Gets the ith item in the list (0 is the front). */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> items[i];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the number of items in the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Deletes item from back of the list and</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * returns deleted item. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> x = getLast();</span><br><span class="line"></span><br><span class="line">        size = size - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>For this Approach right now wenn we wand to remove a item from the last of AList,we don’t need to set the value of the lastitem which we want to move to 0,the only things we need to do is that decrement the value of variable called <strong><em>size</em></strong></p>
</blockquote>
<h2 id="Resizing-Arrays"><a href="#Resizing-Arrays" class="headerlink" title="Resizing Arrays"></a>Resizing Arrays</h2><p>Becaus of the character of arrays we can’t change the length of arrays once it has been created.Thus we can not put 101 items into our previous approach which instantiat a array with length 100.That’s why we need this method.</p>
<h3 id="Bascic-implementation-of-resizing-method"><a href="#Bascic-implementation-of-resizing-method" class="headerlink" title="Bascic implementation of resizing method"></a>Bascic implementation of resizing method</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span>[] a=<span class="keyword">new</span> <span class="keyword">int</span>[capacity];</span><br><span class="line">  System.arraycopy(items,<span class="number">0</span>,a,<span class="number">0</span>,size);</span><br><span class="line">  items=a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Efficiency-issue"><a href="#Efficiency-issue" class="headerlink" title="Efficiency issue"></a>Efficiency issue</h2><h3 id="Runtime-issue"><a href="#Runtime-issue" class="headerlink" title="Runtime issue"></a>Runtime issue</h3><p>wenn we first instantiat a array with length 100 in a AList and then we wand add 10000 item in the Alist.we could resize the length of array by increment the array’s length 1 every time wenn we add a item into the list.Thats means we need to resize the list 10000 times,which cost massive time.Therefore we need to find a trick to reduce the times of resizing the Alist.</p>
<p>the bacic idea of this trick is that we resize the length of array to <strong><em>size(quantity of items in the array)*Factor</em></strong>. The value of the variable Factor should be seted regard claim of Users(usually 2)</p>
<h3 id="Save-memory"><a href="#Save-memory" class="headerlink" title="Save memory"></a>Save memory</h3><p>Suppose we first insert 10000 items then remove 9999 items,now we got a array which has length 10000 but only one useful item.This waste massive memory.To save memory we need define ***the “usage ratio” R=size/items.length,whenever R is less than 0.25,we call the resizing method to resize the length of Arrays</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Invariants:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> addLast: The next item we want to add, will go into position size</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> getLast: The item we want to return is in position size - 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> size: The number of items in the list should be size.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] items;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> R=<span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> Factor=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Creates an empty list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AList</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        items = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Inserts X into the back of the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size==items.length)&#123;</span><br><span class="line">          resize(size*Factor)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        items[size] = x;</span><br><span class="line"></span><br><span class="line">        size = size + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the item from the back of the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> items[size - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Gets the ith item in the list (0 is the front). */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> items[i];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the number of items in the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Deletes item from back of the list and</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * returns deleted item. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(currentUsageRation()&lt;R)&#123;</span><br><span class="line">          resize((<span class="keyword">int</span>)items.length*<span class="number">0.4</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> x = getLast();</span><br><span class="line"></span><br><span class="line">        size = size - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">currentUsageRation</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> size/items.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span></span>&#123;</span><br><span class="line">      <span class="keyword">int</span>[] a=<span class="keyword">new</span> <span class="keyword">int</span>[capacity];</span><br><span class="line">      System.arraycopy(items,<span class="number">0</span>,a,<span class="number">0</span>,size);</span><br><span class="line">      items=a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Generic-Alist"><a href="#Generic-Alist" class="headerlink" title="Generic Alist"></a>Generic Alist</h2><p>The bacic idea is similar as generic DLList or SLList,but one different is that java basically don’t allow us to declare a Generic AList. To achieve our goal we need a more tricky way:</p>
<p>first we declare a object array then downcast（向下转型）to Generic</p>
<blockquote>
<p>声明一个元类型数组，向下转型到“泛型”</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Generic[] items =（Generic []）<span class="keyword">new</span> object[<span class="number">8</span>]</span><br></pre></td></tr></table></figure>

<h2 id="The-whole-story-of-AList"><a href="#The-whole-story-of-AList" class="headerlink" title="The whole story of AList"></a>The whole story of AList</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Invariants:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> addLast: The next item we want to add, will go into position size</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> getLast: The item we want to return is in position size - 1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> size: The number of items in the list should be size.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AList</span>&lt;<span class="title">Glorp</span>&gt; </span>&#123;</span><br><span class="line">&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Glorp[] items;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> R=<span class="number">0.25</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> Factor=<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Creates an empty list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AList</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        items = (Glorp [])<span class="keyword">new</span> Object[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Inserts X into the back of the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(Glorp x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(size==items.length)&#123;</span><br><span class="line">          resize(size*Factor)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        items[size] = x;</span><br><span class="line"></span><br><span class="line">        size = size + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the item from the back of the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Glorp <span class="title">getLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> items[size - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Gets the ith item in the list (0 is the front). */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Glorp <span class="title">get</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> items[i];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns the number of items in the list. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Deletes item from back of the list and</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * returns deleted item. */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Glorp <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(currentUsageRation()&lt;R)&#123;</span><br><span class="line">          resize((<span class="keyword">int</span>)items.length*<span class="number">0.4</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Glorp x = getLast();</span><br><span class="line"></span><br><span class="line">        size = size - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">currentUsageRation</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> size/items.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span></span>&#123;</span><br><span class="line">      <span class="keyword">int</span>[] a=<span class="keyword">new</span> <span class="keyword">int</span>[capacity];</span><br><span class="line">      System.arraycopy(items,<span class="number">0</span>,a,<span class="number">0</span>,size);</span><br><span class="line">      items=a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/07/cs-61b-Arrays/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/07/cs-61b-Arrays/" class="post-title-link" itemprop="url">cs 61b Arrays</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-07 19:17:03" itemprop="dateCreated datePublished" datetime="2020-03-07T19:17:03+01:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-08 08:41:13" itemprop="dateModified" datetime="2020-03-08T08:41:13+01:00">2020-03-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h1><h2 id="Arrays’s-character"><a href="#Arrays’s-character" class="headerlink" title="Arrays’s character"></a>Arrays’s character</h2><p>Arrays consist of</p>
<ul>
<li>A fixed integer length,N</li>
<li>A sequence of N menory boxes(N=length)where all boxes are of the same type,and are numbered 0 through N-1.</li>
</ul>
<h2 id="Three-approach-to-define-a-Arrays"><a href="#Three-approach-to-define-a-Arrays" class="headerlink" title="Three approach to define a Arrays"></a>Three approach to define a Arrays</h2><ul>
<li>x=new int[3];</li>
</ul>
<p>creat a Arrays with 3 memory box which filled default int value 0 and the address of the Arrays will been stored in a memory box called x.</p>
<ul>
<li><p>y=new int[]{1,2,3,4,5}<br>creat a Arrays with specified length which is 5  and the address of the Arrays will been stored in a memory box called y.</p>
</li>
<li><p>int[] z ={9,10,11,12,13,14}<br>creat a Arrays with specified length which is 5  and the address of the Arrays will been stored in a memory box called z.</p>
</li>
</ul>
<h2 id="How-to-copy-a-Arrays-from-one-place-to-another"><a href="#How-to-copy-a-Arrays-from-one-place-to-another" class="headerlink" title="How to copy a Arrays from one place to another"></a>How to copy a Arrays from one place to another</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.arraycopy(x,a,y,b,c);</span><br></pre></td></tr></table></figure>
<p>this method has 5 parameters</p>
<ul>
<li>the array to use as a source</li>
<li>where to start in the source array</li>
<li>the array to use as a destination</li>
<li>where to start in the destination array</li>
<li>how many item to copy</li>
</ul>
<h2 id="Get-array’s-length"><a href="#Get-array’s-length" class="headerlink" title="Get array’s length"></a>Get array’s length</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> y;</span><br><span class="line">x=<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">y=x.length;</span><br><span class="line">System.out.printf(y);  <span class="comment">//y=5</span></span><br></pre></td></tr></table></figure>

<h2 id="2D-Arrays-in-java"><a href="#2D-Arrays-in-java" class="headerlink" title="2D Arrays in java"></a>2D Arrays in java</h2><p>the meaning of 2D Arrays is actually just an array of array.To understand this concept.Let’s us see same intresting example.</p>
<ul>
<li>int[ ][ ] bamboozle=new int[4][ ];</li>
</ul>
<p>by the right half of this equation <strong><em>new int[4][ ]</em></strong> creat 4 memory box,which can store 4 array’s adresse respectively,by default value null would be stored in the 4 boxes,since we don’t instantiate the four array yet.by the left part of this equation one menory box would be created for array called Bamboozle,which point to the Earlier created 4 menory box.</p>
<p>+bamboozle[0]=new int[]{1,2,3,4};</p>
<p>Since <strong><em>bamboozle</em></strong> is a 2D array,the meaning of <strong><em>bamboozle[0]</em></strong>  is a memory box,which can store a address of 1D array.thus we can instantiate a Arrays and store it’s address in the menory box called <strong><em>bamboozle[0]</em></strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/07/cs%2061b%20java%20DLList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/07/cs%2061b%20java%20DLList/" class="post-title-link" itemprop="url">cs61b DLList</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-07 14:47:37" itemprop="dateCreated datePublished" datetime="2020-03-07T14:47:37+01:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-03-09 16:50:17" itemprop="dateModified" datetime="2020-03-09T16:50:17+01:00">2020-03-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="DLList"><a href="#DLList" class="headerlink" title="DLList"></a>DLList</h1><h2 id="Why-we-need-a-DLList"><a href="#Why-we-need-a-DLList" class="headerlink" title="Why we need a DLList"></a>Why we need a DLList</h2><p>wenn we thinking about the SLList,we can find that it is easy to add a item into the end of the list by using a new global variable called last,which record the position of the last element in the list.</p>
<p>But wenn we want to delete a item in the end of the list,it’s not enough to only record the position of the end of a list,since we need also to find out out the second to last item and then set it’s next poiter to be null,Adding a secondToLast will not help either,becaus then we need to find the third to last item in order to make sure <strong><em>secondTolast</em></strong> item and <strong><em>last</em></strong>.this cost is really high.</p>
<p>Therefor we need DLList etc.Doubly linked Lists.Every Item in DLList not only have the <strong><em>next</em></strong> variable but also a variable called <strong><em>privious</em></strong> so that every item is able to track it’s <strong><em>successor</em></strong> and <strong><em>predecessor</em></strong>.With this beautiful characteristic we can easily to remove the front and back of a list in consttant time.</p>
<h2 id="Two-different-way-to-implement-the-DLList"><a href="#Two-different-way-to-implement-the-DLList" class="headerlink" title="Two different way to implement the DLList"></a>Two different way to implement the DLList</h2><ol>
<li><p>the DLList with 2 Sentinel etc.one in the front and one in the back</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span>	</span>&#123;</span><br><span class="line">  <span class="comment">//Nested class</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span>	</span>&#123; <span class="comment">//anyone outsids the class can't access inside.anyone inside can't access outside too</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">    <span class="keyword">public</span> Intnode privious;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i,IntNode nextItem,IntNode priviousItem)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=nextItem;</span><br><span class="line">      privious=priviousItem;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentF;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentB;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//empty list</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">     sentF= <span class="keyword">new</span>	IntNode(<span class="number">66</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentB= <span class="keyword">new</span> IntNode(<span class="number">77</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentF.next=sentB;</span><br><span class="line">     sentB.privious=sentF;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span>	</span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     sentF= <span class="keyword">new</span>	IntNode(<span class="number">66</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentB= <span class="keyword">new</span> IntNode(<span class="number">77</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     IntNode firstItem=<span class="keyword">new</span> IntNode(x,sentB,sentF);</span><br><span class="line">     sentF.next=firstItem;</span><br><span class="line">     sentB.privious=firstItem;;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">   size++;</span><br><span class="line">   sentF.next=<span class="keyword">new</span> Intnode(i,sentF.next,sentF);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">return</span> sentF.next.item;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//iteration</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     Intnode p =sentB;</span><br><span class="line">     sentB.privious=<span class="keyword">new</span> IntNode(i,sentB,sentB.privious);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">   size--;</span><br><span class="line">   sentF.next=sentF.next.next;</span><br><span class="line">   sentF.next.privious=sentF;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">   size--;</span><br><span class="line">   sentB.privious=sentB.privious.privious;</span><br><span class="line">   sentB.privious.next=sentB;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">pubulic <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>An alternate approach is to implement the list so that is is circular,with the front and back pointers sharing the same sentinel node.</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span>	</span>&#123;</span><br><span class="line">  <span class="comment">//Nested class</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span>	</span>&#123; <span class="comment">//anyone outsids the class can't access inside.anyone inside can't access outside too</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">    <span class="keyword">public</span> Intnode privious;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i,IntNode nextItem,IntNode priviousItem)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=nextItem;</span><br><span class="line">      privious=priviousItem;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentinel;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//empty list</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">     sentinel= <span class="keyword">new</span>	IntNode(<span class="number">66</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentinel.next=sentinel;</span><br><span class="line">     sentinel.privious=sentiel;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span>	</span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     sentinel= <span class="keyword">new</span>	IntNode(<span class="number">66</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     IntNode firstItem=<span class="keyword">new</span> IntNode(x,sentinel,sentiel);</span><br><span class="line">     sentiel.next=firstItem;</span><br><span class="line">     sentiel.privious=firstItem;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">   size++;</span><br><span class="line">   sentinel.next=<span class="keyword">new</span> Intnode(i,sentinel.next,sentinel);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">return</span> sentinel.next.item;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//iteration</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     Intnode p =sentinel;</span><br><span class="line">     sentinel.privious=<span class="keyword">new</span> IntNode(i,sentinel,sentinel.privious);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">   size--;</span><br><span class="line">   sentiel.next=sentiel.next.next;</span><br><span class="line">   sentinel.next.privious=sentinel;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">   size--;</span><br><span class="line">   sentinel.privious=sentinel.privious.privious;</span><br><span class="line">   sentinel.privious.next=sentinel;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">pubulic <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Generic-DLList"><a href="#Generic-DLList" class="headerlink" title="Generic DLList"></a>Generic DLList</h3><p>we want our list to store not only the Item with Interger type but also other types such as string. instead of every time to creat an new programm which recgnize specific one type that we needed we use a different approach,which will allow us to,among other things ,create data structures that hold any reference type.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DLList</span>&lt;<span class="title">BleepBlorp</span>&gt;	</span>&#123;</span><br><span class="line">  <span class="comment">//Nested class</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span>	</span>&#123; <span class="comment">//anyone outsids the class can't access inside.anyone inside can't access outside too</span></span><br><span class="line">    <span class="keyword">public</span> BleepBlorp item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">    <span class="keyword">public</span> Intnode privious;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(BleepBlorp i,IntNode nextItem,IntNode priviousItem)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=nextItem;</span><br><span class="line">      privious=priviousItem;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentinel;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//empty list</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">DLList</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">     sentinel= <span class="keyword">new</span> IntNode(<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentinel.next=sentinel;</span><br><span class="line">     sentinel.privious=sentiel;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">DLList</span><span class="params">(BleepBlorp x)</span>	</span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     sentinel= <span class="keyword">new</span> IntNode(<span class="keyword">null</span>,<span class="keyword">null</span>,<span class="keyword">null</span>);</span><br><span class="line">     IntNode firstItem=<span class="keyword">new</span> IntNode(x,sentinel,sentiel);</span><br><span class="line">     sentiel.next=firstItem;</span><br><span class="line">     sentiel.privious=firstItem;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(BleepBlorp i)</span></span>&#123;</span><br><span class="line">   size++;</span><br><span class="line">   sentinel.next=<span class="keyword">new</span> Intnode(i,sentinel.next,sentinel);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   <span class="keyword">return</span> sentinel.next.item;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//iteration</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(BleepBlorp i)</span></span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     Intnode p =sentinel;</span><br><span class="line">     sentinel.privious=<span class="keyword">new</span> IntNode(i,sentinel,sentinel.privious);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">   size--;</span><br><span class="line">   sentiel.next=sentiel.next.next;</span><br><span class="line">   sentinel.next.privious=sentinel;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeLast</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">if</span>(size==<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">   size--;</span><br><span class="line">   sentinel.privious=sentinel.privious.privious;</span><br><span class="line">   sentinel.privious.next=sentinel;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">pubulic <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>now we’ve defined a generic version of the DLList class,we must also use a special syntax to instantiate thie class. to do so,we put the desired type inside of angle brackets during declaration,and also use empty angle brackets during instantiation.For example:</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DLList&lt;String&gt; d2&#x3D;new Dllist&lt;&gt;(&quot;hello&quot;);</span><br><span class="line">d2.addlast(&quot;world&quot;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>since generic only work with reference types,we cannot put primitives like <strong><em>int</em></strong> or <strong><em>double</em></strong> inside of angle brackets,e.g.<int>.Instead,we ues the reference version of the primitive type,which in the case of <strong><em>int</em></strong> case is <strong><em>Integer</em></strong>, e.g.</int></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DLList&lt;Interger&gt; d1=<span class="keyword">new</span> DLList&lt;&gt;(<span class="number">5</span>);</span><br><span class="line">d1.insertFrount(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>


<ul>
<li>In    the    .java    file    implementing    a    data    structure,    specify    your    generic    type    name    only once    at    the    very    top    of    the    file    after    the    class    name.</li>
<li>In other    .java    files,    which    use    your    data    structure,    specify    the    specific    desired    type during    declaration,    and    use    the    empty    diamond    operator    during    instantiation.</li>
<li>If    you    need    to    instantiate    a    generic    over    a    primitive    type,    use        Integer,Double,Character,Boolean,Long,Short,Byte,or Float    instead    of    their    primitive equivalents.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/07/cs61b%20java%20SLList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/07/cs61b%20java%20SLList/" class="post-title-link" itemprop="url">cs61b SLList</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-07 05:58:15 / Modified: 16:42:37" itemprop="dateCreated datePublished" datetime="2020-03-07T05:58:15+01:00">2020-03-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SLList"><a href="#SLList" class="headerlink" title="SLList"></a>SLList</h1><h2 id="why-we-need-a-new-way-to-implement-the-List-instead-of-using-the-Intlist-that-we-leaned-yesterday"><a href="#why-we-need-a-new-way-to-implement-the-List-instead-of-using-the-Intlist-that-we-leaned-yesterday" class="headerlink" title="why we need a new way to implement the List instead of using the Intlist that we leaned yesterday?"></a>why we need a new way to implement the List instead of using the Intlist that we leaned yesterday?</h2><p>the Reason is that the Intlist is what I so call neked recursive data structure.wenn we want to use the Intlist,we must known specificlly erverything about recursive,that is hard for freshman.therefore we creat a new class so called Intlist,which is more closely resembkes the  list implementation that programers use in modern language,etc.the SLList play a middle man to help us to go arount the discomfort recursive.</p>
<h2 id="the-basic-composition-of-the-Intlist"><a href="#the-basic-composition-of-the-Intlist" class="headerlink" title="the basic composition of the Intlist"></a>the basic composition of the Intlist</h2><h3 id="Intnode-class"><a href="#Intnode-class" class="headerlink" title="Intnode class"></a>Intnode class</h3><p> this is what we leaned yesterday etc.Intlist(recursive data structure),instead of using the name Intlist hier we use the name Intnode.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Intnode</span><span class="params">()</span></span>&#123;</span><br><span class="line">  Intnode next;</span><br><span class="line">  <span class="keyword">int</span> Item;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Intnode</span><span class="params">(<span class="keyword">int</span> i, Intnode L)</span></span>&#123;</span><br><span class="line">    item= i;</span><br><span class="line">    next=L;          <span class="comment">//construct a new Intnode in the list</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="SLList-1"><a href="#SLList-1" class="headerlink" title="SLList"></a>SLList</h3><h4 id="the-basic-function-of-the-SLList"><a href="#the-basic-function-of-the-SLList" class="headerlink" title="the basic function of the SLList"></a>the basic function of the SLList</h4> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SLList</span><span class="params">()</span></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> Intnode first;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">     first=<span class="keyword">new</span> Intnode(x,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> Now we kann get the point why SLList is better. compare of the two differnt implementation of the List etc. Intlist and SLList</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Intlist L1 =<span class="keyword">new</span> Intlist(<span class="number">5</span>,<span class="keyword">null</span>);</span><br><span class="line">SLList L1=<span class="keyword">new</span> SLList(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>SLList:for the user they don’t need to known there is a Null link behind the List,they can easily add the item 5 into the list.</p>
</blockquote>
<h4 id="addFirt-and-getFirst"><a href="#addFirt-and-getFirst" class="headerlink" title="addFirt and getFirst"></a>addFirt and getFirst</h4><p>the SLList is now still useless,we need couple function to let the SLList more effcient.</p>
<ul>
<li><p>addFirt</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">  first=<span class="keyword">new</span> Intnode(<span class="keyword">int</span> i, Intnode L)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>getFirst()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> first.item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="instatiation-a-List-using-SLList"><a href="#instatiation-a-List-using-SLList" class="headerlink" title="instatiation a List using SLList"></a>instatiation a List using SLList</h4><p>we use the SLList to get a list ,which 12 is the first element and 5 is the last element.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SLList l= <span class="keyword">new</span> SLList(<span class="number">5</span>);</span><br><span class="line">l.addFirt(<span class="number">10</span>);</span><br><span class="line">l.addFirt(<span class="number">12</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Improvement-1-public-vs-Private"><a href="#Improvement-1-public-vs-Private" class="headerlink" title="Improvement #1 :public vs. Private"></a>Improvement #1 :public vs. Private</h4><p>Difine a Metheod or a Member in a class we could ues differnt keyword etc.public or private.</p>
<ol>
<li>public<ul>
<li>the Metheod and Member of a class using Public can been accesed by anyone outside the class</li>
<li>wenn a public Metheod or Member of a class is commited,the menber’s hebavior schould remain exactly as it is now,forever.</li>
<li>a class could also been defined as public,anyone can acesse the inside of the class</li>
</ul>
</li>
</ol>
<p>2.private</p>
<ul>
<li>the Metheod and Member using Private can not been accesed by anyone outside the class</li>
<li>a class could also been defined as private,thats means no one can acesse the inside of the class</li>
</ul>
<h4 id="Improvement-2-Nested-Classes"><a href="#Improvement-2-Nested-Classes" class="headerlink" title="Improvement #2 :Nested Classes"></a>Improvement #2 :Nested Classes</h4><p>wenn aclass A is only benn used by clsaa B,we could put Class A anywhere in the Class B.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span>	</span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span>	</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i,IntNode n)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=n;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode first;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span>	</span>&#123;</span><br><span class="line">     first= <span class="keyword">new</span>	IntNode(x,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"> ...</span><br></pre></td></tr></table></figure>
<blockquote>
<p>note:wenn we insert the keyword Static into the declaration of the Nested Class,the Method or menber of the Nested clsaa could not acesse anything of the enclosing class etc.outsids world.</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*//the Method or menber of the Nested</span></span><br><span class="line"><span class="comment">class could not acesse anything of the enclosing class.*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*the Method or menber of the Nested clsaa</span></span><br><span class="line"><span class="comment">could not acesse anything of the enclosing</span></span><br><span class="line"><span class="comment">class，anyone outside the IntNode can not</span></span><br><span class="line"><span class="comment">acesse the inside of the Intnode too*/</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span></span>&#123;&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h4 id="Improvement-3-addLast-and-sive"><a href="#Improvement-3-addLast-and-sive" class="headerlink" title="Improvement #3 addLast() and sive()"></a>Improvement #3 addLast() and sive()</h4><p>To let our life a little bit more easier we add to methed into the SLList()</p>
<ul>
<li>addlast(int x)<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//iteration</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">  Intnode p =<span class="keyword">this</span>.first;</span><br><span class="line">  <span class="keyword">while</span>(p.next !=<span class="keyword">null</span>)&#123;</span><br><span class="line">    p=p.next;</span><br><span class="line">  &#125;</span><br><span class="line">  p.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>); <span class="comment">// note that the lastnode of a list always points to "null"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//recursion</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//so called helper Metheod that help us to get the lastnode of a List start with the Node P</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> IntNode <span class="title">getLastNode</span><span class="params">(IntNode p)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(p.next==<span class="keyword">null</span>)  <span class="comment">//basic case</span></span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">  <span class="keyword">return</span> getLastNode(p.next);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">  IntNode last=getlastNode(first);</span><br><span class="line">  last.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>size()<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//recursion</span></span><br><span class="line"><span class="comment">//so called helper Metheod that help us to count the element of a List start with the Node P</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">(Intnode p)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(p.next==<span class="keyword">null</span>)  <span class="comment">//basic case</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span>+getsize(p.next);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">publich <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> getSize(first);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h4 id="Improvement-4-the-more-effcient-way-to-implement-the-size-so-called-Caching"><a href="#Improvement-4-the-more-effcient-way-to-implement-the-size-so-called-Caching" class="headerlink" title="Improvement #4 :the more effcient way to implement the size() so called Caching"></a>Improvement #4 :the more effcient way to implement the size() so called Caching</h4><p>when we have a very lang list etc. 10000 element,the privious<br>implementation’cost is sehr high.(take 2000 second).</p>
<p>therefore we define a global variable “Size”to record the size of a list. wenn we add a element into the list,we increment the Size by one. By contrast we reduce the Size by one.</p>
<h4 id="Improvement-5-The-Empty-list"><a href="#Improvement-5-The-Empty-list" class="headerlink" title="Improvement #5 The Empty list"></a>Improvement #5 The Empty list</h4><p>the idea of the Empty List is that we could firstly implement a Empty list,wenn we don’t known yet what we would store in the list.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//basic idea is creat a constructor which can help us to get the Empty List</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span></span>&#123;</span><br><span class="line">  first=<span class="keyword">null</span>;</span><br><span class="line">  size=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Unfortunately there is a deadly Problem,wenn wenn add the construct into SLList();wenn wenn we try to use the methode addLast to add a element into the empty list,the programm will be crashed.since first is null,the attampt to access <strong><em>p.next</em></strong> in <strong><em>while(o.next !=null)</em></strong>  below causes a null pointer exception.(first 本来就是null,null 之后不可能有next!!!!)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//iteration</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">  size+=<span class="number">1</span>;</span><br><span class="line">  Intnode p =<span class="keyword">this</span>.first;</span><br><span class="line">  <span class="keyword">while</span>(p.next !=<span class="keyword">null</span>)&#123;</span><br><span class="line">    p=p.next;</span><br><span class="line">  &#125;</span><br><span class="line">  p.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>); <span class="comment">// note that the lastnode of a list always points to "null"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ugly way to fix the addLast()</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//iteration</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">  size+=<span class="number">1</span>;</span><br><span class="line">  Intnode p =<span class="keyword">this</span>.first;</span><br><span class="line">  <span class="keyword">if</span>(p==<span class="keyword">null</span>)&#123;</span><br><span class="line">    p=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span>(p.next !=<span class="keyword">null</span>)&#123;</span><br><span class="line">    p=p.next;</span><br><span class="line">  &#125;</span><br><span class="line">  p.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>); <span class="comment">// note that the lastnode of a list always points to "null"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Improvement-6-the-better-way-to-fix-the-crash-in-the-addlast-by-using-sentinel-node"><a href="#Improvement-6-the-better-way-to-fix-the-crash-in-the-addlast-by-using-sentinel-node" class="headerlink" title="Improvement #6 :the better way to fix the crash in the addlast() by using sentinel node"></a>Improvement #6 :the better way to fix the crash in the addlast() by using sentinel node</h4><p>the basic idea of s sentinel node is that the sentinel node is always there und hold a value,which we won’t care abour.a empty list with a sentinel node means that there is nothing follow the sentinel node etc.p is a sentinel node, p.next=null.And for a normal list the first element of the list is p.next.</p>
<h3 id="the-whole-story-of-the-SLList"><a href="#the-whole-story-of-the-SLList" class="headerlink" title="the whole story of the SLList"></a>the whole story of the SLList</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SLList</span>	</span>&#123;</span><br><span class="line">  <span class="comment">//Nested class</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span>	</span>&#123; <span class="comment">//anyone outsids the class can't access inside.anyone inside can't access outside too</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> item;</span><br><span class="line">    <span class="keyword">public</span> IntNode next;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="title">IntNode</span><span class="params">(<span class="keyword">int</span> i,IntNode n)</span></span>&#123;</span><br><span class="line">      item=i;</span><br><span class="line">      next=n;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">private</span> IntNode sentinel;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//empty list</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">()</span>	</span>&#123;</span><br><span class="line">     sentinel= <span class="keyword">new</span>	IntNode(<span class="number">66</span>,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">SLList</span><span class="params">(<span class="keyword">int</span> x)</span>	</span>&#123;</span><br><span class="line">    size++;</span><br><span class="line">     sentinel= <span class="keyword">new</span>	IntNode(<span class="number">66</span>,<span class="keyword">null</span>);</span><br><span class="line">     sentinel.next= <span class="keyword">new</span>	IntNode(x,<span class="keyword">null</span>);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirt</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">   size++;</span><br><span class="line">   sentinel.next=<span class="keyword">new</span> Intnode(i, sentinel.next)</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getFirst</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> sentinel.next.item;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//iteration</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">     size++;</span><br><span class="line">     Intnode p =sentinel;</span><br><span class="line">     <span class="keyword">while</span>(p.next !=<span class="keyword">null</span>)&#123;</span><br><span class="line">       p=p.next;</span><br><span class="line">     &#125;</span><br><span class="line">     p.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>); <span class="comment">// note that the lastnode of a list always points to "null"</span></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//recursion</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//so called helper Metheod that help us to get the lastnode of a List start with the Node P</span></span><br><span class="line">  <span class="function"><span class="keyword">private</span> IntNode <span class="title">getLastNode</span><span class="params">(IntNode p)</span></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(p.next==<span class="keyword">null</span>)  <span class="comment">//basic case</span></span><br><span class="line">       <span class="keyword">return</span> p;</span><br><span class="line">     <span class="keyword">return</span> getLastNode(p.next);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addlast</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;</span><br><span class="line">     IntNode last=getlastNode(sentinel);</span><br><span class="line">     last.next=<span class="keyword">new</span> IntNode(i,<span class="keyword">null</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function">pubulic <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> size;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/06/how%20to%20write%20blog%20with%20makedown%20grammar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar1.jpg">
      <meta itemprop="name" content="Yaoxin Jing">
      <meta itemprop="description" content="人生苦短，我学Java">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正经星人のBOKE">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2020/03/06/how%20to%20write%20blog%20with%20makedown%20grammar/" class="post-title-link" itemprop="url">how-to-write-blog-with-makedown-grammar</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-03-06 21:00:30 / Modified: 21:34:05" itemprop="dateCreated datePublished" datetime="2020-03-06T21:00:30+01:00">2020-03-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/" itemprop="url" rel="index"><span itemprop="name">文本编辑</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="makedown-语法"><a href="#makedown-语法" class="headerlink" title="makedown 语法"></a>makedown 语法</h1><h2 id="什么是”Makedown”语法"><a href="#什么是”Makedown”语法" class="headerlink" title="什么是”Makedown”语法"></a>什么是”Makedown”语法</h2><p>Makedown 语法是一种纯语言的文本编辑语言，它运用程序员写程序的思路，用类似于“编程语言”一样的语法，完成各种文本编辑、排版工作。</p>
<h2 id="Makedown语言的基本语法格式"><a href="#Makedown语言的基本语法格式" class="headerlink" title="Makedown语言的基本语法格式"></a>Makedown语言的基本语法格式</h2><h3 id="一、标题"><a href="#一、标题" class="headerlink" title="一、标题"></a>一、标题</h3><p>在设置为标题的文字前加“#”<br>一个“#”是一级标题， 两个“#”是二级标题，依次类推。最大支持六级标题</p>
<p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. #这是一级标题</span><br><span class="line">2. ##这是二级标题</span><br><span class="line">.......</span><br></pre></td></tr></table></figure>

<h3 id="二、列表"><a href="#二、列表" class="headerlink" title="二、列表"></a>二、列表</h3><h4 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h4><blockquote>
<p>含义</p>
</blockquote>
<p>无序列表代表没有前后顺序</p>
<blockquote>
<p>语法</p>
</blockquote>
<p>在每个列表项前添加以下任意符号即可“+ * -”</p>
<p><strong>注意：符号于列表项之间有一个空格</strong></p>
<blockquote>
<p>举例子</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">代码：</span><br><span class="line">* 我是列表项一</span><br><span class="line">+ 我是列表项二</span><br><span class="line">- 我是列表项三</span><br></pre></td></tr></table></figure>
<blockquote>
<p>效果</p>
</blockquote>
<ul>
<li>我是列表项一</li>
</ul>
<ul>
<li>我是列表项二</li>
</ul>
<ul>
<li>我是列表项三</li>
</ul>
<h4 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h4><p>用法与无序代码相同，只需要各个列表项之前加 “数字和.”即可</p>
<blockquote>
<p>举例子</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">代码：</span><br><span class="line">1. 我是列表项一</span><br></pre></td></tr></table></figure>

<blockquote>
<p>效果</p>
</blockquote>
<ol>
<li>我是列表项一</li>
</ol>
<h3 id="三、字体"><a href="#三、字体" class="headerlink" title="三、字体"></a>三、字体</h3><ul>
<li><p>加粗</p>
<p>要加粗的文字的两侧分别用“*” 号包起来</p>
</li>
<li><p>斜体</p>
<p>要倾斜的文字的两侧分别用两个“*”号包起来</p>
</li>
<li><p>斜体加粗</p>
<p>文字的两侧用分别用三个“*”号包起来</p>
</li>
</ul>
<h3 id="四、引用（可以当作分隔符）"><a href="#四、引用（可以当作分隔符）" class="headerlink" title="四、引用（可以当作分隔符）"></a>四、引用（可以当作分隔符）</h3><ul>
<li><p>用法：<br>文字前加“&gt;”</p>
</li>
<li><p>举例子</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">代码</span><br><span class="line">&gt;我是引用，也是分隔符</span><br></pre></td></tr></table></figure>

<ul>
<li>效果<blockquote>
<p>我是一个引用，也可以当作分隔符</p>
</blockquote>
</li>
</ul>
<h3 id="五，代码"><a href="#五，代码" class="headerlink" title="五，代码"></a>五，代码</h3><p>语法：</p>
<p>单行代码：代码首尾之间分别用一个反引号“ ` ” 包起来</p>
<p>多行代码：代码首尾之间分别用“ ``` ” 包起来</p>
<h3 id="六、图片和超链接"><a href="#六、图片和超链接" class="headerlink" title="六、图片和超链接"></a>六、图片和超链接</h3><ul>
<li><p><strong><em>超链接</em></strong></p>
<ol>
<li><p>语法</p>
<p><code>[链接名称](链接地址)</code></p>
</li>
</ol>
</li>
</ul>
<ol start="2">
<li><p>举例子</p>
<p> <a href="https://weibo.com/u/3170488771" target="_blank" rel="noopener">我的微博</a></p>
</li>
</ol>
<ul>
<li><p><strong><em>图片</em></strong></p>
<ol>
<li>语法<br><code>![图片名称](图片链接)</code></li>
</ol>
<p>2.举例子</p>
</li>
</ul>
<pre><code>![我](\myblog\source\posts\IMG_9565.jpg)</code></pre>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yaoxin Jing"
      src="/images/avatar1.jpg">
  <p class="site-author-name" itemprop="name">Yaoxin Jing</p>
  <div class="site-description" itemprop="description">人生苦短，我学Java</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yaoxinjing" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yaoxinjing" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yaoxinjing@gmail.com" title="E-Mail → mailto:yaoxinjing@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/u/3170488771" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;u&#x2F;3170488771" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yaoxin jing</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  <script type="text/javascript" color="0,0,0" opacity='0.5' zIndex="-1" count="99" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
</body>
</html>
